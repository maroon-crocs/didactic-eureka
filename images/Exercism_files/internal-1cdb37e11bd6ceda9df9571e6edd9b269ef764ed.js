import{a as ro}from"./chunk-ON57J5HQ.js";import{A as ru,D as hs,E as nu,F as ou,G as su,H as iu,I as au,a as Ca,b as st,c as je,d as qt,e as ja,f as Qa,i as Wa,j as Ya,k as Va,m as Ka,n as za,o as $a,p as Za,q as Ra,t as to,u as fs,x as eu,y as tu}from"./chunk-IV3VOSXA.js";import{$ as Te,A as an,B as oe,Ba as Ha,C as G,E as zn,Ea as Ga,F as N,Fa as eo,G as Aa,H as Ia,I as se,J as _,K as Ve,L as V,Q as Fa,R as La,S as Be,T as ms,U as $n,V as Da,W as Oa,aa as ds,ba as ot,ca as cs,d as Ta,e as wa,ea as Mr,f as jr,fa as Pr,ga as ee,h as _e,ha as Le,ia as qa,j as A,ja as _a,k as Ma,ka as Ba,la as Ua,m as M,ma as Ja,o as Z,p as Kn,q as y,r as nt,ra as Zn,s as ls,sa as Rn,t as pe,ta as Ue,u as Pa,v as w,w as sn,x as Ot,xa as Xa,y as Ae,z as vt,za as ps}from"./chunk-HGWQX4SR.js";import{b as f}from"./chunk-LSKTMBWE.js";import"./chunk-2SDIILFJ.js";import"./chunk-G5CTFEB5.js";import{a as h,b as S,d as O,e as Xc,f as p}from"./chunk-DVVQMGZT.js";var lu=Xc((uu,gs)=>{(function(){var e=this;(function(){(function(){var r=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(n){var o;return n==null&&(n=(o=this.getConfig("url"))!=null?o:this.INTERNAL.default_mount_path),new t.Consumer(this.createWebSocketURL(n))},getConfig:function(n){var o;return o=document.head.querySelector("meta[name='action-cable-"+n+"']"),o!=null?o.getAttribute("content"):void 0},createWebSocketURL:function(n){var o;return n&&!/^wss?:/i.test(n)?(o=document.createElement("a"),o.href=n,o.href=o.href,o.protocol=o.protocol.replace("http","ws"),o.href):n},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var n,o;if(n=1<=arguments.length?r.call(arguments,0):[],this.debugging)return n.push(Date.now()),(o=this.logger).log.apply(o,["[ActionCable]"].concat(r.call(n)))}}}).call(this)}).call(e);var t=e.ActionCable;(function(){(function(){var r=function(n,o){return function(){return n.apply(o,arguments)}};t.ConnectionMonitor=function(){var n,o,s;i.pollInterval={min:3,max:30},i.staleThreshold=6;function i(a){this.connection=a,this.visibilityDidChange=r(this.visibilityDidChange,this),this.reconnectAttempts=0}return i.prototype.start=function(){if(!this.isRunning())return this.startedAt=o(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},i.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=o(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor stopped")},i.prototype.isRunning=function(){return this.startedAt!=null&&this.stoppedAt==null},i.prototype.recordPing=function(){return this.pingedAt=o()},i.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,t.log("ConnectionMonitor recorded connect")},i.prototype.recordDisconnect=function(){return this.disconnectedAt=o(),t.log("ConnectionMonitor recorded disconnect")},i.prototype.startPolling=function(){return this.stopPolling(),this.poll()},i.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},i.prototype.poll=function(){return this.pollTimeout=setTimeout(function(a){return function(){return a.reconnectIfStale(),a.poll()}}(this),this.getPollInterval())},i.prototype.getPollInterval=function(){var a,u,l,d;return d=this.constructor.pollInterval,l=d.min,u=d.max,a=5*Math.log(this.reconnectAttempts+1),Math.round(n(a,l,u)*1e3)},i.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return t.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+s(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?t.log("ConnectionMonitor skipping reopening recent disconnect"):(t.log("ConnectionMonitor reopening"),this.connection.reopen())},i.prototype.connectionIsStale=function(){var a;return s((a=this.pingedAt)!=null?a:this.startedAt)>this.constructor.staleThreshold},i.prototype.disconnectedRecently=function(){return this.disconnectedAt&&s(this.disconnectedAt)<this.constructor.staleThreshold},i.prototype.visibilityDidChange=function(){if(document.visibilityState==="visible")return setTimeout(function(a){return function(){if(a.connectionIsStale()||!a.connection.isOpen())return t.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),a.connection.reopen()}}(this),200)},o=function(){return new Date().getTime()},s=function(a){return(o()-a)/1e3},n=function(a,u,l){return Math.max(u,Math.min(l,a))},i}()}).call(this),function(){var r,n,o,s,i,a,u=[].slice,l=function(c,m){return function(){return c.apply(m,arguments)}},d=[].indexOf||function(c){for(var m=0,g=this.length;m<g;m++)if(m in this&&this[m]===c)return m;return-1};s=t.INTERNAL,n=s.message_types,o=s.protocols,i=2<=o.length?u.call(o,0,r=o.length-1):(r=0,[]),a=o[r++],t.Connection=function(){c.reopenDelay=500;function c(m){this.consumer=m,this.open=l(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new t.ConnectionMonitor(this),this.disconnected=!0}return c.prototype.send=function(m){return this.isOpen()?(this.webSocket.send(JSON.stringify(m)),!0):!1},c.prototype.open=function(){return this.isActive()?(t.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(t.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+o),this.webSocket!=null&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,o),this.installEventHandlers(),this.monitor.start(),!0)},c.prototype.close=function(m){var g,v;if(g=(m!=null?m:{allowReconnect:!0}).allowReconnect,g||this.monitor.stop(),this.isActive())return(v=this.webSocket)!=null?v.close():void 0},c.prototype.reopen=function(){var m;if(t.log("Reopening WebSocket, current state is "+this.getState()),this.isActive())try{return this.close()}catch(g){return m=g,t.log("Failed to reopen WebSocket",m)}finally{t.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()},c.prototype.getProtocol=function(){var m;return(m=this.webSocket)!=null?m.protocol:void 0},c.prototype.isOpen=function(){return this.isState("open")},c.prototype.isActive=function(){return this.isState("open","connecting")},c.prototype.isProtocolSupported=function(){var m;return m=this.getProtocol(),d.call(i,m)>=0},c.prototype.isState=function(){var m,g;return g=1<=arguments.length?u.call(arguments,0):[],m=this.getState(),d.call(g,m)>=0},c.prototype.getState=function(){var m,g,v;for(g in WebSocket)if(v=WebSocket[g],v===((m=this.webSocket)!=null?m.readyState:void 0))return g.toLowerCase();return null},c.prototype.installEventHandlers=function(){var m,g;for(m in this.events)g=this.events[m].bind(this),this.webSocket["on"+m]=g},c.prototype.uninstallEventHandlers=function(){var m;for(m in this.events)this.webSocket["on"+m]=function(){}},c.prototype.events={message:function(m){var g,v,b,k;if(!!this.isProtocolSupported())switch(b=JSON.parse(m.data),g=b.identifier,v=b.message,k=b.type,k){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(g,"connected");case n.rejection:return this.subscriptions.reject(g);default:return this.subscriptions.notify(g,"received",v)}},open:function(){if(t.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return t.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(m){if(t.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return t.log("WebSocket onerror event")}},c}()}.call(this),function(){var r=[].slice;t.Subscriptions=function(){function n(o){this.consumer=o,this.subscriptions=[]}return n.prototype.create=function(o,s){var i,a,u;return i=o,a=typeof i=="object"?i:{channel:i},u=new t.Subscription(this.consumer,a,s),this.add(u)},n.prototype.add=function(o){return this.subscriptions.push(o),this.consumer.ensureActiveConnection(),this.notify(o,"initialized"),this.sendCommand(o,"subscribe"),o},n.prototype.remove=function(o){return this.forget(o),this.findAll(o.identifier).length||this.sendCommand(o,"unsubscribe"),o},n.prototype.reject=function(o){var s,i,a,u,l;for(a=this.findAll(o),u=[],s=0,i=a.length;s<i;s++)l=a[s],this.forget(l),this.notify(l,"rejected"),u.push(l);return u},n.prototype.forget=function(o){var s;return this.subscriptions=function(){var i,a,u,l;for(u=this.subscriptions,l=[],i=0,a=u.length;i<a;i++)s=u[i],s!==o&&l.push(s);return l}.call(this),o},n.prototype.findAll=function(o){var s,i,a,u,l;for(a=this.subscriptions,u=[],s=0,i=a.length;s<i;s++)l=a[s],l.identifier===o&&u.push(l);return u},n.prototype.reload=function(){var o,s,i,a,u;for(i=this.subscriptions,a=[],o=0,s=i.length;o<s;o++)u=i[o],a.push(this.sendCommand(u,"subscribe"));return a},n.prototype.notifyAll=function(){var o,s,i,a,u,l,d;for(s=arguments[0],o=2<=arguments.length?r.call(arguments,1):[],u=this.subscriptions,l=[],i=0,a=u.length;i<a;i++)d=u[i],l.push(this.notify.apply(this,[d,s].concat(r.call(o))));return l},n.prototype.notify=function(){var o,s,i,a,u,l,d;for(l=arguments[0],s=arguments[1],o=3<=arguments.length?r.call(arguments,2):[],typeof l=="string"?d=this.findAll(l):d=[l],u=[],i=0,a=d.length;i<a;i++)l=d[i],u.push(typeof l[s]=="function"?l[s].apply(l,o):void 0);return u},n.prototype.sendCommand=function(o,s){var i;return i=o.identifier,this.consumer.send({command:s,identifier:i})},n}()}.call(this),function(){t.Subscription=function(){var r;function n(o,s,i){this.consumer=o,s==null&&(s={}),this.identifier=JSON.stringify(s),r(this,i)}return n.prototype.perform=function(o,s){return s==null&&(s={}),s.action=o,this.send(s)},n.prototype.send=function(o){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(o)})},n.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},r=function(o,s){var i,a;if(s!=null)for(i in s)a=s[i],o[i]=a;return o},n}()}.call(this),function(){t.Consumer=function(){function r(n){this.url=n,this.subscriptions=new t.Subscriptions(this),this.connection=new t.Connection(this)}return r.prototype.send=function(n){return this.connection.send(n)},r.prototype.connect=function(){return this.connection.open()},r.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},r.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},r}()}.call(this)}).call(this),typeof gs=="object"&&gs.exports?gs.exports=t:typeof define=="function"&&define.amd&&define(t)}).call(uu)});var te=p(f());var De=p(f()),Vh=p(lu());function Hc({uuid:e,track:t,exercise:r,testsStatus:n,representationStatus:o,analysisStatus:s}){return De.default.createElement("tr",null,De.default.createElement("td",null,e),De.default.createElement("td",null,t),De.default.createElement("td",null,r),De.default.createElement("td",null,n),De.default.createElement("td",null,o),De.default.createElement("td",null,s))}function Ei({submissions:e}){let[t,r]=(0,De.useState)(e);return(0,De.useEffect)(()=>{let n=s=>{let i=[...t],a=i.findIndex(u=>u.uuid===s.submission.uuid);a!==-1?i[a]=s.submission:i.unshift(s.submission),r(i)},o=Pr.subscriptions.create({channel:"SubmissionChannel"},{received:n});return()=>o.unsubscribe()}),De.default.createElement("table",null,De.default.createElement("thead",null,De.default.createElement("tr",null,De.default.createElement("th",null,"ID"),De.default.createElement("th",null,"Track"),De.default.createElement("th",null,"Exercise"),De.default.createElement("th",null,"Test status"),De.default.createElement("th",null,"Representation status"),De.default.createElement("th",null,"Analyses status"))),De.default.createElement("tbody",null,t.map(n=>De.default.createElement(Hc,{key:n.uuid,uuid:n.uuid,track:n.track,exercise:n.exercise,testsStatus:n.testsStatus,representationStatus:n.representationStatus,analysisStatus:n.analysisStatus}))))}var Ke=p(f());var Ze=p(f());var Gt=p(f());var mu=({discussion:e})=>Gt.default.createElement("a",{className:"--solution",href:e.links.self},Gt.default.createElement(pe,{title:e.track.title,iconUrl:e.track.iconUrl}),Gt.default.createElement(Ot,{title:e.exercise.title,iconUrl:e.exercise.iconUrl}),Gt.default.createElement(oe,{src:e.student.avatarUrl,handle:e.student.handle}),Gt.default.createElement("div",{className:"--info"},Gt.default.createElement("div",{className:"--handle"},e.student.handle,e.student.isFavorited?Gt.default.createElement(w,{icon:"gold-star",alt:"Favorite student",className:"favorited"}):null),Gt.default.createElement("div",{className:"--exercise-title"},"on ",e.exercise.title)),Gt.default.createElement("div",{className:"--comments-count"},Gt.default.createElement(w,{icon:"comment",alt:"{discussion.postsCount} comments"}),e.postsCount),Gt.default.createElement("time",{className:"-updated-at"},Be(e.updatedAt)),Gt.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));var du=({resolvedData:e,latestData:t,refetch:r,status:n,setPage:o,links:s})=>Ze.default.createElement("div",null,n==="loading"&&Ze.default.createElement(Ae,null),n==="error"&&Ze.default.createElement(Ze.default.Fragment,null,Ze.default.createElement("p",null,"Something went wrong"),Ze.default.createElement("button",{onClick:()=>r(),"aria-label":"Retry"},"Retry")),n==="success"&&(e&&e.results.length===0?Ze.default.createElement(Ze.default.Fragment,null,Ze.default.createElement("div",{className:"--no-results"},Ze.default.createElement(y,{icon:"mentoring",category:"graphics"}),Ze.default.createElement("h3",null,"No mentoring discussions"),Ze.default.createElement("a",{href:s.queue,className:"btn-simple"},"Mentor a new solution"))):Ze.default.createElement("div",{className:"--conversations"},e&&Ze.default.createElement(Ze.default.Fragment,null,e.results.map((i,a)=>Ze.default.createElement(mu,{key:a,discussion:i})),Ze.default.createElement("footer",null,Ze.default.createElement(vt,{disabled:t===void 0,current:e.meta.currentPage,total:e.meta.totalPages,setPage:o}))))));var vs=p(f()),ys=({status:e,currentStatus:t,setStatus:r,children:n})=>{let o=(0,vs.useCallback)(()=>{r(e)},[r,e]),s=t===e;return vs.default.createElement("button",{type:"button",onClick:o,disabled:s,className:`c-tab ${s?"selected":null}`},n)};var cu=p(f()),bs=({setFilter:e,id:t,filter:r="",placeholder:n})=>cu.default.createElement("input",{id:t,onChange:o=>e(o.target.value),value:r,placeholder:n,className:"--search"});var no=p(f());var pu=({option:e})=>no.default.createElement(no.default.Fragment,null,e.label),Ss=({setOrder:e,order:t,sortOptions:r})=>{let n=r.find(s=>s.value===t)||r[0],o=(0,no.useCallback)(s=>{e(s.value)},[e]);return no.default.createElement(Ue,{options:r,value:n,setValue:o,SelectedComponent:pu,OptionComponent:pu})};var Io=p(f());var Zt=p(f());var jc=({option:e})=>Zt.default.createElement(Zt.default.Fragment,null,Zt.default.createElement(to,{track:e}),Zt.default.createElement("div",{className:"title"},e.title),Zt.default.createElement("div",{className:"count"},e.count)),Qc=({option:e})=>Zt.default.createElement("div",null,Zt.default.createElement(to,{track:e}),Zt.default.createElement("div",{className:"sr-only"},e.title)),fu=({tracks:e,value:t,setTrack:r})=>{let n=e.find(s=>s.slug===t)||e[0],o=(0,Zt.useCallback)(s=>{r(s.slug)},[r]);return Zt.default.createElement(fs,{tracks:e,value:n,setValue:o,OptionComponent:jc,SelectedComponent:Qc,size:"inline"})};var hu=({request:e,value:t,setTrack:r})=>{let{isLoading:n,isError:o,data:s}=Kn(["track-filter",e.query],e);return Io.default.createElement("div",{className:"c-track-filter"},n&&Io.default.createElement(Ae,null),o&&Io.default.createElement("p",null,"Something went wrong"),s&&Io.default.createElement(fu,{tracks:s,setTrack:r,value:t}))};var xi=({tracksRequest:e,sortOptions:t,discussionsRequest:r,links:n})=>{var E;let[o,s]=(0,Ke.useState)(((E=r.query)==null?void 0:E.criteria)||""),{request:i,setCriteria:a,setOrder:u,setPage:l,setQuery:d}=st(r),{status:c,resolvedData:m,latestData:g,isFetching:v,refetch:b}=Z(["mentor-discussion-list",i.endpoint,i.query],i);(0,Ke.useEffect)(()=>{let T=setTimeout(()=>{a(o)},200);return()=>{clearTimeout(T)}},[a,o]),qt({pushOn:je(i.query)});let k=T=>{d(S(h({},i.query),{trackSlug:T,page:void 0}))},I=T=>{d(S(h({},i.query),{status:T,page:void 0}))};return Ke.default.createElement("div",{className:"c-mentor-inbox"},Ke.default.createElement("div",{className:"tabs"},Ke.default.createElement(ys,{status:"awaiting_mentor",currentStatus:i.query.status,setStatus:I},"Inbox",m?Ke.default.createElement("div",{className:"count"},m.meta.awaitingMentorTotal):null),Ke.default.createElement(ys,{status:"awaiting_student",currentStatus:i.query.status,setStatus:I},"Awaiting student",m?Ke.default.createElement("div",{className:"count"},m.meta.awaitingStudentTotal):null),Ke.default.createElement(ys,{status:"finished",currentStatus:i.query.status,setStatus:I},"Finished",m?Ke.default.createElement("div",{className:"count"},m.meta.finishedTotal):null)),Ke.default.createElement("div",{className:"container"},Ke.default.createElement("header",{className:"c-search-bar"},Ke.default.createElement(hu,{request:S(h({},e),{query:{status:i.query.status}}),value:i.query.trackSlug||null,setTrack:k}),Ke.default.createElement(bs,{filter:o,setFilter:s,id:"discussion-filter",placeholder:"Filter by student or exercise name"}),Ke.default.createElement(Ss,{sortOptions:t,order:i.query.order,setOrder:u})),Ke.default.createElement(Te,{isFetching:v},Ke.default.createElement(du,{latestData:g,resolvedData:m,status:c,refetch:b,setPage:l,links:n}))))};var Je=p(f());var gu=({cacheKey:e,request:t})=>{let{resolvedData:r,isFetching:n,status:o,error:s}=Z(e,t);return{tracks:r?r.tracks:[],status:o,error:s,isFetching:n}};var vu=({track:e})=>{let{resolvedData:t,status:r,isFetching:n,error:o}=Z(["mentored-exercises",e==null?void 0:e.slug],{endpoint:e==null?void 0:e.links.exercises,options:{enabled:!!e,staleTime:0,cacheTime:0,initialData:(e==null?void 0:e.exercises)?e.exercises:void 0}});return{exercises:t,status:r,isFetching:n,error:o}};var bu=p(f());var ks=p(f());function yu(e,t){let[r,n]=(0,ks.useState)(e);return(0,ks.useEffect)(()=>{let o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}var Su=({request:e,track:t,exercise:r})=>{let{request:n,setCriteria:o,setOrder:s,setPage:i}=st(e),a=t==null?void 0:t.slug,u=r==null?void 0:r.slug,l=(0,bu.useMemo)(()=>S(h({},n.query),{trackSlug:a,exerciseSlug:u}),[u,n.query,a]),d=yu(l,500),{resolvedData:c,latestData:m,isFetching:g,status:v,error:b}=Z(["mentoring-request",d],S(h({},n),{query:d,options:S(h({},n.options),{enabled:!!t})}));return qt({pushOn:d}),{resolvedData:c,latestData:m,status:v,isFetching:g,criteria:n.query.criteria,setCriteria:o,order:n.query.order,setOrder:s,page:n.query.page,setPage:i,error:b}};var de=p(f());var Qr=p(f());var hr=p(f());var Ir=p(f());var Ar=p(f()),ku=p(nt());var Eu=({slug:e,title:t,iconUrl:r,medianWaitTime:n,numSolutionsQueued:o,checked:s,onChange:i})=>Ar.default.createElement("div",{className:"track"},Ar.default.createElement("input",{type:"checkbox",id:e,checked:s,onChange:i,"aria-labelledby":`${e}-label`}),Ar.default.createElement("label",{className:"track",htmlFor:e,id:`${e}-label`},s?Ar.default.createElement("div",{className:"selected-icon"},Ar.default.createElement(w,{icon:"checkmark",alt:"Track selected"})):null,Ar.default.createElement(pe,{iconUrl:r,title:t}),Ar.default.createElement("div",{className:"title"},t),Ar.default.createElement("div",{className:"info"},Ar.default.createElement(eo,{seconds:n}),o," ",(0,ku.default)("solution",o)," ","queued")));var Wc=()=>Ir.default.createElement("p",null,"No tracks found"),Yc=({tracks:e,selected:t,setSelected:r})=>{let n=(0,Ir.useCallback)((o,s)=>{o.target.checked?r([...t,s]):r(t.filter(i=>i!==s))},[t,r]);return Ir.default.createElement(Ir.default.Fragment,null,e.map(o=>Ir.default.createElement(Eu,S(h({key:o.slug},o),{checked:t.includes(o.slug),onChange:s=>n(s,o.slug)}))))},Vc=new Error("Unable to fetch tracks"),xu=({status:e,error:t,selected:r,setSelected:n,data:o})=>Ir.default.createElement(V,{status:e,error:t,defaultError:Vc},o===void 0||o.tracks.length===0?Ir.default.createElement(Wc,null):Ir.default.createElement(Yc,{tracks:o.tracks,selected:r,setSelected:n}));var Nu=p(f()),Tu=p(nt()),wu=({numSelected:e})=>{let t=["selected",e===0?"none":""].filter(n=>n!==""),r=e===0?"No tracks selected":`${e} ${(0,Tu.default)("track",e)} selected`;return Nu.default.createElement("div",{className:t.join(" ")},r)};var Ni=p(f()),Cu=e=>Ni.default.createElement("button",h({className:"btn-primary btn-m"},e),Ni.default.createElement("span",null,"Continue"));var Es=p(f()),Mu=({value:e,setValue:t})=>{let r=(0,Es.useCallback)(n=>{t(n.target.value)},[t]);return Es.default.createElement("input",{className:"--search",value:e,onChange:r})};var xs=({tracksEndpoint:e,selected:t,setSelected:r,onContinue:n})=>{let{request:o,setCriteria:s}=st({endpoint:e,options:{}}),{status:i,resolvedData:a,isFetching:u,error:l}=Z(["tracks",o.endpoint,o.query],o),d=(0,hr.useCallback)(()=>{n()},[n]);return hr.default.createElement("div",{className:"c-mentor-track-selector"},hr.default.createElement("div",{className:"c-search-bar"},hr.default.createElement(Mu,{value:o.query.criteria||"",setValue:s}),hr.default.createElement(wu,{numSelected:t.length}),hr.default.createElement(Cu,{disabled:t.length===0,onClick:d})),hr.default.createElement(Te,{isFetching:u},hr.default.createElement("div",{className:"tracks"},hr.default.createElement(xu,{status:i,selected:t,setSelected:r,data:a,error:l}))))};var Pu=i=>{var a=i,{onClose:e,tracks:t,cacheKey:r,links:n,onSuccess:o}=a,s=O(a,["onClose","tracks","cacheKey","links","onSuccess"]);let u=_e(),[l,d]=(0,Qr.useState)(t.map(m=>m.slug)),[c]=A(()=>{let{fetch:m}=M({endpoint:n.updateTracks,method:"PATCH",body:JSON.stringify({track_slugs:l})});return m},{onSuccess:m=>{u.setQueryData(r,m),o()},onSettled:()=>{u.invalidateQueries(r)}});return Qr.default.createElement(G,S(h({},s),{onClose:e,className:"m-change-mentor-tracks",cover:!1}),Qr.default.createElement("header",null,Qr.default.createElement("div",{className:"info"},Qr.default.createElement("h2",null,"Change the Tracks you mentor"),Qr.default.createElement("p",null,"You will still be able to continue any existing discussions on other tracks."))),Qr.default.createElement(xs,{selected:l,setSelected:d,tracksEndpoint:n.tracks,onContinue:()=>c()}))};var Kc=({title:e,iconUrl:t,numSolutionsQueued:r,checked:n,onChange:o})=>de.default.createElement("label",{className:"c-radio-wrapper"},de.default.createElement("input",{type:"radio",onChange:o,checked:n,name:"queue_track"}),de.default.createElement("div",{className:"row"},de.default.createElement(pe,{iconUrl:t,title:e}),de.default.createElement("div",{className:"title"},e),de.default.createElement("div",{className:"count"},r))),zc=new Error("Unable to fetch tracks"),Au=o=>{var s=o,{status:e,error:t,children:r}=s,n=O(s,["status","error","children"]);return de.default.createElement(V,{error:t,status:e,defaultError:zc},de.default.createElement($c,h({},n),r))},$c=({tracks:e,isFetching:t,value:r,setValue:n,cacheKey:o,links:s})=>{let i=(0,de.useRef)(null),[a,u]=(0,de.useState)(!1),{buttonAttributes:l,panelAttributes:d,listAttributes:c,itemAttributes:m,setOpen:g,open:v}=Mr(((e==null?void 0:e.length)||0)+1,k=>b(k),{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),b=(0,de.useCallback)(k=>{var E;if(!e)return;e[k]?n(e[k]):(E=i.current)==null||E.click(),g(!1)},[n,e,g]);return e?de.default.createElement("div",{className:"c-single-select c-track-select --size-large"},de.default.createElement(Te,{isFetching:t},de.default.createElement("button",h({className:"current-track","aria-label":"Open the track filter"},l),de.default.createElement(pe,{iconUrl:r.iconUrl,title:r.title}),de.default.createElement("div",{className:"track-title"},r.title),de.default.createElement("div",{className:"count"},r.numSolutionsQueued),de.default.createElement(w,{icon:"chevron-down",alt:"Click to change",className:"action-icon"}))),v?de.default.createElement("div",S(h({},d),{className:"--options"}),de.default.createElement("ul",h({},c),e.map((k,I)=>de.default.createElement("li",h({key:k.slug},m(I)),de.default.createElement(Kc,h({onChange:()=>{n(k),g(!1)},checked:r.slug===k.slug},k)))),de.default.createElement("li",h({key:"change-tracks"},m(e.length)),de.default.createElement("button",{ref:i,type:"button",onClick:()=>{u(!0),g(!1)}},de.default.createElement(y,{icon:"reset"}),"Change the tracks you mentor")))):null,de.default.createElement(Pu,{open:a,tracks:e,cacheKey:o,links:s,onClose:()=>u(!1),onSuccess:()=>{u(!1),g(!1)}})):null};var U=p(f());var Zc=({count:e,checked:t,onChange:r})=>U.default.createElement("label",{className:"c-radio-wrapper"},U.default.createElement("input",{type:"radio",onChange:r,checked:t}),U.default.createElement("div",{className:"row"},U.default.createElement("div",{className:"c-radio"}),U.default.createElement(y,{icon:"exercise",category:"graphics"}),U.default.createElement("div",{className:"title"},"All exercises"),U.default.createElement("div",{className:"count"},e))),Rc=({title:e,iconUrl:t,count:r,checked:n,onChange:o})=>{let s=`c-radio-wrapper ${r==0?"zero":null}`;return U.default.createElement("label",{className:s},U.default.createElement("input",{type:"radio",onChange:o,checked:n}),U.default.createElement("div",{className:"row"},U.default.createElement("div",{className:"c-radio"}),U.default.createElement(Ot,{iconUrl:t}),U.default.createElement("div",{className:"title"},e),U.default.createElement("div",{className:"count"},r)))},ep=new Error("Unable to fetch exercises"),Iu=n=>{var o=n,{status:e,error:t}=o,r=O(o,["status","error"]);return U.default.createElement(V,{error:t,status:e,defaultError:ep},U.default.createElement(tp,h({},r)))},tp=({exercises:e,value:t,setValue:r})=>{let[n,o]=(0,U.useState)(""),[s,i]=(0,U.useState)(!0),[a,u]=(0,U.useState)(!1),l=(0,U.useMemo)(()=>e?e.filter(g=>g.slug===(t==null?void 0:t.slug)?!0:s?g.count!==0:!0).filter(g=>g.slug===(t==null?void 0:t.slug)?!0:a?g.completedByMentor:!0).filter(g=>g.title.match(new RegExp(`^${n}`,"i"))):[],[e,a,s,n,t==null?void 0:t.slug]),d=(0,U.useCallback)((g,v)=>{o(""),r(v)},[r]),c=(0,U.useCallback)(g=>{!e||(u(g.target.checked),r(null))},[e,r]),m=(0,U.useCallback)(g=>{o(g.target.value)},[]);return(0,U.useEffect)(()=>{o(""),i(!0),u(!1)},[JSON.stringify(e)]),U.default.createElement(U.default.Fragment,null,U.default.createElement("div",{className:"exercise-filter"},U.default.createElement("div",{className:"c-search-bar"},U.default.createElement("input",{value:n,onChange:m,className:"--search",placeholder:"Search by Exercise name"})),U.default.createElement("label",{className:"c-checkbox-wrapper filter"},U.default.createElement("input",{type:"checkbox",checked:s,onChange:()=>i(!s)}),U.default.createElement("div",{className:"row"},U.default.createElement("div",{className:"c-checkbox"},U.default.createElement(y,{icon:"checkmark"})),"Only show exercises that need mentoring")),U.default.createElement("label",{className:"c-checkbox-wrapper filter"},U.default.createElement("input",{type:"checkbox",checked:a,onChange:c}),U.default.createElement("div",{className:"row"},U.default.createElement("div",{className:"c-checkbox"},U.default.createElement(y,{icon:"checkmark"})),"Only show exercises I've completed"))),U.default.createElement("div",{className:"exercises"},U.default.createElement(Zc,{key:"all",onChange:g=>d(g,null),checked:t===null,count:(e==null?void 0:e.reduce((g,v)=>g+v.count,0))||0}),l.map(g=>U.default.createElement(Rc,h({key:g.slug,onChange:v=>d(v,g),checked:(t==null?void 0:t.slug)===g.slug},g)))))};var gr=p(f());var _t=p(f());var Fu=({studentAvatarUrl:e,studentHandle:t,exerciseTitle:r,exerciseIconUrl:n,isFavorited:o,haveMentoredPreviously:s,status:i,updatedAt:a,url:u,tooltipUrl:l})=>_t.default.createElement(wa,{content:_t.default.createElement(Ra,{endpoint:l})},_t.default.createElement("a",{href:u,className:"--solution"},_t.default.createElement(Ot,{title:r,iconUrl:n}),_t.default.createElement(oe,{src:e,handle:t}),_t.default.createElement("div",{className:"--info"},_t.default.createElement("div",{className:"--handle"},t,o?_t.default.createElement(w,{icon:"gold-star",alt:"Favorite student",className:"favorited"}):s?_t.default.createElement(w,{icon:"mentoring",alt:"Mentored previously",className:"previously-mentored"}):null),_t.default.createElement("div",{className:"--exercise-title"},"on ",r)),i?_t.default.createElement("div",{className:"--status"},i):null,_t.default.createElement("time",{className:"-updated-at"},Be(a)),_t.default.createElement(y,{icon:"chevron-right",className:"action-icon"})));var rp=new Error("Unable to fetch queue"),Lu=n=>{var o=n,{status:e,error:t}=o,r=O(o,["status","error"]);return gr.default.createElement(V,{status:e,error:t,defaultError:rp},gr.default.createElement(np,h({},r)))},np=({resolvedData:e,latestData:t,page:r,setPage:n})=>gr.default.createElement(gr.default.Fragment,null,e&&e.results.length>0?gr.default.createElement(gr.default.Fragment,null,gr.default.createElement("div",{className:"--solutions"},e.results.length>0?e.results.map((o,s)=>gr.default.createElement(Fu,h({key:s},o))):"No discussions found"),gr.default.createElement("footer",null,gr.default.createElement(vt,{disabled:t===void 0,current:r,total:e.meta.totalPages,setPage:n}))):null);var Du="mentored-tracks",Ti=({queueRequest:e,tracksRequest:t,defaultTrack:r,defaultExercise:n,sortOptions:o,links:s})=>{let i=(0,Je.useRef)(!1),{tracks:a,status:u,error:l,isFetching:d}=gu({cacheKey:Du,request:t}),[c,m]=(0,Je.useState)(r),{exercises:g,status:v,error:b}=vu({track:c}),[k,I]=(0,Je.useState)(n),{resolvedData:E,latestData:T,isFetching:P,criteria:X,setCriteria:Y,order:B,setOrder:C,page:H,setPage:ie,status:Ge,error:mt}=Su({request:e,track:c,exercise:k});(0,Je.useEffect)(()=>{a.length!==0&&(a.find($e=>$e.slug===c.slug)||m(a[0]))},[c.slug,a]),(0,Je.useEffect)(()=>{if(!i.current){i.current=!0;return}I(null)},[c]);let Dt=(0,Je.useCallback)($e=>{ie(1),Y(""),I($e)},[ie,Y]),Yn=(0,Je.useCallback)($e=>{ie(1),Y(""),m($e)},[ie,Y]);return Je.default.createElement("div",{className:"queue-section-content"},Je.default.createElement("div",{className:"c-mentor-queue"},Je.default.createElement("header",{className:"c-search-bar"},Je.default.createElement(bs,{filter:X,setFilter:Y,id:"mentoring-queue-student-name-filter",placeholder:"Filter by student handle"}),Je.default.createElement(Ss,{sortOptions:o,order:B,setOrder:C})),Je.default.createElement(Te,{isFetching:P},Je.default.createElement(Lu,{status:Ge,error:mt,page:H,resolvedData:E,latestData:T,setPage:ie}))),Je.default.createElement("div",{className:"mentor-queue-filtering"},Je.default.createElement(Au,{status:u,error:l,tracks:a,isFetching:d,value:c,setValue:Yn,cacheKey:Du,links:s}),Je.default.createElement(Iu,{status:v,exercises:g,value:k,setValue:Dt,error:b})))};var j=p(f());var wi=p(f());var Ns=({url:e})=>wi.default.createElement("a",{href:e,className:"close-btn","aria-label":"Close discussion and return to mentoring dashboard"},wi.default.createElement(y,{icon:"close"}));var Wr=p(f());var Ou=({student:e,track:t,exercise:r})=>Wr.default.createElement(Wr.default.Fragment,null,Wr.default.createElement(pe,{title:t.title,iconUrl:t.iconUrl}),Wr.default.createElement("div",{className:"student"},Wr.default.createElement(oe,{src:e.avatarUrl,handle:e.handle}),Wr.default.createElement("div",{className:"info"},Wr.default.createElement("div",{className:"handle"},e.handle),Wr.default.createElement("div",{className:"exercise"},"on ",r.title," in ",t.title," "))));var fe=p(f());var un=p(f()),Ci=un.default.createContext({id:"",isOpen:!1,onClick:e=>{}}),Rt=({id:e,isOpen:t,onClick:r,children:n})=>un.default.createElement(Ci.Provider,{value:{isOpen:t,id:e,onClick:r}},un.default.createElement("div",{className:"c-accordion-section"},n)),qu=({label:e,children:t})=>{let{isOpen:r,id:n,onClick:o}=un.default.useContext(Ci);return un.default.createElement("button",{type:"button",onClick:()=>o(n),"aria-expanded":r,"aria-controls":`accordion-panel-${n}`,"aria-label":e,id:`accordion-header-${n}`},t)};qu.displayName="AccordionHeader";Rt.Header=qu;var _u=({children:e})=>{let{isOpen:t,id:r}=un.default.useContext(Ci);return un.default.createElement("div",{id:`accordion-panel-${r}`,"aria-labelledby":`accordion-panel-${r}`,hidden:!t},e)};_u.displayName="AccordionPanel";Rt.Panel=_u;var Yr=p(f()),Bu=({notes:e,improveUrl:t})=>{let r=Yr.default.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},"Pull Request on GitHub");return e?Yr.default.createElement(Yr.default.Fragment,null,Yr.default.createElement("div",{className:"c-textual-content --small",dangerouslySetInnerHTML:{__html:e}}),Yr.default.createElement("hr",{className:"c-divider --small my-16"}),Yr.default.createElement("h3",{className:"text-h5 mb-4"},"Improve these notes"),Yr.default.createElement("p",{className:"text-p-base"},"These notes are written by our community. Please help improve them by sending a ",r,".")):Yr.default.createElement("p",{className:"text-p-base"},"This exercise doesn't have any mentoring notes yet. Mentoring notes are written by our community. Please help get them started for this exercise by sending a ",r,".")};var Fr=p(f()),Uu=({files:e,language:t})=>Fr.default.createElement(Fr.default.Fragment,null,e.map(r=>Fr.default.createElement(Fo,{key:r.filename},e.length>1?Fr.default.createElement(Fo.Header,{filename:r.filename}):null,Fr.default.createElement(Fo.Content,{content:r.content,language:t})))),Fo=({children:e})=>Fr.default.createElement("div",{className:"exemplar-files"},e);Fo.Header=({filename:e})=>Fr.default.createElement("div",{className:"filename"},e);Fo.Content=({content:e,language:t})=>Fr.default.createElement("pre",{className:"overflow-auto"},Fr.default.createElement("code",{className:t},e));var Ts=({isOpen:e,title:t})=>fe.default.createElement(Rt.Header,null,e?fe.default.createElement(y,{icon:"minus-circle"}):fe.default.createElement(y,{icon:"plus-circle"}),fe.default.createElement("div",{className:"--title"},t)),Ju=({notes:e,mentorSolution:t,exemplarFiles:r,links:n,language:o,feedback:s=!1})=>{let i=La(),[a,u]=(0,fe.useState)([{id:"exemplar-files",isOpen:r.length!==0},{id:"notes",isOpen:r.length===0},{id:"mentor-solution",isOpen:!1},{id:"feedback",isOpen:!1}]),l=(0,fe.useCallback)(c=>{u(a.map(m=>{let g=c===m.id&&!m.isOpen;return{id:m.id,isOpen:g}}))},[a]),d=(0,fe.useCallback)(c=>{let m=a.find(g=>g.id===c);if(!m)throw new Error("Accordion id not found");return m.isOpen},[a]);return fe.default.createElement("div",{ref:i},r.length!==0?fe.default.createElement(Rt,{id:"exemplar-files",isOpen:d("exemplar-files"),onClick:l},fe.default.createElement(Ts,{isOpen:d("exemplar-files"),title:"The exemplar solution"}),fe.default.createElement(Rt.Panel,null,fe.default.createElement("div",{className:"c-textual-content --small"},fe.default.createElement("p",null,"Try and guide the student towards this solution. It is the best place for them to reach at this point during the Track."),fe.default.createElement(Uu,{files:r,language:o})))):null,fe.default.createElement(Rt,{id:"notes",isOpen:d("notes"),onClick:l},fe.default.createElement(Ts,{isOpen:d("notes"),title:"Mentor notes"}),fe.default.createElement(Rt.Panel,null,fe.default.createElement(Bu,{notes:e,improveUrl:n.improveNotes}))),t?fe.default.createElement(Rt,{id:"mentor-solution",isOpen:d("mentor-solution"),onClick:l},fe.default.createElement(Ts,{isOpen:d("mentor-solution"),title:"How you solved the exercise"}),fe.default.createElement(Rt.Panel,null,fe.default.createElement(Da,{context:"mentoring",solution:t}))):null,s?fe.default.createElement(Rt,{id:"feedback",isOpen:d("feedback"),onClick:l},fe.default.createElement(Ts,{isOpen:d("feedback"),title:"Automated feedback"}),fe.default.createElement(Rt.Panel,null,fe.default.createElement("p",null,"Feedback here"))):null)};var ae=p(f());var Mi=p(Ma());var Xu=({scratchpad:e,track:t,exercise:r})=>{let[n,o]=(0,ae.useState)(""),[s,i]=(0,ae.useState)(""),[a,u]=(0,ae.useState)(null),l=(0,ae.useCallback)(v=>{o(v)},[]),[d]=A(()=>{let{fetch:v}=M({endpoint:e.links.self,method:"PATCH",body:JSON.stringify({scratchpad_page:{content_markdown:n}})});return v.then(b=>ee((0,Mi.camelizeKeys)(b),"scratchpadPage"))},{onSuccess:v=>u(v),onError:v=>{v instanceof Response&&v.json().then(b=>i(b.error.message))}}),c=(0,ae.useCallback)(v=>{v.preventDefault(),i(""),d()},[d]),m=(0,ae.useCallback)(()=>{let{fetch:v}=M({endpoint:e.links.self,body:null,method:"GET"});v.then(b=>{let k=ee((0,Mi.camelizeKeys)(b),"scratchpadPage");u(S(h({},k),{contentMarkdown:k.contentMarkdown===null?"":k.contentMarkdown}))}).catch(()=>{})},[e.links.self]);(0,ae.useEffect)(m,[m]);let g=(0,ae.useCallback)(()=>{!a||o(a.contentMarkdown)},[a]);return(0,ae.useEffect)(()=>{!a||o(a.contentMarkdown)},[a]),a?ae.default.createElement(ae.default.Fragment,null,e.isIntroducerHidden?null:ae.default.createElement(Oa,{icon:"scratchpad",endpoint:e.links.hideIntroducer,size:"small"},ae.default.createElement("h2",null,"Introducing your scratchpad"),ae.default.createElement("p",null,"A"," ",ae.default.createElement("a",{target:"_blank",rel:"noreferrer",href:e.links.markdown},"Markdown-supported")," ","place for you to write notes and add code snippets you\u2019d like to refer to during mentoring.")),ae.default.createElement("div",{className:"title"},"Your notes for ",ae.default.createElement("strong",null,r.title)," in",ae.default.createElement(pe,{iconUrl:t.iconUrl,title:t.title}),ae.default.createElement("strong",null,t.title)),ae.default.createElement("form",{"data-turbo":"false",onSubmit:c,className:"c-markdown-editor"},ae.default.createElement(hs,{onChange:l,contextId:`scratchpad-${e.links.self}`,options:{status:[]},value:n}),ae.default.createElement("footer",{className:"editor-footer"},n===a.contentMarkdown?null:ae.default.createElement("div",{className:"--warning"},"Unsaved"),n===a.contentMarkdown?null:ae.default.createElement("button",{className:"btn-small-discourage",type:"button",onClick:g},"Revert to saved"),ae.default.createElement("button",{type:"submit",className:"btn-primary btn-s"},"Save"))),s?ae.default.createElement("p",null,s):null):ae.default.createElement(Ae,null)};var yt=p(f());var ws=p(f());var oo=p(f());var Hu=e=>oo.default.createElement(_,null,oo.default.createElement(sp,h({},e))),op=new Error("Unable to mark student as a favorite"),sp=({endpoint:e,onSuccess:t})=>{let[r,{status:n,error:o}]=A(()=>{let{fetch:s}=M({endpoint:e,method:"POST",body:null});return s.then(i=>ee(i,"student"))},{onSuccess:s=>t(s)});return Ve(o,{defaultError:op}),oo.default.createElement(N,{onClick:()=>{r()},type:"button",className:"btn-small",status:n},oo.default.createElement(y,{icon:"plus"}),oo.default.createElement("span",null,"Add to favorites"))};var Lr=p(f());var Gu=e=>Lr.default.createElement(_,null,Lr.default.createElement(ap,h({},e))),ip=new Error("Unable to remove student as a favorite"),ap=n=>{var o=n,{endpoint:e,onSuccess:t}=o,r=O(o,["endpoint","onSuccess"]);let[s,i]=(0,Lr.useState)(!1),[a,{status:u,error:l}]=A(()=>{let{fetch:d}=M({endpoint:e,method:"DELETE",body:null});return d.then(c=>ee(c,"student"))},{onSuccess:d=>t(d)});return Ve(l,{defaultError:ip}),Lr.default.createElement(N,S(h({},r),{onClick:()=>{a()},type:"button",className:"btn-small unfavorite-button "+(s?"hover":""),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),status:u}),s?"Unfavorite?":Lr.default.createElement(Lr.default.Fragment,null,Lr.default.createElement(y,{icon:"star"}),Lr.default.createElement("span",null,"Favorited")))};var Cs=({student:e,onSuccess:t})=>ws.default.createElement("div",{className:"button-wrapper"},e.isFavorited?ws.default.createElement(Gu,{endpoint:e.links.favorite,onSuccess:r=>t(r)}):ws.default.createElement(Hu,{endpoint:e.links.favorite,onSuccess:r=>t(r)}));var ln=p(f());var Wu=p(nt());var Ie=p(f());var ju=p(nt());var up=new Error("Unable to load discussions"),Qu=o=>{var s=o,{onClose:e,student:t,setStudent:r}=s,n=O(s,["onClose","student","setStudent"]);let{request:i,setPage:a}=st({endpoint:t.links.previousSessions,options:{}}),{status:u,resolvedData:l,latestData:d,isFetching:c,error:m}=Z([i.endpoint,i.query],i),g=t.numDiscussionsWithMentor-1,v=({discussion:b})=>Ie.default.createElement("a",{href:b.links.self,key:b.uuid,className:"discussion"},Ie.default.createElement(pe,{iconUrl:b.track.iconUrl,title:b.track.title}),Ie.default.createElement(Ot,{iconUrl:b.exercise.iconUrl,title:b.exercise.title,className:"exercise-icon"}),Ie.default.createElement("div",{className:"exercise-title"},b.exercise.title),Ie.default.createElement("div",{className:"num-comments"},Ie.default.createElement(y,{icon:"comment"}),b.postsCount),Ie.default.createElement("div",{className:"num-iterations"},Ie.default.createElement(y,{icon:"iteration"}),b.iterationsCount),Ie.default.createElement("time",{dateTime:b.createdAt},Be(b.createdAt)),Ie.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));return Ie.default.createElement(G,S(h({},n),{closeButton:!0,onClose:e,className:"m-mentoring-sessions"}),Ie.default.createElement("header",null,Ie.default.createElement("strong",null,"You have ",g," previous ",(0,ju.default)("discussion",g)),"with",Ie.default.createElement(oe,{src:t.avatarUrl,handle:t.handle}),Ie.default.createElement("div",{className:"student-name"},t.handle),t.links.favorite?Ie.default.createElement(Cs,{student:t,onSuccess:b=>r(b)}):null),Ie.default.createElement("div",{className:"discussions"},Ie.default.createElement(Te,{isFetching:c},Ie.default.createElement(V,{status:u,error:m,defaultError:up},l?Ie.default.createElement(Ie.default.Fragment,null,l.results.map(b=>Ie.default.createElement(v,{discussion:b,key:b.uuid})),Ie.default.createElement(vt,{disabled:d===void 0,current:i.query.page,total:l.meta.totalPages,setPage:a})):null))))};var Yu=({student:e,setStudent:t})=>{let[r,n]=(0,ln.useState)(!1);if(e.numDiscussionsWithMentor<2)return null;let o=e.numDiscussionsWithMentor-1;return ln.default.createElement(ln.default.Fragment,null,ln.default.createElement("button",{type:"button",className:"previous-sessions",onClick:()=>n(!0)},"See ",o," previous ",(0,Wu.default)("session",o),ln.default.createElement(w,{icon:"modal",alt:"Opens in modal"})),r?ln.default.createElement(Qu,{open:r,student:e,setStudent:t,onClose:()=>n(!1)}):null)};var Vu=({student:e,setStudent:t})=>yt.default.createElement("div",{className:"student-info"},yt.default.createElement("div",{className:"info"},yt.default.createElement("div",{className:"subtitle"},"Who you're mentoring"),yt.default.createElement("div",{className:"handle-block"},yt.default.createElement("div",{className:"handle"},e.handle),yt.default.createElement(an,{value:e.reputation.toString(),type:"primary",size:"small"})),yt.default.createElement("div",{className:"name"},e.name),yt.default.createElement("div",{className:"bio"},e.bio),yt.default.createElement("div",{className:"options"},e.links?yt.default.createElement(lp,{student:e,setStudent:t}):null,yt.default.createElement(Yu,{student:e,setStudent:t}))),yt.default.createElement(oe,{src:e.avatarUrl,handle:e.handle})),lp=({student:e,setStudent:t})=>yt.default.createElement(yt.default.Fragment,null,e.links.favorite?yt.default.createElement(Cs,{student:e,onSuccess:r=>t(r)}):null);var yr=p(f());var Vr=p(f());var Bt=p(f());var Ku=({command:e})=>{let[t,r]=(0,Bt.useState)(!1),n=(0,Bt.useCallback)(()=>{r(!t)},[t]),o=(0,Bt.useCallback)(()=>{r(!1)},[]);return Bt.default.createElement(Ta,{content:Bt.default.createElement(mp,{command:e}),interactive:!0,visible:t,maxWidth:"none",onClickOutside:o},Bt.default.createElement("button",{className:"btn-s btn-default download-btn",type:"button",onClick:n},Bt.default.createElement(w,{icon:"download",alt:"Download solution"})))},mp=({command:e})=>Bt.default.createElement("div",{className:"z-tooltip bg-backgroundColorA shadow-lgZ1 py-24 px-24 rounded-8"},Bt.default.createElement("h3",{className:"text-h5 mb-8"},"Download this solution via the CLI"),Bt.default.createElement("p",{className:"text-p-base mb-8"},"This solution will be downloaded into a subdirectory specifically for this student."),Bt.default.createElement(sn,{textToCopy:e}));var vr=p(f());var dp=(e,t=`




`)=>e.map(r=>r.content).join(t),cp=1e3,zu=({files:e})=>{let[t,r]=(0,vr.useState)(!1),n=dp(e),o=["c-copy-text-to-clipboard",t?"--copied":""].filter(i=>i.length>0),s=(0,vr.useCallback)(async()=>{await Pa(n),r(!0)},[n]);return(0,vr.useEffect)(()=>{if(!t)return;let i=setTimeout(()=>r(!1),cp);return()=>clearTimeout(i)},[t,r]),vr.default.createElement("button",{type:"button",className:o.join(" "),onClick:s},vr.default.createElement(w,{icon:"clipboard",alt:"Copy solution"}),t?vr.default.createElement("span",{className:"message"},"Copied"):null,vr.default.createElement("span",{"data-test-clipboard":!0,"data-content":n}))};var $u=({iteration:e,isOutOfDate:t,downloadCommand:r,files:n})=>Vr.default.createElement("header",{className:"iteration-header"},Vr.default.createElement(Zn,{iteration:e,showSubmissionMethod:!1,OutOfDateNotice:t?Vr.default.createElement(pp,null):null,showTestsStatusAsButton:!0,showFeedbackIndicator:!1}),Vr.default.createElement(Ku,{command:r}),n?Vr.default.createElement(zu,{files:n}):null),pp=()=>Vr.default.createElement(jr,{content:`This exercise has been updated since the student submitted this
        iteration. It might not pass the most recent set of tests. Exercises
        can be updated by students by clicking on the yellow bar in the main
        exercise page.`},Vr.default.createElement("div",null,Vr.default.createElement(Rn.OutOfDateNotice,null)));var er=p(f());var Ms=({value:e,setValue:t})=>er.default.createElement(jr,{content:e?er.default.createElement("div",{className:"c-mentoring-link-tooltip"},er.default.createElement("h3",null,"Your code and mentoring conversation are currently linked."),er.default.createElement("p",null,"This means as you navigate to another iteration, the mentoring conversation will follow and vice versa.",er.default.createElement("strong",null,"Click or tap on the icon to unlink."))):er.default.createElement("div",{className:"c-mentoring-link-tooltip"},er.default.createElement("h3",null,"Your code and mentoring conversation are currently unlinked."),er.default.createElement("p",null,"This means the left and right panes operate independently.",er.default.createElement("strong",null,"Click or tap on the icon to link.")))},er.default.createElement("button",{className:["link-button btn-enhanced",e?"linked":"unlinked"].join(" "),onClick:()=>t(!e)},er.default.createElement(w,{icon:e?"mentoring-linked":"mentoring-unlinked",alt:"Link conversation"})));var fp=new Error("Unable to load files"),Zu=({iterations:e,instructions:t,tests:r,currentIteration:n,onClick:o,language:s,indentSize:i,isOutOfDate:a,isLinked:u,setIsLinked:l,discussion:d,downloadCommand:c})=>{let{resolvedData:m,error:g,status:v,isFetching:b}=Z(n.links.files,{endpoint:n.links.files,options:{}});return yr.default.createElement(yr.default.Fragment,null,yr.default.createElement($u,{iteration:n,isOutOfDate:a,downloadCommand:c,files:m==null?void 0:m.files}),n.status=="deleted"?yr.default.createElement("div",{className:"deleted"},"This iteration has been deleted"):yr.default.createElement(Te,{isFetching:b},yr.default.createElement(V,{error:g,status:v,defaultError:fp},m?yr.default.createElement(cs,{files:m.files,language:s,indentSize:i,instructions:t,tests:r}):null)),e.length>1?yr.default.createElement("footer",{className:"c-iterations-footer"},yr.default.createElement(ds,{iterations:e,onClick:o,current:n}),d?yr.default.createElement(Ms,{value:u,setValue:l}):null):null)};var ao=p(f());var ct=p(f());var dt=p(f());var hp=new Error("Unable to update student"),gp=({error:e})=>(Ve(e,{defaultError:hp}),null),Ru=({student:e,onYes:t,onNo:r})=>{let[n,o]=(0,dt.useState)(null),[s,{status:i,error:a}]=A(()=>{let u=n==="yes"?"DELETE":"POST",{fetch:l}=M({endpoint:e.links.block,method:u,body:null});return l.then(d=>ee(d,"student"))},{onSuccess:u=>{n==="yes"?t(u):r(u)}});return(0,dt.useEffect)(()=>{!n||s()},[n,s]),dt.default.createElement("div",null,dt.default.createElement("p",null,"Do you want to mentor ",e.handle," again?"),dt.default.createElement("div",{className:"buttons"},dt.default.createElement("button",{className:"btn-small",onClick:()=>o("yes"),disabled:i==="loading"},dt.default.createElement(y,{icon:"checkmark"}),dt.default.createElement("span",null,"Yes")),dt.default.createElement("button",{className:"btn-small",onClick:()=>o("no"),disabled:i==="loading"},dt.default.createElement(y,{icon:"cross"}),dt.default.createElement("span",null,"No"))),i==="loading"?dt.default.createElement(Ae,null):null,i==="error"?dt.default.createElement(_,null,dt.default.createElement(gp,{error:a})):null)};var Dr=p(f());var vp=new Error("Unable to mark student as a favorite"),yp=({error:e})=>(Ve(e,{defaultError:vp}),null),el=({student:e,onFavorite:t,onSkip:r})=>{let[n,{status:o,error:s}]=A(()=>{let{fetch:i}=M({endpoint:e.links.favorite,method:"POST",body:null});return i.then(a=>ee(a,"student"))},{onSuccess:i=>{!t||t(i)}});return Dr.default.createElement("div",null,Dr.default.createElement("p",null,"Add ",e.handle," to your favorites?"),Dr.default.createElement("div",{className:"buttons"},Dr.default.createElement("button",{className:"btn-small",type:"button",onClick:()=>n(),disabled:o==="loading"},Dr.default.createElement(y,{icon:"plus"}),"Add to favorites"),Dr.default.createElement("button",{className:"btn-small",type:"button",onClick:()=>r(),disabled:o==="loading"},"Skip")),o==="loading"?Dr.default.createElement(Ae,null):null,o==="error"?Dr.default.createElement(_,null,Dr.default.createElement(yp,{error:s})):null)};var mn=p(f());var tl=({student:e,onReset:t})=>mn.default.createElement("div",null,e.isFavorited?mn.default.createElement("p",null,e.handle," is one of your favorites."):e.isBlocked?mn.default.createElement("p",null,"You will not see future mentor requests from ",e.handle,"."):mn.default.createElement("p",null,"Thanks for mentoring ",e.handle,"."),mn.default.createElement("button",{className:"btn-link-legacy",type:"button",onClick:()=>t()},mn.default.createElement(y,{icon:"reset"}),mn.default.createElement("span",null,"Change preferences")));function bp(e,t){switch(t.type){case"MENTOR_AGAIN":return{student:t.payload.student,step:"favorite"};case"WONT_MENTOR_AGAIN":return{student:t.payload.student,step:"finish"};case"FAVORITED":return{student:t.payload.student,step:"finish"};case"SKIP_FAVORITE":return S(h({},e),{step:"finish"});case"RESET":return S(h({},e),{step:"mentorAgain"})}}var rl=({student:e,setStudent:t,defaultStep:r})=>{let n=(0,ct.useRef)(null),[o,s]=(0,ct.useReducer)(bp,{student:e,step:r});return(0,ct.useEffect)(()=>{!n.current||n.current.scrollIntoView()},[e]),ct.default.createElement("div",{ref:n,className:"finished-wizard timeline-entry"},ct.default.createElement(y,{icon:"completed-check-circle",className:"timeline-marker"}),ct.default.createElement("div",{className:"--details timeline-content"},ct.default.createElement("h3",null,"You've finished your discussion with ",e.handle,"."),ct.default.createElement("div",{className:"--step"},o.step==="mentorAgain"?ct.default.createElement(Ru,{student:o.student,onYes:i=>{s({type:"MENTOR_AGAIN",payload:{student:i}})},onNo:i=>{s({type:"WONT_MENTOR_AGAIN",payload:{student:i}})}}):o.step==="favorite"?ct.default.createElement(el,{student:o.student,onFavorite:i=>{s({type:"FAVORITED",payload:{student:i}}),t(i)},onSkip:()=>{s({type:"SKIP_FAVORITE"})}}):o.step==="finish"?ct.default.createElement(tl,{student:o.student,onReset:()=>{s({type:"RESET"})}}):ct.default.createElement(ct.default.Fragment,null,"Incorrect state: ",o.step," "))))};var Sr=p(f());var tr=p(f());var Or=p(f()),Kr=(0,Or.createContext)({cacheKey:"",hasNewMessages:!1,setHasNewMessages:()=>{},highlightedPostRef:{current:null}}),As=({discussion:e,children:t})=>{let r=`posts-discussion-${e==null?void 0:e.uuid}`,[n,o]=(0,Or.useState)(!1),s=(0,Or.useRef)(null);return e?Or.default.createElement(Kr.Provider,{value:{cacheKey:r,hasNewMessages:n,setHasNewMessages:o,highlightedPostRef:s}},t):Or.default.createElement(Or.default.Fragment,null,t)};var nl=(e,t)=>{let r=(0,tr.useRef)(null),[n,o]=(0,tr.useState)(null),{setHasNewMessages:s,highlightedPostRef:i}=(0,tr.useContext)(Kr),a=(0,tr.useRef)();return(0,tr.useEffect)(()=>{!n||n.authorHandle===t||s(!0)},[n,s,t]),(0,tr.useEffect)(()=>{if(e.length===0)return;let u=e[e.length-1];if(r.current!==u){if(r.current===null){r.current=u;return}o(u)}},[JSON.stringify(e)]),(0,tr.useEffect)(()=>{!i.current||!n||n.authorHandle===t&&i.current.scrollIntoView()},[n,i,t]),(0,tr.useEffect)(()=>{if(!!i.current)return a.current=new IntersectionObserver(u=>{!u[0].isIntersecting||s(!1)}),a.current.observe(i.current),()=>{var u;(u=a.current)==null||u.disconnect()}},[n,i,s]),{highlightedPost:n,highlightedPostRef:i}};var nr=p(f());var jt=p(f());var rr=p(f());var Sp=new Error("Unable to load automated feedback"),ol=r=>{var n=r,{iteration:e}=n,t=O(n,["iteration"]);let{data:o,status:s,error:i}=Kn(["automated-feedback",e.links.automatedFeedback],{endpoint:e.links.automatedFeedback,options:{}});return rr.default.createElement(G,S(h({},t),{className:"m-automated-feedback"}),rr.default.createElement(V,{LoadingComponent:kp,status:s,error:i,defaultError:Sp},rr.default.createElement("header",null,rr.default.createElement(y,{icon:"automation"}),rr.default.createElement("div",{className:"info"},rr.default.createElement("h2",{className:"text-h5"},"Automated Analysis"),rr.default.createElement("div",{className:"text-textColor6 text-15 leading-150"},"for Iteration ",e.idx))),o?rr.default.createElement("div",{className:"feedback"},o.automatedFeedback.analyzerFeedback?rr.default.createElement(_a,S(h({track:o.automatedFeedback.track},o.automatedFeedback.analyzerFeedback),{automatedFeedbackInfoLink:o.automatedFeedback.links.info})):null,o.automatedFeedback.representerFeedback?rr.default.createElement(qa,h({},o.automatedFeedback.representerFeedback)):null):null))},kp=()=>rr.default.createElement(w,{icon:"spinner",alt:"Loading automated feedback"});var sl=({userIsStudent:e,iteration:t})=>{let r=e?"You":"Student",[n,o]=(0,jt.useState)(!1),s=(0,jt.useCallback)(()=>{o(!0)},[]),i=(0,jt.useCallback)(()=>{o(!1)},[]);return jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("button",{className:"auto-feedback",onClick:s,type:"button"},jt.default.createElement(y,{icon:"automation",className:"info-icon"}),jt.default.createElement("div",{className:"info"},r," received automated feedback"),jt.default.createElement(w,{icon:"modal",alt:"Opens in a modal",className:"modal-icon"})),jt.default.createElement(ol,{iteration:t,open:n,onClose:i}))};var Lo=p(f()),Pi=e=>`iteration-${e.idx}`,Is=({iterations:e,on:t})=>{let[r,n]=(0,Lo.useState)(e[e.length-1]),o=(0,Lo.useCallback)(i=>{!t||n(i)},[t]),s=(0,Lo.useCallback)(i=>{n(i),!!t&&(window.location.href=`#${Pi(i)}`)},[t]);return{currentIteration:r,handleIterationScroll:o,handleIterationClick:s}};var Nn=(0,nr.forwardRef)(({iteration:e,userIsStudent:t},r)=>nr.default.createElement("a",{id:Pi(e),className:"timeline-entry iteration-entry"},nr.default.createElement("div",{className:"timeline-marker"},nr.default.createElement(y,{icon:"iteration"})),nr.default.createElement("div",{className:"timeline-content"},nr.default.createElement("div",{className:"timeline-entry-header",ref:r},nr.default.createElement("div",{className:"info"},nr.default.createElement("strong",null,"Iteration ",e.idx),"was submitted"),nr.default.createElement("time",null,ms(e.createdAt))),e.numActionableAutomatedComments!==0||e.numEssentialAutomatedComments!==0||e.numNonActionableAutomatedComments!==0?nr.default.createElement(sl,{userIsStudent:t,iteration:e}):null)));Nn.displayName="IterationMarker";var il=p(f()),al=e=>(0,il.useMemo)(()=>e.reduce((t,r)=>t.concat(r.posts||[]),[]),[JSON.stringify(e)]);var br=p(f()),ul=({iterations:e,onScroll:t})=>{let[r,n]=(0,br.useState)([]),[o,s]=(0,br.useState)([]),i=(0,br.useCallback)(a=>{s(r.map(u=>{let l=a.find(d=>d.target===u.ref.current);return{iteration:u,isIntersecting:l?l.isIntersecting:!1}}))},[r]);return(0,br.useEffect)(()=>{n(e.map(a=>S(h({},a),{ref:(0,br.createRef)()})))},[JSON.stringify(e)]),(0,br.useEffect)(()=>{let a=new IntersectionObserver(i,{threshold:1,root:null,rootMargin:"0px"});return r.forEach(u=>{!u.ref.current||a.observe(u.ref.current)}),()=>{a.disconnect()}},[r,i]),(0,br.useEffect)(()=>{let a=o.filter(u=>u.isIntersecting)[0];!a||t(a.iteration)},[o,t]),{iterationsWithRef:r}};var ll=e=>{let t=e.findIndex(r=>r.posts&&r.posts.length!==0);return e.slice(t)};var ml=p(f());var Ai=class{constructor({discussionUuid:t},r){this.subscription=Pr.subscriptions.create({channel:"DiscussionPostListChannel",discussion_uuid:t},{received:r})}disconnect(){this.subscription.unsubscribe()}};var dl=(e,t)=>{(0,ml.useEffect)(()=>{let r=new Ai({discussionUuid:e},t);return()=>{r.disconnect()}},[e,t])};var Fs=p(f());var qr=p(f());var so=p(f());var cl=({contentHtml:e})=>{let t=(0,so.useRef)(null);return(0,so.useEffect)(()=>{!t.current||Fa(t.current)},[e]),so.default.createElement("div",{className:"post-content c-textual-content --small",ref:t,dangerouslySetInnerHTML:{__html:e}})};var pl=({onEdit:e,item:t,className:r="",itemRef:n})=>{let o=t.links.edit,s=["post","timeline-entry",o?"--editable":"",r].filter(i=>i.length>0);return qr.default.createElement("div",{ref:n,className:s.join(" ")},qr.default.createElement(oe,{handle:t.authorHandle,src:t.authorAvatarUrl,className:"timeline-marker"}),qr.default.createElement("div",{className:"timeline-content"},qr.default.createElement("header",{className:"timeline-entry-header"},qr.default.createElement("div",{className:"author"},t.authorHandle),qr.default.createElement("time",null,ms(t.updatedAt)),o?qr.default.createElement("button",{type:"button",className:"edit-button",onClick:e},qr.default.createElement(w,{icon:"edit",alt:"Edit"})):null),qr.default.createElement(cl,{contentHtml:t.contentHtml})))};var Tn=p(f());var Ep=new Error("Unable to edit post"),fl=({item:e,onUpdate:t,onDelete:r,onCancel:n})=>Tn.default.createElement("div",{className:"post timeline-entry"},Tn.default.createElement(oe,{handle:e.authorHandle,src:e.authorAvatarUrl,className:"timeline-marker"}),Tn.default.createElement("div",{className:"timeline-content"},Tn.default.createElement("header",{className:"timeline-entry-header"},Tn.default.createElement("div",{className:"author"},e.authorHandle)),Tn.default.createElement(su,{item:e,onUpdate:t,onDelete:r,onCancel:n,defaultError:Ep})));var io=(0,Fs.forwardRef)((n,r)=>{var o=n,{post:e}=o,t=O(o,["post"]);return Fs.default.createElement(iu,h({itemRef:r,item:e,ViewingComponent:pl,EditingComponent:fl},t))});var Ls=({discussionUuid:e,iterations:t,userHandle:r,userIsStudent:n,onIterationScroll:o,status:s})=>{let i=_e(),{cacheKey:a}=(0,Sr.useContext)(Kr),u=al(t),{highlightedPost:l,highlightedPostRef:d}=nl(u,r),{getItemAction:c,handleEdit:m,handleEditCancel:g,handleUpdate:v,handleDelete:b}=au(a),{iterationsWithRef:k}=ul({iterations:t,onScroll:o}),I=ll(k);return dl(e,()=>i.invalidateQueries(a)),s==="loading"?Sr.default.createElement("div",{role:"status","aria-label":"Discussion post list loading indicator"},Sr.default.createElement(Ae,null)):Sr.default.createElement(Sr.default.Fragment,null,I.map(E=>{var T;return Sr.default.createElement(Sr.default.Fragment,{key:E.idx},Sr.default.createElement(Nn,{iteration:E,userIsStudent:n,ref:E.ref}),(T=E.posts)==null?void 0:T.map(P=>Sr.default.createElement(io,{key:P.uuid,ref:l===P?d:null,post:P,action:c(P),onEdit:m(P),onEditCancel:g,onUpdate:v,onDelete:b})))}))};var hl=({discussion:e,iterations:t,student:r,setStudent:n,userHandle:o,onIterationScroll:s,status:i})=>{let[a,u]=(0,ao.useState)(e.isFinished?"finish":"mentorAgain");return ao.default.createElement("div",{className:"discussion"},ao.default.createElement(Ls,{iterations:t,userIsStudent:!1,discussionUuid:e.uuid,userHandle:o,onIterationScroll:s,status:i}),e.isFinished?ao.default.createElement(rl,{student:r,defaultStep:a,setStudent:n}):null)};var zr=p(f());var uo=p(f());var gl=e=>uo.default.createElement(_,null,uo.default.createElement(Np,h({},e))),xp=new Error("Unable to mark discussion as nothing to do"),Np=({endpoint:e})=>{let[t,{status:r,error:n}]=A(()=>{let{fetch:o}=M({endpoint:e,method:"PATCH",body:null});return o});switch(Ve(n,{defaultError:xp}),r){case"idle":return uo.default.createElement("button",{onClick:()=>{t()},type:"button",className:"btn-keyboard-shortcut"},uo.default.createElement("div",{className:"--hint"},"Remove from Inbox"));case"loading":return uo.default.createElement(Ae,null);default:return null}};var Br=p(f());var _r=p(f());var Tp=new Error("Unable to end discussion"),wp=({error:e})=>(Ve(e,{defaultError:Tp}),null),vl=i=>{var a=i,{open:e,onFinish:t,onCancel:r,status:n,error:o}=a,s=O(a,["open","onFinish","onCancel","status","error"]);return _r.default.createElement(G,h({open:e,onClose:r,className:"m-generic-confirmation"},s),_r.default.createElement("h3",null,"Are you sure you want to end this discussion?"),_r.default.createElement("p",null,"It's normally time to end a discussion when the student has got what they wanted from the conversation, or you have taken the conversation as far as you like. It's generally polite to leave the student a final goodbye."),_r.default.createElement("div",{className:"buttons"},_r.default.createElement(N,{type:"button",className:"btn-small-discourage",onClick:r,status:n},"Cancel"),_r.default.createElement(N,{type:"button",className:"btn-primary btn-s",onClick:t,status:n},"End discussion")),n==="loading"?_r.default.createElement(Ae,null):null,n==="error"?_r.default.createElement(_,null,_r.default.createElement(wp,{error:o})):null)};var yl=({endpoint:e,modalProps:t,onSuccess:r})=>{let[n,o]=(0,Br.useState)(!1),[s,{status:i,error:a}]=A(()=>{let{fetch:l}=M({endpoint:e,method:"PATCH",body:null});return l.then(d=>ee(d,"discussion"))},{onSuccess:l=>r(l)}),u=(0,Br.useCallback)(()=>{i!=="loading"&&o(!1)},[i]);return Br.default.createElement(Br.default.Fragment,null,Br.default.createElement("button",{type:"button",className:"btn-keyboard-shortcut finish-button",onClick:()=>{o(!0)}},Br.default.createElement("div",{className:"--hint"},"End discussion")),Br.default.createElement(vl,h({endpoint:e,open:n,onFinish:()=>s(),onCancel:u,status:i,error:a},t)))};var bl=({status:e,links:t,session:r,setSession:n,isFinished:o})=>{let s=(0,zr.useCallback)(i=>{let l=i,{student:a}=l,u=O(l,["student"]);n(S(h({},r),{discussion:u,student:a}))},[n,r]);return zr.default.createElement(zr.default.Fragment,null,e==="awaiting_mentor"?zr.default.createElement(gl,{endpoint:t.markAsNothingToDo}):null,o?zr.default.createElement("div",{className:"finished"},zr.default.createElement(y,{icon:"completed-check-circle"}),"Ended"):t.finish?zr.default.createElement(yl,{endpoint:t.finish,onSuccess:s}):null)};var wn=p(f());var sr=p(f());var or=p(f());var Cp=new Error("Unable to save post"),Sl=({discussion:e,onSuccess:t})=>{let r=_e(),n=(0,or.useMemo)(()=>`${e.uuid}_new_post`,[e]),[o,s]=(0,or.useState)(!1),{cacheKey:i}=(0,or.useContext)(Kr),a=(0,or.useCallback)(d=>{r.setQueryData([i],c=>c?{items:[...c.items,d]}:{items:[d]}),s(!1),t()},[i,t,r]),u=(0,or.useCallback)(()=>{s(!0)},[]),l=(0,or.useCallback)(()=>{s(!1)},[]);return or.default.createElement(ou,{endpoint:e.links.posts,expanded:o,contextId:n,onSuccess:a,onExpanded:u,onCompressed:l,defaultError:Cp})};var Ds=({discussion:e,children:t,onSuccess:r=()=>null})=>{let[n,o]=(0,sr.useState)(!e.isFinished),s=(0,sr.useCallback)(()=>{r()},[r]),i=(0,sr.useCallback)(()=>{o(!0)},[]);return n?sr.default.createElement(sr.default.Fragment,null,sr.default.createElement(Sl,{discussion:e,onSuccess:s}),t):sr.default.createElement("button",{onClick:i,className:"continuation-btn",type:"button"},sr.default.createElement("strong",null,"This discussion has ended.")," Have more to say? You can"," ",sr.default.createElement("em",null,"still post"),".")};var lo=p(f());var Os=({onClick:e=()=>{}})=>{let{hasNewMessages:t,highlightedPostRef:r}=(0,lo.useContext)(Kr);return t?lo.default.createElement("button",{className:"new-messages-button",type:"button",onClick:()=>{var n;e(),(n=r.current)==null||n.scrollIntoView()}},lo.default.createElement(y,{icon:"comment"}),lo.default.createElement("span",null,"New Message")):null};var Ii=p(f()),qs=({links:e})=>Ii.default.createElement("div",{className:"note"},"Check out our"," ",Ii.default.createElement("a",{href:e.mentoringDocs,target:"_blank",rel:"noreferrer"},"mentoring docs")," ","and be the best mentor you can be.");var kl=({discussion:e,links:t})=>{let{switchToTab:r}=(0,wn.useContext)($r);return wn.default.createElement("section",{className:"comment-section --comment"},wn.default.createElement(Os,{onClick:()=>{r("discussion")}}),wn.default.createElement(Ds,{discussion:e,onSuccess:()=>{r("discussion")}},wn.default.createElement(qs,{links:t})))};var Mp=({iterations:e,posts:t})=>e.reduce((r,n)=>{let o=t?t.filter(s=>s.iterationIdx===n.idx):[];return r.push(S(h({},n),{posts:o})),r},[]),_s=({discussion:e,iterations:t})=>{let{data:r,status:n}=Kn(`posts-discussion-${e==null?void 0:e.uuid}`,{endpoint:e==null?void 0:e.links.posts,options:{enabled:!!e}});return{iterations:r?Mp({iterations:t,posts:r.items}):t,status:n}};var Bs=p(f());var El=({iteration:e,request:t})=>{if(!t.comment)throw"request comment expected";return Bs.default.createElement("div",{className:"discussion"},Bs.default.createElement(Nn,{iteration:e,userIsStudent:!1}),t.comment.contentHtml.length>0?Bs.default.createElement(io,{action:"viewing",post:t.comment}):null)};var Cn=p(f());var Ur=p(f());var Pp=new Error("Unable to lock solution"),Ap=({error:e})=>(Ve(e,{defaultError:Pp}),null),Ip=({error:e})=>Ur.default.createElement("p",null,e.message),xl=({request:e,onLock:t})=>{let[r,{status:n,error:o}]=A(()=>{let{fetch:s}=M({endpoint:e.links.lock,body:null,method:"PATCH"});return s.then(i=>ee(i,"request"))},{onSuccess:s=>t(s)});return Ur.default.createElement("section",{className:"comment-section --lock"},Ur.default.createElement("h2",null,"Help ",e.student.handle," write better ",e.track.title,"?"),Ur.default.createElement("p",null,"Feel you can help ",e.student.handle," approach this in a better way? Start mentoring and show them the way to code bliss."),Ur.default.createElement("button",{type:"button",onClick:()=>r(),disabled:n==="loading",className:"btn-primary btn-m"},"Start mentoring"),Ur.default.createElement("div",{className:"note"},"You have 30 minutes until the session returns to the queue for others to mentor."),n==="loading"?Ur.default.createElement(Ae,null):null,Ur.default.createElement(_,{FallbackComponent:Ip,resetKeys:[n]},Ur.default.createElement(Ap,{error:o})))};var kr=p(f());var Fp=new Error("Unable to start discussion"),Nl=({iterations:e,request:t,defaultExpanded:r,links:n})=>{let o=`start-discussion-request-${t.uuid}`,[s,i]=(0,kr.useState)({expanded:r,value:localStorage.getItem(`smde_${o}`)||""}),a=e[e.length-1],[u,{status:l,error:d}]=A(()=>{let{fetch:b}=M({endpoint:t.links.discussion,method:"POST",body:JSON.stringify({mentor_request_uuid:t.uuid,content:s.value,iteration_idx:a.idx})});return b.then(k=>ee(k,"discussion"))},{onSuccess:b=>Le(b.links.self)}),c=(0,kr.useCallback)(()=>{u()},[u]),m=(0,kr.useCallback)(()=>{s.expanded||i(S(h({},s),{expanded:!0}))},[s]),g=(0,kr.useCallback)(()=>{i(S(h({},s),{expanded:!1}))},[s]),v=(0,kr.useCallback)(b=>{i(S(h({},s),{value:b}))},[s]);return kr.default.createElement("section",{className:"comment-section --comment"},kr.default.createElement(nu,{onSubmit:c,onClick:m,onCancel:g,onChange:v,contextId:o,value:s.value,expanded:s.expanded,status:l,error:d,defaultError:Fp,action:"new"}),kr.default.createElement(qs,{links:n}))};var Tl=({iterations:e,request:t,session:r,setSession:n,links:o})=>{let[s,i]=(0,Cn.useState)(!1),a=(0,Cn.useCallback)(u=>{i(!0),n(S(h({},r),{request:u}))},[r,n]);return t.isLocked?Cn.default.createElement(Nl,{iterations:e,request:t,links:o,defaultExpanded:s}):Cn.default.createElement(xl,{request:t,onLock:a})};var $r=(0,j.createContext)({current:"instructions",switchToTab:()=>{}}),Fi=e=>{let[t,r]=(0,j.useState)(e),{student:n,track:o,exercise:s,links:i,iterations:a,instructions:u,tests:l,discussion:d,notes:c,mentorSolution:m,exemplarFiles:g,outOfDate:v,request:b,scratchpad:k,userHandle:I,downloadCommand:E}=t,[T,P]=(0,j.useState)("discussion"),X=(0,j.useCallback)(Dt=>{r(S(h({},t),{student:Dt}))},[t]),{iterations:Y,status:B}=_s({discussion:d,iterations:a}),[C,H]=(0,j.useState)(!1),{currentIteration:ie,handleIterationClick:Ge,handleIterationScroll:mt}=Is({iterations:Y,on:C});return j.default.createElement("div",{className:"c-mentor-discussion"},j.default.createElement(ps,{id:"mentoring-session",defaultLeftWidth:"90%",leftMinWidth:550,rightMinWidth:625,left:j.default.createElement(j.default.Fragment,null,j.default.createElement("header",{className:"discussion-header"},j.default.createElement(Ns,{url:i.mentorDashboard}),j.default.createElement(Ou,{student:n,track:o,exercise:s}),d?j.default.createElement(bl,S(h({},d),{session:t,setSession:r})):null),j.default.createElement(Zu,{iterations:Y,instructions:u,tests:l,currentIteration:ie,onClick:Ge,isOutOfDate:v,language:o.highlightjsLanguage,indentSize:o.indentSize,isLinked:C,setIsLinked:H,discussion:d,downloadCommand:E})),right:j.default.createElement(As,{discussion:t.discussion},j.default.createElement($r.Provider,{value:{current:T,switchToTab:Dt=>P(Dt)}},j.default.createElement(j.default.Fragment,null,j.default.createElement("div",{className:"tabs",role:"tablist"},j.default.createElement(ot,{id:"discussion",context:$r},j.default.createElement(y,{icon:"comment"}),j.default.createElement(ot.Title,{text:"Discussion"})),j.default.createElement(ot,{id:"scratchpad",context:$r},j.default.createElement(y,{icon:"scratchpad"}),j.default.createElement(ot.Title,{text:"Scratchpad"})),j.default.createElement(ot,{id:"guidance",context:$r},j.default.createElement(y,{icon:"guidance"}),j.default.createElement(ot.Title,{text:"Guidance"}))),j.default.createElement(ot.Panel,{id:"discussion",context:$r},j.default.createElement(Vu,{student:n,setStudent:X}),d?j.default.createElement(hl,{status:B,discussion:d,iterations:Y,student:n,setStudent:X,userHandle:I,onIterationScroll:mt}):j.default.createElement(El,{iteration:Y[Y.length-1],request:b})),j.default.createElement(ot.Panel,{id:"scratchpad",context:$r},j.default.createElement(Xu,{scratchpad:k,track:o,exercise:s})),j.default.createElement(ot.Panel,{id:"guidance",context:$r},j.default.createElement(Ju,{notes:c,mentorSolution:m,exemplarFiles:g,language:o.highlightjsLanguage,links:i})),d?j.default.createElement(kl,{discussion:d,links:i}):j.default.createElement(Tl,{iterations:Y,request:b,session:t,setSession:r,links:i}))))}))};var po=p(f());var pt=p(f());var Do=p(f()),Lp=({num:e,label:t,selected:r})=>{let n=`Step ${e}: ${t}`;return Do.default.createElement("li",{className:["step",r?"selected":""].join(" "),"aria-current":r?"step":void 0},Do.default.createElement("span",{className:"sr-only"},n))},wl=({steps:e,currentStep:t})=>Do.default.createElement("ul",{"aria-label":"Become a mentor progress",className:"steps"},e.map((r,n)=>Do.default.createElement(Lp,{label:r.label,key:r.id,num:n+1,selected:r.id===t})));var Li=p(f());var Cl=({onClick:e})=>Li.default.createElement("button",{type:"button",className:"close-btn",onClick:e},Li.default.createElement(w,{icon:"close",alt:"Close the modal"}));var mo=p(f());var Ml=({links:e,selected:t,setSelected:r,onContinue:n})=>mo.default.createElement("section",{className:"tracks-section"},mo.default.createElement("h2",null,"Select the tracks you want to mentor"),mo.default.createElement("p",null,"This allows us to only show you the solutions you want to mentor."," ",mo.default.createElement("strong",null,"Don\u2019t worry, you can change these selections at anytime.")),mo.default.createElement(xs,{tracksEndpoint:e.tracks,selected:t,setSelected:r,onContinue:n}));var re=p(f());var dn=p(f());var Pl=()=>dn.default.createElement("div",{className:"reputation-info"},dn.default.createElement("div",{className:"inner"},dn.default.createElement(y,{icon:"reputation"}),dn.default.createElement("div",{className:"info"},dn.default.createElement("h3",null,"Reputation & testimonials"),dn.default.createElement("p",null,"You'll gain ",dn.default.createElement("strong",null,"6 reputation")," for each successful mentoring session. At the end of every discussion, students are invited to leave you a testimonial."))));var co=p(f());var Oo=({children:e,onChange:t})=>co.default.createElement("label",{className:"c-checkbox-wrapper"},co.default.createElement("input",{onChange:t,required:!0,type:"checkbox"}),co.default.createElement("div",{className:"row"},co.default.createElement("div",{className:"c-checkbox"},co.default.createElement(y,{icon:"checkmark"})),e));var Dp=4,Op=new Error("Unable to complete registration"),Al=({links:e,selected:t,onContinue:r,onBack:n})=>{let[o,{status:s,error:i}]=A(()=>{let{fetch:c}=M({endpoint:e.registration,method:"POST",body:JSON.stringify({track_slugs:t,accept_terms:!0})});return c},{onSuccess:()=>{r()}}),[a,u]=(0,re.useState)(0),l=(0,re.useCallback)(c=>{c.target.checked?u(a+1):u(a-1)},[a]),d=(0,re.useCallback)(()=>{o()},[o]);return re.default.createElement("section",{className:"commit-section"},re.default.createElement("div",{className:"lhs"},re.default.createElement("h2",null,"Commit to being a good mentor"),re.default.createElement("p",null,"Mentoring on Exercism can be an incredible experience for students and mentors alike. To ensure it remains a positive place for everyone, we ask all mentors to affirm Exercism's values before they mentor their first solution."),re.default.createElement(Pl,null),re.default.createElement("div",{className:"commitment"},re.default.createElement("h3",null,"You agree to:"),re.default.createElement(Oo,{onChange:l},re.default.createElement("span",null,"Abide by the"," ",re.default.createElement("a",{href:e.codeOfConduct,target:"_blank",rel:"noreferrer"},"Code of Conduct"," ",re.default.createElement(w,{icon:"external-link",alt:"Opens in a new tab"})))),re.default.createElement(Oo,{onChange:l},re.default.createElement("span",null,"Be patient, empathic and kind to those you're mentoring")),re.default.createElement(Oo,{onChange:l},re.default.createElement("span",null,"Demonstrate"," ",re.default.createElement("a",{href:e.intellectualHumility,target:"_blank",rel:"noreferrer"},"intellectual humility"," ",re.default.createElement(w,{icon:"external-link",alt:"Opens in a new tab"})))),re.default.createElement(Oo,{onChange:l},re.default.createElement("span",null,"Not use Exercism to promote personal agendas"))),re.default.createElement("div",{className:"flex"},re.default.createElement(N,{onClick:n,status:s,className:"btn-default btn-m mr-16"},"Back"),re.default.createElement(N,{className:"btn-primary btn-m",onClick:d,status:s,disabled:a!==Dp},re.default.createElement("span",null,"Continue"),re.default.createElement(y,{icon:"arrow-right"}))),re.default.createElement(_,null,re.default.createElement(se,{error:i,defaultError:Op}))),re.default.createElement("div",{className:"rhs"},re.default.createElement(y,{icon:"mentoring-screen",category:"graphics"})))};var bt=p(f());var Il=({links:e})=>bt.default.createElement("section",{className:"celebrate-section"},bt.default.createElement(y,{icon:"confetti",category:"graphics"}),bt.default.createElement("h2",null,"You\u2019re now a mentor!"),bt.default.createElement("h3",null,"Thank you - we\u2019re so grateful for your commitment \u{1F64F}"),bt.default.createElement("p",{className:"welcome"},"We want to make getting started with mentoring as easy as possible. Watch the video below to learn how to get started."),bt.default.createElement("div",{className:"video-frame"},bt.default.createElement("header",{className:"video-header"},bt.default.createElement(w,{icon:"video",alt:"This is a video"}),bt.default.createElement("div",{className:"info"},bt.default.createElement("h3",null,"Welcome to the Mentor Team!"),bt.default.createElement("p",null,"Video \xB7 0:24"))),bt.default.createElement("div",{className:"video",style:{padding:"56.25% 0 0 0",position:"relative"}},bt.default.createElement("iframe",{src:e.video,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})),bt.default.createElement("script",{src:"https://player.vimeo.com/api/player.js"})),bt.default.createElement("a",{href:e.dashboard,className:"btn-primary btn-m"},"I'm ready to get started!"));var qo=[{id:"CHOOSE_TRACK",label:"Select the tracks you want to mentor"},{id:"COMMIT",label:"Commit to being a good mentor"},{id:"CONGRATULATIONS",label:"Congratulations"}],qp=({children:e})=>pt.default.createElement("header",null,e),_p=({currentStep:e,links:t,onContinue:r,onBack:n})=>{let[o,s]=(0,pt.useState)([]);switch(e){case"CHOOSE_TRACK":return pt.default.createElement(Ml,{links:t.chooseTrackStep,selected:o,setSelected:s,onContinue:r});case"COMMIT":return pt.default.createElement(Al,{links:t.commitStep,selected:o,onContinue:r,onBack:n});case"CONGRATULATIONS":return pt.default.createElement(Il,{links:t.congratulationsStep})}},Fl=n=>{var o=n,{onClose:e,links:t}=o,r=O(o,["onClose","links"]);let[s,i]=(0,pt.useState)("CHOOSE_TRACK"),a=(0,pt.useCallback)(()=>{let l=qo.findIndex(d=>d.id===s)+1;i(qo[l].id)},[s]),u=(0,pt.useCallback)(()=>{let l=qo.findIndex(d=>d.id===s)-1;i(qo[l].id)},[s]);return pt.default.createElement(G,S(h({},r),{onClose:e,className:"m-become-mentor",cover:!0}),pt.default.createElement("div",{className:"md-container"},pt.default.createElement(qp,null,pt.default.createElement(wl,{steps:qo,currentStep:s}),pt.default.createElement(Cl,{onClick:e})),pt.default.createElement(_p,{currentStep:s,links:t,onContinue:a,onBack:u})))};var Di=({links:e,text:t,size:r})=>{let[n,o]=(0,po.useState)(!1);return po.default.createElement("div",null,po.default.createElement("button",{type:"button",className:`btn-primary btn-${r}`,onClick:()=>o(!0)},t),po.default.createElement(Fl,{open:n,links:e,onClose:()=>o(!1)}))};var we=p(f());var it=p(f());var Qt=p(f());var Us=n=>{var o=n,{testimonial:e,platforms:t}=o,r=O(o,["testimonial","platforms"]);return Qt.default.createElement(G,h({closeButton:!0,cover:!0,celebratory:!0,className:"m-testimonial"},r),Qt.default.createElement(oe,{src:e.student.avatarUrl,handle:e.student.handle}),Qt.default.createElement("div",{className:"testimonial-section"},Qt.default.createElement("div",{className:"content"},e.content),Qt.default.createElement("div",{className:"student"},"by ",Qt.default.createElement("strong",null,e.student.handle)),Qt.default.createElement("div",{className:"exercise"},"on ",Qt.default.createElement("strong",null,e.exercise.title)," in",Qt.default.createElement(pe,{iconUrl:e.track.iconUrl,title:e.track.title}),Qt.default.createElement("div",{className:"track-title"},e.track.title)),Qt.default.createElement("time",{dateTime:e.createdAt},Be(e.createdAt))),Qt.default.createElement(Xa,{title:"Share your testimonial with the world",url:e.links.self,shareTitle:"View this testimonial on Exercism",platforms:t}))};var Ct=p(f());var Wt=p(f());var Bp=new Error("Unable to delete testimonial"),Ll=o=>{var s=o,{testimonial:e,cacheKey:t,onClose:r}=s,n=O(s,["testimonial","cacheKey","onClose"]);let i=_e(),[a,{status:u,error:l}]=A(()=>{let{fetch:m}=M({endpoint:e.links.delete,method:"DELETE",body:null});return m},{onSuccess:()=>{i.setQueryData(t,m=>{if(!!m)return S(h({},m),{results:m.results.filter(g=>g.uuid!==e.uuid)})})}}),d=(0,Wt.useCallback)(m=>{m.preventDefault(),a()},[a]),c=(0,Wt.useCallback)(()=>{u!=="loading"&&r()},[r,u]);return Wt.default.createElement(G,h({className:"m-generic-confirmation",onClose:c},n),Wt.default.createElement("h3",null,"Are you sure you want to delete this testimonial?"),Wt.default.createElement("p",null,"Deleting the testimonial will hide it from this list, your profile and mentoring stats. ",Wt.default.createElement("strong",null,"This action is irreversible.")),Wt.default.createElement("form",{"data-turbo":"false",onSubmit:d,className:"buttons"},Wt.default.createElement(N,{type:"submit",status:u,className:"btn-warning btn-s"},"Delete testimonial"),Wt.default.createElement(N,{type:"button",status:u,onClick:c,className:"btn-enhanced btn-s"},"Cancel")),Wt.default.createElement(_,{resetKeys:[u]},Wt.default.createElement(se,{error:l,defaultError:Bp})))};var Dl=({testimonial:e,cacheKey:t})=>{let{buttonAttributes:r,panelAttributes:n,listAttributes:o,itemAttributes:s,setOpen:i,open:a}=Mr(1),[u,l]=(0,Ct.useState)(!1),d=(0,Ct.useCallback)(()=>{i(!1),l(!0)},[i]),c=(0,Ct.useCallback)(()=>{l(!1)},[]);return Ct.default.createElement(Ct.default.Fragment,null,Ct.default.createElement("button",h({className:"options-button"},r),Ct.default.createElement(w,{icon:"more-horizontal",alt:"Options"})),a?Ct.default.createElement("div",S(h({},n),{className:"c-dropdown-generic-menu"}),Ct.default.createElement("ul",h({},o),Ct.default.createElement("li",h({},s(0)),Ct.default.createElement("button",{onClick:d},"Delete testimonial")))):null,Ct.default.createElement(Ll,{open:u,onClose:c,testimonial:e,cacheKey:t}))};var Ol=({testimonial:e,cacheKey:t,isRevealed:r,platforms:n})=>{let[o,s]=(0,it.useState)(!1);return it.default.createElement(it.default.Fragment,null,it.default.createElement("div",{className:"testimonial"},it.default.createElement("a",{href:"#",onClick:i=>{s(!0),i.preventDefault()}},it.default.createElement(pe,h({},e.track)),it.default.createElement(oe,{src:e.student.avatarUrl,handle:e.student.handle}),it.default.createElement("div",{className:"info"},it.default.createElement("div",{className:"student"},e.student.handle),it.default.createElement("div",{className:"exercise"},"on ",e.exercise.title," in ",e.track.title)),r?it.default.createElement("div",{className:"new"},"New"):null,it.default.createElement("div",{className:"content"},e.content),it.default.createElement("time",{dateTime:e.createdAt},Be(e.createdAt)),it.default.createElement(y,{icon:"modal",className:"action-icon"})),it.default.createElement(Dl,{testimonial:e,cacheKey:t})),it.default.createElement(Us,{open:o,testimonial:e,onClose:()=>s(!1),platforms:n}))};var St=p(f());var Up=new Error("Unable to reveal testimonial"),ql=({testimonial:e,onRevealed:t,cacheKey:r,platforms:n})=>{let o=_e(),s=Ba(),[i,a]=(0,St.useState)(!1),[u,l]=(0,St.useState)(null),[d,{status:c,error:m}]=A(()=>{let{fetch:v}=M({endpoint:e.links.reveal,method:"PATCH",body:null});return v.then(b=>ee(b,"testimonial"))},{onSuccess:v=>{!s.current||(l(v),a(!0))}}),g=(0,St.useCallback)(()=>{let v=o.getQueryData(r);!v||!u||o.setQueryData(r,S(h({},v),{results:v.results.map(b=>b.uuid===u.uuid?u:b)}))},[r,u,o]);return St.default.createElement("a",{href:"#",onClick:v=>{d(),v.preventDefault()},className:"unrevealed-testimonial"},St.default.createElement(pe,h({},e.track)),St.default.createElement(y,{icon:"avatar-placeholder",className:"c-avatar"}),St.default.createElement("div",{className:"info"},St.default.createElement("div",{className:"student"},"Someone left you a testimonial\u2026 \u{1F632}"),St.default.createElement("div",{className:"exercise"},"Click / tap to reveal")),St.default.createElement("time",{dateTime:e.createdAt},Be(e.createdAt)),St.default.createElement(y,{icon:"modal",className:"action-icon"}),St.default.createElement(V,{error:m,status:c,defaultError:Up}),u?St.default.createElement(Us,{open:i,testimonial:u,onClose:()=>{a(!1),g(),t()},platforms:n}):null)};var ir=p(f());var Jp=({option:e})=>ir.default.createElement(ir.default.Fragment,null,ir.default.createElement(to,{track:e}),ir.default.createElement("div",{className:"title"},e.title)),Xp=({option:e})=>ir.default.createElement(ir.default.Fragment,null,ir.default.createElement(to,{track:e}),ir.default.createElement("div",{className:"sr-only"},e.title)),_l=({tracks:e,value:t,setValue:r})=>{let n=e.find(s=>s.slug===t)||e[0],o=(0,ir.useCallback)(s=>{r(s.slug)},[r]);return ir.default.createElement(fs,{tracks:e,value:n,setValue:o,OptionComponent:Jp,SelectedComponent:Xp,size:"inline"})};var cn=p(f());var Bl=({option:e})=>{switch(e){case"unrevealed":return cn.default.createElement(cn.default.Fragment,null,"Sort by Unrevealed First");case"newest":return cn.default.createElement(cn.default.Fragment,null,"Sort by Newest First");case"oldest":return cn.default.createElement(cn.default.Fragment,null,"Sort by Oldest First")}},Ul=({value:e,setValue:t})=>cn.default.createElement(Ue,{options:["unrevealed","newest","oldest"],value:e,setValue:t,SelectedComponent:Bl,OptionComponent:Bl});var Hp=new Error("Unable to load testimonials"),Gp="unrevealed",Oi=({request:e,tracks:t,platforms:r})=>{var T;let{request:n,setQuery:o,setCriteria:s,setPage:i,setOrder:a}=st(e),[u,l]=(0,we.useState)(((T=n.query)==null?void 0:T.criteria)||""),d=["mentor-testimonials",n.endpoint,je(n.query)],{status:c,resolvedData:m,latestData:g,isFetching:v,error:b}=Z(d,S(h({},n),{query:je(n.query)})),k=(0,we.useCallback)(P=>{o(S(h({},n.query),{trackSlug:P,page:void 0}))},[n.query,o]),[I,E]=(0,we.useState)([]);return qt({pushOn:je(n.query)}),(0,we.useEffect)(()=>{let P=setTimeout(()=>{s(u)},200);return()=>{clearTimeout(P)}},[s,u]),we.default.createElement("div",{className:"lg-container"},we.default.createElement("article",{className:"content"},we.default.createElement("div",{className:"c-search-bar"},we.default.createElement(_l,{tracks:t,value:n.query.trackSlug,setValue:k}),we.default.createElement("input",{className:"--search",placeholder:"Search by student name or testimonial",value:u,onChange:P=>{l(P.target.value)}}),we.default.createElement(Ul,{value:n.query.order||Gp,setValue:a})),we.default.createElement(Te,{isFetching:v},we.default.createElement(V,{status:c,error:b,defaultError:Hp},m?m.results.length==0?we.default.createElement("div",{className:"no-testimonials"},we.default.createElement(y,{icon:"testimonials"}),we.default.createElement("h2",null,"You currently have no testimonials"),we.default.createElement("p",null,"Testimonials are left by students on ending successful mentoring discussions.")):we.default.createElement(we.default.Fragment,null,we.default.createElement("div",{className:"testimonials"},m.results.map(P=>P.isRevealed?we.default.createElement(Ol,{key:P.uuid,testimonial:P,cacheKey:d,isRevealed:I.includes(P.uuid),platforms:r}):we.default.createElement(ql,{key:P.uuid,testimonial:P,cacheKey:d,onRevealed:()=>E([...I,P.uuid]),platforms:r})))):null))),m?we.default.createElement(vt,{disabled:g===void 0,current:n.query.page,total:m.meta.totalPages,setPage:i}):null)};var F=p(f());var pn=p(f());var Js=({mentoringStatus:e,discussions:t,className:r="",links:n})=>pn.default.createElement(Wa,{className:r},pn.default.createElement(Ya,null,e==="in_progress"&&n.inProgressDiscussion?pn.default.createElement("a",{href:n.inProgressDiscussion},"Continue mentoring"):e==="requested"?pn.default.createElement("a",{href:n.pendingMentorRequest},"View mentoring request"):pn.default.createElement("a",{href:n.requestMentoring},"Request mentoring")),pn.default.createElement(Va,null,pn.default.createElement(Qa,{mentoringStatus:e,discussions:t,links:{share:n.shareMentoring}})));var qi=class{constructor(t,r){this.subscription=Pr.subscriptions.create({channel:"LatestIterationStatusChannel",uuid:t},{received:n=>{r(n)}})}disconnect(){this.subscription.unsubscribe()}};var Jl=p(nt());var Qp=2e3,Xl=({solution:e,exerciseType:t,request:r,discussions:n,links:o,iterations:s,track:i})=>{let a=_e(),u=`nudge-${e.uuid}`,[l,d]=(0,F.useState)(!0),{resolvedData:c}=Z(u,S(h({},r),{options:S(h({},r.options),{refetchInterval:l?Qp:!1})})),m=c==null?void 0:c.status;(0,F.useEffect)(()=>{switch(m){case"deleted":case"testing":case"analyzing":d(!0);break;default:d(!1);break}},[m]);let g=(0,F.useCallback)(()=>{switch(e.mentoringStatus){case"requested":return"mentoringRequested";case"in_progress":return"inProgress";default:switch(m){case"non_actionable_automated_feedback":case"no_automated_feedback":{switch(t){case"concept":case"tutorial":return"completeExercise";case"practice":return"mentoring"}break}case"tests_failed":return"testsFailed";default:return null}}},[t,m,e.mentoringStatus]),[v,b]=(0,F.useState)(g()),k=(0,F.useRef)(v),[I,E]=(0,F.useState)(!1);(0,F.useEffect)(()=>{let P=new qi(e.uuid,X=>{a.setQueryData(u,X)});return()=>{P.disconnect()}},[u,e]),(0,F.useEffect)(()=>{b(g())},[g]),(0,F.useEffect)(()=>{k.current!==v&&E(!0)},[v]);let T=I?"animate":"";switch(v){case"mentoringRequested":return F.default.createElement(Kp,{track:i,links:o,className:T});case"inProgress":return F.default.createElement(zp,{discussion:n[0],className:T});case"completeExercise":return F.default.createElement(Wp,{status:e.status,iterations:s,completeExerciseLink:o.completeExercise,className:T});case"mentoring":return F.default.createElement(Yp,{mentoringStatus:e.mentoringStatus,discussions:n,links:o,className:T});case"testsFailed":return F.default.createElement(Vp,{track:i,links:o,className:T});default:return null}},Wp=({status:e,iterations:t,completeExerciseLink:r,className:n=""})=>{if(e=="published"||e=="completed")return null;let o=["completion-nudge",n].filter(s=>s.length>0);return F.default.createElement("section",{className:o.join(" ")},F.default.createElement(y,{icon:"complete",category:"graphics"}),F.default.createElement("div",{className:"info"},F.default.createElement("h3",null,"Nice, it looks like you\u2019re done here!"),F.default.createElement("p",null,"Complete the exercise to unlock new concepts and exercises."," ",F.default.createElement("strong",null,"Remember, you can get mentored even after you\u2019ve completed the exercise."))),F.default.createElement(ja,{iterations:t,endpoint:r}))},Yp=({mentoringStatus:e,discussions:t,links:r,className:n=""})=>{let o=["mentoring-prompt-nudge",n].filter(s=>s.length>0);return e==="finished"?null:F.default.createElement("section",{className:o.join(" ")},F.default.createElement(y,{icon:"mentoring-screen",category:"graphics"}),F.default.createElement("div",{className:"info"},F.default.createElement("h3",null,"Improve your solution with mentoring"),F.default.createElement("p",null,"On average, students that get mentoring iterate a further 3.5 times on their solution. It\u2019s a great way to discover what you don\u2019t know about your language."),F.default.createElement("div",{className:"options"},F.default.createElement(Js,{mentoringStatus:e,discussions:t,links:r})," ",F.default.createElement("a",{href:r.mentoringInfo,className:"more-info",target:"_blank",rel:"noreferrer"},"What is Mentoring?",F.default.createElement(w,{icon:"external-link",alt:"Opens in a new tab"})))))},Vp=({track:e,links:t,className:r=""})=>{let n=["mentoring-prompt-nudge",r].filter(o=>o.length>0);return F.default.createElement("section",{className:n.join(" ")},F.default.createElement(y,{icon:"mentoring-screen",category:"graphics"}),F.default.createElement("div",{className:"info"},F.default.createElement("h3",null,"Struggling with this exercise?"),F.default.createElement("p",null,"Get some help from our awesome ",e.title," mentors."),F.default.createElement("div",{className:"options"},F.default.createElement("a",{href:t.requestMentoring,className:"btn-primary btn-s"},"Request mentoring"),F.default.createElement("a",{href:t.mentoringInfo,className:"more-info",target:"_blank",rel:"noreferrer"},"What is Mentoring?",F.default.createElement(w,{icon:"external-link",alt:"Opens in a new tab"})))))},Kp=({track:e,links:t,className:r=""})=>{let n=["mentoring-request-nudge",r].filter(o=>o.length>0);return F.default.createElement("section",{className:n.join(" ")},F.default.createElement("div",{className:"info"},F.default.createElement("h3",null,"You've requested mentoring"),F.default.createElement("p",null,"Waiting on a mentor...")),F.default.createElement("a",{href:t.pendingMentorRequest,className:"btn-primary btn-s"},"Open request"))},zp=({discussion:e,className:t=""})=>{let r=["mentoring-discussion-nudge","c-mentor-discussion-widget",t].filter(n=>n.length>0);return F.default.createElement("section",{className:r.join(" ")},F.default.createElement(oe,{src:e.student.avatarUrl,handle:e.student.handle,className:"student-avatar"}),F.default.createElement(oe,{src:e.mentor.avatarUrl,handle:e.mentor.handle,className:"mentor-avatar"}),F.default.createElement("div",{className:"info"},F.default.createElement("h3",null,"You're being mentored by"," ",F.default.createElement("strong",null,e.mentor.handle)),F.default.createElement("div",{className:"details"},e.status==="awaiting_student"?F.default.createElement("div",{className:"--turn"},"Your turn to respond"):null,F.default.createElement("div",{className:"--comments"},F.default.createElement(y,{icon:"comment"}),e.postsCount," ",(0,Jl.default)("comments",e.postsCount)))),F.default.createElement("a",{href:e.links.self,className:"btn-primary btn-s"},"Open discussion"))};var kt=p(f());var q=p(f());var Zr=p(nt());function fo(e){if(e.length===0)return"";if(e.length===1)return e[0];let t=e.pop();return`${e.join(", ")} and ${t}`}var Xs=({exercise:e})=>q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution looks good!"),q.default.createElement("p",null,q.default.createElement("strong",null,"Good job."),' Your solution to "',e.title,'!" has passed all the tests \u{1F60A}')),q.default.createElement("div",{className:"status passed"},"Tests Passed")),Hl=({iteration:e,exercise:t,links:r})=>{switch(e.status){case"deleted":case"untested":return q.default.createElement(q.default.Fragment,null);case"testing":case"analyzing":return q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution is being processed\u2026"),q.default.createElement("p",null,"Your solution is currently being tested, analysed, and compared to other solutions to find potential improvements. This should only take a few seconds.")),q.default.createElement(y,{icon:"spinner",className:"spinner"}));case"tests_failed":return q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution failed the tests."),q.default.createElement("p",null,"Hmmm, it looks like your solution isn't working. Please check that the tests pass locally on your machine. If they do pass for you, please read"," ",q.default.createElement("a",{href:r.testsPassLocallyArticle,rel:"noreferrer",target:"_blank"},"this article"," ",q.default.createElement(w,{icon:"external-link",alt:"Opens in a new tab"})))),q.default.createElement("div",{className:"status failed"},"Tests Failed"));case"essential_automated_feedback":{if(t.type==="tutorial")return q.default.createElement(Xs,{exercise:t});let n=[`${e.numEssentialAutomatedComments} essential ${(0,Zr.default)("improvement",e.numEssentialAutomatedComments)}`,e.numActionableAutomatedComments>0?`${e.numActionableAutomatedComments} ${(0,Zr.default)("recommendation",e.numActionableAutomatedComments)}`:"",e.numNonActionableAutomatedComments>0?`${e.numNonActionableAutomatedComments} additional ${(0,Zr.default)("comment",e.numNonActionableAutomatedComments)}`:""].filter(o=>o.length>0);return q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution worked, but you can take it further\u2026"),q.default.createElement("p",null,"We\u2019ve analysed your solution and have ",fo(n),". Address the essential improvements before proceeding.")),q.default.createElement("div",{className:"status passed"},"Tests Passed"))}case"no_automated_feedback":return t.type==="tutorial"?q.default.createElement(Xs,{exercise:t}):q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution looks great!"),q.default.createElement("p",null,"Your solution passed the tests and we don't have any recommendations."," ",t.type==="practice"?"You might want to work with a mentor to make it even better.":null," ",q.default.createElement("strong",null,"Great Job! \u{1F389}"))),q.default.createElement("div",{className:"status passed"},"Tests Passed"));case"non_actionable_automated_feedback":return t.type==="tutorial"?q.default.createElement(Xs,{exercise:t}):q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution looks great!"),q.default.createElement("p",null,"We\u2019ve analysed your solution and not found anything that needs changing. We do have"," ",q.default.createElement("span",{className:"non-actionable"},e.numNonActionableAutomatedComments," additional"," ",(0,Zr.default)("comment",e.numNonActionableAutomatedComments))," ","that you might like to check."," ",t.type==="practice"?"Consider working with a mentor to make it even better. ":" ",q.default.createElement("strong",null,"Great Job! \u{1F389}"))),q.default.createElement("div",{className:"status passed"},"Tests Passed"));case"actionable_automated_feedback":{if(t.type==="tutorial")return q.default.createElement(Xs,{exercise:t});let n=[`${e.numActionableAutomatedComments} ${(0,Zr.default)("recommendation",e.numActionableAutomatedComments)}`,e.numNonActionableAutomatedComments>0?`${e.numNonActionableAutomatedComments} additional ${(0,Zr.default)("comment",e.numNonActionableAutomatedComments)}`:""].filter(o=>o.length>0);switch(t.type){case"concept":return q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution is good enough to continue!"),q.default.createElement("p",null,"We\u2019ve analysed your solution and have ",fo(n),". You can either continue or address the"," ",(0,Zr.default)("recommendation",e.numActionableAutomatedComments)," ","first - your choice!")),q.default.createElement("div",{className:"status passed"},"Tests Passed"));case"practice":return q.default.createElement("header",null,q.default.createElement("div",{className:"info"},q.default.createElement("h2",null,"Your solution worked, but you can take it further\u2026"),q.default.createElement("p",null,"We\u2019ve analysed your solution and have ",fo(n),". We suggest addressing the"," ",(0,Zr.default)("recommendation",e.numActionableAutomatedComments)," ","before proceeding.")),q.default.createElement("div",{className:"status passed"},"Tests Passed"))}}}};var Hs=p(f());var Gl=({iteration:e})=>Hs.default.createElement("a",{className:"iteration",href:e.links.self},Hs.default.createElement(Rn,{iteration:e,showSubmissionMethod:!0,showTestsStatusAsButton:!1,showFeedbackIndicator:!0}),Hs.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));var Rr=p(f());var jl=({link:e,isTutorial:t})=>Rr.default.createElement("div",{className:"community-solutions"},Rr.default.createElement(y,{icon:"community-solutions",category:"graphics",className:"header-icon"}),Rr.default.createElement("h3",null,"Learn from others' solutions"),t?Rr.default.createElement("p",null,"This is where we\u2019d usually link you to other peoples\u2019 solutions to the same exercise."):Rr.default.createElement(Rr.default.Fragment,null,Rr.default.createElement("p",null,"Explore their approaches to learn new tips and tricks. Discover popular solutions to this exercise."),Rr.default.createElement("a",{href:e,className:"btn-small-discourage"},"View community solutions")));var Er=p(f());var Ql=({mentoringStatus:e,discussions:t,links:r,isTutorial:n,trackTitle:o})=>Er.default.createElement("div",{className:"mentoring"},Er.default.createElement(y,{icon:"mentoring-screen",className:"header-icon",category:"graphics"}),Er.default.createElement("h3",null,"Get mentored by a human"),n?Er.default.createElement("p",null,"You also get the opportunity to be mentored by ",o," experts."):Er.default.createElement(Er.default.Fragment,null,Er.default.createElement("p",null,"On average, students iterate a further 3.5 times when mentored on a solution."),Er.default.createElement(Js,{mentoringStatus:e,discussions:t,links:r}),Er.default.createElement("a",{href:r.learnMoreAboutMentoringArticle,className:"learn-more"},"Learn more",Er.default.createElement(w,{icon:"external-link",alt:"Opens in new tab"}))));var $p=2e3,Wl=({solution:e,track:t,discussions:r,request:n,exercise:o,links:s})=>{let i=_e(),a=`solution-${e.uuid}-summary`,[u,l]=(0,kt.useState)(!0),{resolvedData:d}=Z(a,S(h({},n),{options:S(h({},n.options),{refetchInterval:u?$p:!1})}));(0,kt.useEffect)(()=>{let m=new Ua({uuid:e.uuid},g=>{i.setQueryData(a,g)});return()=>{m.disconnect()}},[a,e,i]);let c=d==null?void 0:d.iterations[(d==null?void 0:d.iterations.length)-1];return(0,kt.useEffect)(()=>{if(!!c)switch(c.status){case"deleted":case"untested":case"testing":case"analyzing":l(!0);break;default:l(!1);break}},[c]),status==="loading"?kt.default.createElement(Ae,null):d?kt.default.createElement(kt.default.Fragment,null,c?kt.default.createElement("section",{className:"latest-iteration"},kt.default.createElement(Hl,{iteration:c,exercise:o,links:s}),kt.default.createElement(Gl,{iteration:c}),kt.default.createElement(zn,{link:s.allIterations,text:"See all of your iterations"}),kt.default.createElement("div",{className:"next-steps"},kt.default.createElement(jl,{link:s.communitySolutions,isTutorial:o.type==="tutorial"}),kt.default.createElement(Ql,{mentoringStatus:e.mentoringStatus,discussions:r,links:s,isTutorial:o.type==="tutorial",trackTitle:t.title}))):null):null};var et=p(f());var xr=p(f());var Mn=p(f());var Yl=({iteration:e,isOutOfDate:t})=>Mn.default.createElement("header",{className:"iteration-header"},Mn.default.createElement(Zn,{iteration:e,showSubmissionMethod:!1,OutOfDateNotice:t?Mn.default.createElement(Zp,null):null,showTestsStatusAsButton:!0,showFeedbackIndicator:!1})),Zp=()=>Mn.default.createElement(jr,{content:`
        This exercise has been updated since this iteration was submitted.
        You can update to the latest version by clicking on the yellow bar at the top of the main exercise page.`},Mn.default.createElement("div",null,Mn.default.createElement(Rn.OutOfDateNotice,null)));var Rp=new Error("Unable to load files"),Vl=({iterations:e,instructions:t,tests:r,currentIteration:n,onClick:o,language:s,indentSize:i,isOutOfDate:a,isLinked:u,setIsLinked:l,discussion:d})=>{let{resolvedData:c,error:m,status:g,isFetching:v}=Z(n.links.files,{endpoint:n.links.files,options:{}});return xr.default.createElement(xr.default.Fragment,null,xr.default.createElement(Yl,{iteration:n,isOutOfDate:a}),n.status=="deleted"?xr.default.createElement("div",{className:"deleted"},"This iteration has been deleted"):xr.default.createElement(Te,{isFetching:v},xr.default.createElement(V,{error:m,status:g,defaultError:Rp},c?xr.default.createElement(cs,{files:c.files,language:s,indentSize:i,instructions:t,tests:r}):null)),e.length>1?xr.default.createElement("footer",{className:"c-iterations-footer"},xr.default.createElement(ds,{iterations:e,onClick:o,current:n}),d?xr.default.createElement(Ms,{value:u,setValue:l}):null):null)};var Yt=p(f());var Kl=({mentor:e,track:t,exercise:r})=>Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(pe,{title:t.title,iconUrl:t.iconUrl}),Yt.default.createElement(Ot,{iconUrl:r.iconUrl}),Yt.default.createElement("div",{className:"info-for-student"},e?Yt.default.createElement(Yt.default.Fragment,null,"You're being mentored by ",Yt.default.createElement("strong",null,e.handle)," on"," ",Yt.default.createElement("div",{className:"exercise-title"},r.title)):Yt.default.createElement(Yt.default.Fragment,null,"Get mentoring on",Yt.default.createElement("div",{className:"exercise-title"},r.title))));var Nt=p(f());var Jr=p(f());var zl=({mentor:e})=>Jr.default.createElement("div",{className:"mentor-info"},Jr.default.createElement("div",{className:"info"},Jr.default.createElement("div",{className:"subtitle"},"Meet your mentor"),Jr.default.createElement("div",{className:"handle-block"},Jr.default.createElement("div",{className:"handle"},e.handle),Jr.default.createElement(an,{value:e.reputation.toString(),type:"primary",size:"small"})),Jr.default.createElement("div",{className:"name"},e.name),Jr.default.createElement("div",{className:"bio"},e.bio)),Jr.default.createElement(oe,{src:e.avatarUrl,handle:e.handle}));var vn=p(f());var ar=p(f());var Me=p(f());var $l=({discussion:e,onHappy:t,onSatisfied:r,onUnhappy:n})=>Me.default.createElement("section",{className:"rate-step"},Me.default.createElement("h2",null,"It's time to review this discussion"),Me.default.createElement("div",{className:"container"},Me.default.createElement("div",{className:"lhs"},e.finishedBy==="mentor"&&e.finishedAt!==void 0?Me.default.createElement("div",{className:"finished-info"},Me.default.createElement(oe,{src:e.mentor.avatarUrl,handle:e.mentor.handle}),Me.default.createElement("div",{className:"info"},Me.default.createElement("div",{className:"mentor"},e.mentor.handle," has finished mentoring you on"),Me.default.createElement("div",{className:"exercise"},Me.default.createElement(Ot,{iconUrl:e.exercise.iconUrl}),Me.default.createElement("strong",null,e.exercise.title)," in"," ",e.track.title)),Me.default.createElement("time",null,Be(e.finishedAt))):null,Me.default.createElement("p",{className:"explanation"},"To help us and our mentors understand how well we're doing, we\u2019d love some feedback on your discussion with"," ",e.mentor.handle,". Good mentors will answer your questions, introduce you to new ideas, or encourage you to try new things."),Me.default.createElement("div",{className:"buttons-section"},Me.default.createElement("h3",null,"How was your discussion with ",e.mentor.handle,"?"),Me.default.createElement("div",{className:"buttons"},Me.default.createElement("button",{type:"button",onClick:n,className:"sad"},Me.default.createElement(y,{icon:"sad-face"}),"Problematic"),Me.default.createElement("button",{type:"button",onClick:r,className:"neutral"},Me.default.createElement(y,{icon:"neutral-face"}),"Acceptable"),Me.default.createElement("button",{type:"button",onClick:t,className:"happy"},Me.default.createElement(y,{icon:"happy-face"}),"It was good!")))),Me.default.createElement("div",{className:"rhs"},Me.default.createElement(oe,{src:e.mentor.avatarUrl,handle:e.mentor.handle}))));var Ce=p(f());var Pn=p(f()),Zl=({id:e,min:t,max:r,value:n,onChange:o})=>Pn.default.createElement(Pn.default.Fragment,null,Pn.default.createElement("textarea",{value:n,onChange:o,id:e,placeholder:"Write your testimonial here",minLength:t,maxLength:r}),Pn.default.createElement("div",{className:"counter"},Pn.default.createElement("div",null,n.length," / ",r),Pn.default.createElement("div",null,t," minimum")));var ef=new Error("Unable to submit mentor rating"),Rl=({onSubmit:e,onSkip:t,onBack:r,discussion:n})=>{let[o,s]=(0,Ce.useState)(""),[i,{status:a,error:u}]=A(()=>{let{fetch:v}=M({endpoint:n.links.finish,method:"PATCH",body:JSON.stringify({rating:5,testimonial:o})});return v},{onSuccess:()=>{o.length===0?t():e()}}),l=(0,Ce.useCallback)(v=>{v.preventDefault(),i()},[i]),d=(0,Ce.useCallback)(()=>{r()},[r]),c=(0,Ce.useCallback)(v=>{s(v.target.value)},[]),m=o.length===0?"Skip":"Finish",g=o.length===0?"btn-default btn-m":"btn-primary btn-m";return Ce.default.createElement("section",{className:"testimonial-step"},Ce.default.createElement("h2",null,"We're glad you had a good discussion!"),Ce.default.createElement("div",{className:"container"},Ce.default.createElement("div",{className:"lhs"},Ce.default.createElement("p",{className:"explanation"},"Mentors volunteer their time for free. A nice testimonial is a great way of thanking them, and encouraging them to continue helping others."),Ce.default.createElement("form",{"data-turbo":"false",onSubmit:l},Ce.default.createElement("label",{htmlFor:"testimonial"},"Leave ",n.mentor.handle," a testimonial (optional)"),Ce.default.createElement(Zl,{id:"testimonial",min:30,max:160,value:o,onChange:c}),Ce.default.createElement("div",{className:"form-buttons"},Ce.default.createElement(N,{type:"button",onClick:d,status:a,className:"btn-default btn-m"},Ce.default.createElement(y,{icon:"arrow-left"}),Ce.default.createElement("span",null,"Back")),Ce.default.createElement(N,{type:"submit",status:a,className:g},Ce.default.createElement("span",null,m)))),Ce.default.createElement(V,{status:a,error:u,defaultError:ef})),Ce.default.createElement("div",{className:"rhs"},Ce.default.createElement("div",{className:"avatar-wrapper"},Ce.default.createElement(oe,{src:n.mentor.avatarUrl,handle:n.mentor.handle}),o.length!==0?Ce.default.createElement(y,{icon:"thumb-up-white-on-green"}):null))))};var en=p(f());var em=({mentorHandle:e,links:t})=>en.default.createElement("section",{className:"celebrate-step neon-cat"},en.default.createElement("img",{src:"https://media.giphy.com/media/sIIhZliB2McAo/source.gif",className:"gif"}),en.default.createElement("h2",null,"Thank you for leaving a testimonial \u{1F499}"),en.default.createElement("p",null,en.default.createElement("strong",null,"You\u2019ve helped make ",e,"'s day."),"Please be sure to share your experience of Exercism with others."),en.default.createElement("a",{href:t.exercise,className:"btn-primary btn-l"},en.default.createElement("span",null,"Back to the exercise"),en.default.createElement(y,{icon:"arrow-right"})));var Et=p(f()),tm=({report:e,links:t})=>Et.default.createElement("section",{className:"unhappy-final-step"},e.report?Et.default.createElement(Et.default.Fragment,null,Et.default.createElement("h2",null,"Thank you for your report"),Et.default.createElement("p",{className:"explanation"},"Thanks for letting us know. We will look into your report and get back to you in the next few days. In the meantime we hope you have a better next experience.")):e.requeue?Et.default.createElement(Et.default.Fragment,null,Et.default.createElement("h2",null,"Your solution has been be requeued"),Et.default.createElement("p",{className:"explanation"},"Your solution has been put back in the queue and another mentor will hopefully pick it up soon. We hope you have a positive mentoring session on this solution next time!")):Et.default.createElement(Et.default.Fragment,null,Et.default.createElement("h2",null,"We hope you have a better next experience"),Et.default.createElement("p",{className:"explanation"},"Sorry this experience wasn't great. We hope the next one will be better.")),Et.default.createElement("div",{className:"form-buttons"},Et.default.createElement("a",{href:t.exercise,className:"btn-primary btn-m"},"Go back to your solution")));var ho=p(f()),rm=({links:e})=>ho.default.createElement("section",{className:"acceptable-final-step"},ho.default.createElement("h2",null,"Your solution has been requeued."),ho.default.createElement("p",{className:"explanation"},"Your solution has been put back in the queue and another mentor will hopefully pick it up soon. We hope you have a positive mentoring session on this solution next time!"),ho.default.createElement("div",{className:"form-buttons"},ho.default.createElement("a",{href:e.exercise,className:"btn-primary btn-m"},"Go back to your solution")));var Nr=p(f());var tf=new Error("Unable to submit mentor rating"),nm=({discussion:e,onRequeued:t,onNotRequeued:r,onBack:n})=>{let[o,{status:s,error:i}]=A(u=>{let{fetch:l}=M({endpoint:e.links.finish,method:"PATCH",body:JSON.stringify({rating:3,requeue:u})});return l},{onSuccess:(u,l)=>{l?t():r()}}),a=(0,Nr.useCallback)(()=>{n()},[n]);return Nr.default.createElement("section",{className:"acceptable-decision-step"},Nr.default.createElement("h2",null,"Sorry that this mentoring wasn't great."),Nr.default.createElement("p",{className:"explanation"},"Would you like to put this exercise back in the queue for another mentor to look at?"),Nr.default.createElement("div",{className:"form-buttons"},Nr.default.createElement(N,{type:"button",onClick:a,status:s,className:"btn-default btn-m"},"Back"),Nr.default.createElement(N,{type:"button",onClick:()=>o(!1),status:s,className:"btn-enhanced btn-m"},"No thanks"),Nr.default.createElement(N,{type:"button",onClick:()=>o(!0),status:s,className:"btn-enhanced btn-m"},"Yes please"),Nr.default.createElement(V,{status:s,error:i,defaultError:tf})))};var J=p(f());var fn=p(f());var om=({option:e})=>{switch(e){case"coc":return fn.default.createElement(fn.default.Fragment,null,"Code of Conduct violation");case"incorrect":return fn.default.createElement(fn.default.Fragment,null,"Wrong or misleading information");case"other":return fn.default.createElement(fn.default.Fragment,null,"Other")}},sm=({value:e,setValue:t})=>fn.default.createElement(Ue,{options:["coc","incorrect","other"],value:e,setValue:t,SelectedComponent:om,OptionComponent:om});var rf=new Error("Unable to submit mentor rating"),im=({discussion:e,onSubmit:t,onBack:r})=>{let[n,o]=(0,J.useState)({requeue:!0,report:!1,reason:"coc"}),s=(0,J.useRef)(null),[i,{status:a,error:u}]=A(()=>{var m;let{fetch:c}=M({endpoint:e.links.finish,method:"PATCH",body:JSON.stringify({rating:1,requeue:n.requeue,report:n.report,report_reason:n.reason,report_message:(m=s.current)==null?void 0:m.value})});return c},{onSuccess:()=>{t(n)}}),l=(0,J.useCallback)(c=>{c.preventDefault(),i()},[i]),d=(0,J.useCallback)(()=>{r()},[r]);return J.default.createElement("section",{className:"report-step"},J.default.createElement("h2",null,"How can we help?"),J.default.createElement("div",{className:"container"},J.default.createElement("div",{className:"lhs"},J.default.createElement("p",{className:"explanation"},"We\u2019re really sorry that you experienced a problematic mentoring discussion, and would like to help ensure your next experience is a positive one."),J.default.createElement("form",{"data-turbo":"false",onSubmit:l},J.default.createElement("h3",null,"How would you like to resolve the issue?"),J.default.createElement("label",{className:"c-checkbox-wrapper"},J.default.createElement("input",{type:"checkbox",checked:!0,disabled:!0}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-checkbox"},J.default.createElement(y,{icon:"checkmark"})),"Block further interactions with this mentor")),J.default.createElement("label",{htmlFor:"requeue",className:"c-checkbox-wrapper"},J.default.createElement("input",{type:"checkbox",checked:n.requeue,onChange:()=>o(S(h({},n),{requeue:!n.requeue})),id:"requeue"}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-checkbox"},J.default.createElement(y,{icon:"checkmark"})),"Put your solution back in the queue for mentoring")),J.default.createElement("label",{htmlFor:"report",className:"c-checkbox-wrapper"},J.default.createElement("input",{type:"checkbox",checked:n.report,onChange:()=>o(S(h({},n),{report:!n.report})),id:"report"}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-checkbox"},J.default.createElement(y,{icon:"checkmark"})),"Report this discussion to an admin")),n.report?J.default.createElement("div",{className:"report"},J.default.createElement("div",{className:"field"},J.default.createElement("label",{htmlFor:"reason"},"Why are you reporting this conversation?"),J.default.createElement(sm,{value:n.reason,setValue:c=>o(S(h({},n),{reason:c}))})),J.default.createElement("div",{className:"field"},J.default.createElement("label",{htmlFor:"message"},"What went wrong?"),J.default.createElement("textarea",{required:!0,ref:s,id:"message",placeholder:"Please provide exactly why you are making this report, and tell us what happened."})),J.default.createElement("div",{className:"assurance"},"Your report will be sent to our adminstrators who will investigate further")):null,J.default.createElement("div",{className:"form-buttons"},J.default.createElement(N,{type:"button",onClick:d,status:a,className:"btn-default btn-m"},J.default.createElement(y,{icon:"arrow-left"}),J.default.createElement("span",null,"Back")),J.default.createElement(N,{status:a,type:"submit",className:"btn-primary btn-m"},"Finish"))),J.default.createElement(V,{status:a,error:u,defaultError:rf})),J.default.createElement("div",{className:"rhs"},J.default.createElement(oe,{src:e.mentor.avatarUrl,handle:e.mentor.handle}))))};var ai=p(f());var x=function(){return x=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},x.apply(this,arguments)};function go(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function K(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function be(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Gs=".",_i={},js="xstate.guard",am="";var Fe=!0;var Bi;function Se(e){return Object.keys(e)}function Bo(e,t,r){r===void 0&&(r=Gs);var n=vo(e,r),o=vo(t,r);return z(o)?z(n)?o===n:!1:z(n)?n in o:Se(n).every(function(s){return s in o?Bo(n[s],o[s]):!1})}function Qs(e){try{return z(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Ws(e,t){try{return tn(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function nf(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function vo(e,t){if(nf(e))return e.value;if(tn(e))return _o(e);if(typeof e!="string")return e;var r=Ws(e,t);return _o(r)}function _o(e){if(e.length===1)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function yo(e,t){for(var r={},n=Se(e),o=0;o<n.length;o++){var s=n[o];r[s]=t(e[s],s,e,o)}return r}function Ui(e,t,r){var n,o,s={};try{for(var i=K(Se(e)),a=i.next();!a.done;a=i.next()){var u=a.value,l=e[u];!r(l)||(s[u]=t(l,u,e))}}catch(d){n={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return s}var um=function(e){return function(t){var r,n,o=t;try{for(var s=K(e),i=s.next();!i.done;i=s.next()){var a=i.value;o=o[a]}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}};function lm(e,t){return function(r){var n,o,s=r;try{for(var i=K(e),a=i.next();!a.done;a=i.next()){var u=a.value;s=s[t][u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return s}}function Uo(e){if(!e)return[[]];if(z(e))return[[e]];var t=Ne(Se(e).map(function(r){var n=e[r];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[r]]:Uo(e[r]).map(function(o){return[r].concat(o)})}));return t}function Ne(e){var t;return(t=[]).concat.apply(t,be([],R(e),!1))}function mm(e){return tn(e)?e:[e]}function Vt(e){return e===void 0?[]:mm(e)}function An(e,t,r){var n,o;if(ue(e))return e(t,r.data);var s={};try{for(var i=K(Object.keys(e)),a=i.next();!a.done;a=i.next()){var u=a.value,l=e[u];ue(l)?s[u]=l(t,r.data):s[u]=l}}catch(d){n={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return s}function dm(e){return/^(done|error)\./.test(e)}function Ji(e){return!!(e instanceof Promise||e!==null&&(ue(e)||typeof e=="object")&&ue(e.then))}function cm(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function Ys(e,t){var r,n,o=R([[],[]],2),s=o[0],i=o[1];try{for(var a=K(e),u=a.next();!u.done;u=a.next()){var l=u.value;t(l)?s.push(l):i.push(l)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[s,i]}function pm(e,t){return yo(e.states,function(r,n){if(!!r){var o=(z(t)?void 0:t[n])||(r?r.current:void 0);if(!!o)return{current:o,states:pm(r,o)}}})}function fm(e,t){return{current:t,states:pm(e,t)}}function Xi(e,t,r,n){Fe||Qe(!!e,"Attempting to update undefined context");var o=e&&r.reduce(function(s,i){var a,u,l=i.assignment,d={state:n,action:i,_event:t},c={};if(ue(l))c=l(s,t.data,d);else try{for(var m=K(Se(l)),g=m.next();!g.done;g=m.next()){var v=g.value,b=l[v];c[v]=ue(b)?b(s,t.data,d):b}}catch(k){a={error:k}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}return Object.assign({},s,c)},e);return o}var Qe=function(){};Fe||(Qe=function(e,t){var r=e instanceof Error?e:void 0;if(!(!r&&e)&&console!==void 0){var n=["Warning: ".concat(t)];r&&n.push(r),console.warn.apply(console,n)}});function tn(e){return Array.isArray(e)}function ue(e){return typeof e=="function"}function z(e){return typeof e=="string"}function Vs(e,t){if(!!e)return z(e)?{type:js,name:e,predicate:t?t[e]:void 0}:ue(e)?{type:js,name:e.name,predicate:e}:e}function hm(e){try{return"subscribe"in e&&ue(e.subscribe)}catch{return!1}}var Hi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),hn=(Bi={},Bi[Hi]=function(){return this},Bi);function Xr(e){try{return"__xstatenode"in e}catch{return!1}}function gm(e){return!!e&&typeof e.send=="function"}function Jo(e,t){return z(e)||typeof e=="number"?x({type:e},t):e}function Re(e,t){if(!z(e)&&"$$type"in e&&e.$$type==="scxml")return e;var r=Jo(e);return x({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function In(e,t){var r=mm(t).map(function(n){return typeof n=="undefined"||typeof n=="string"||Xr(n)?{target:n,event:e}:x(x({},n),{event:e})});return r}function vm(e){if(!(e===void 0||e===am))return Vt(e)}function ym(e,t,r){if(!Fe){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(r,"', error was '").concat(e,"'.").concat(n));else{var o=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(r,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(o))}}}function Ks(e,t,r,n,o){var s=e.options.guards,i={state:o,cond:t,_event:n};if(t.type===js)return((s==null?void 0:s[t.name])||t.predicate)(r,n.data,i);var a=s==null?void 0:s[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(r,n.data,i)}function zs(e){return typeof e=="string"?{type:e}:e}function $s(e,t,r){if(typeof e=="object")return e;var n=function(){};return{next:e,error:t||n,complete:r||n}}function Xo(e,t){return"".concat(e,":invocation[").concat(t,"]")}var le;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(le||(le={}));var gn;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(gn||(gn={}));var Ho=le.Start,bo=le.Stop,So=le.Raise,Fn=le.Send,Zs=le.Cancel,bm=le.NullEvent,Gi=le.Assign,DT=le.After,OT=le.DoneState,Rs=le.Log,Sm=le.Init,Go=le.Invoke,qT=le.ErrorExecution,ji=le.ErrorPlatform,Qi=le.ErrorCustom,jo=le.Update,km=le.Choose,Em=le.Pure;var Ln=Re({type:Sm});function ei(e,t){return t&&t[e]||void 0}function ko(e,t){var r;if(z(e)||typeof e=="number"){var n=ei(e,t);ue(n)?r={type:e,exec:n}:n?r=n:r={type:e,exec:void 0}}else if(ue(e))r={type:e.name||e.toString(),exec:e};else{var n=ei(e.type,t);if(ue(n))r=x(x({},e),{exec:n});else if(n){var o=n.type||e.type;r=x(x(x({},n),e),{type:o})}else r=e}return r}var Qo=function(e,t){if(!e)return[];var r=tn(e)?e:[e];return r.map(function(n){return ko(n,t)})};function ri(e){var t=ko(e);return x(x({id:z(e)?e:t.id},t),{type:t.type})}function xm(e){return z(e)?{type:So,event:e}:Wi(e,{to:gn.Internal})}function of(e){return{type:So,_event:Re(e.event)}}function Wi(e,t){return{to:t?t.to:void 0,type:Fn,event:ue(e)?e:Jo(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:ue(e)?e.name:Qs(e)}}function sf(e,t,r,n){var o={_event:r},s=Re(ue(e.event)?e.event(t,r.data,o):e.event),i;if(z(e.delay)){var a=n&&n[e.delay];i=ue(a)?a(t,r.data,o):a}else i=ue(e.delay)?e.delay(t,r.data,o):e.delay;var u=ue(e.to)?e.to(t,r.data,o):e.to;return x(x({},e),{to:u,_event:s,event:s.data,delay:i})}var af=function(e,t,r){return x(x({},e),{value:z(e.expr)?e.expr:e.expr(t,r.data,{_event:r})})},Nm=function(e){return{type:Zs,sendId:e}};function Tm(e){var t=ri(e);return{type:le.Start,activity:t,exec:void 0}}function wm(e){var t=ue(e)?e:ri(e);return{type:le.Stop,activity:t,exec:void 0}}function uf(e,t,r){var n=ue(e.activity)?e.activity(t,r.data):e.activity,o=typeof n=="string"?{id:n}:n,s={type:le.Stop,activity:o};return s}function Cm(e,t){var r=t?"#".concat(t):"";return"".concat(le.After,"(").concat(e,")").concat(r)}function Wo(e,t){var r="".concat(le.DoneState,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function Eo(e,t){var r="".concat(le.DoneInvoke,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function Dn(e,t){var r="".concat(le.ErrorPlatform,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function ti(e,t,r,n,o,s){s===void 0&&(s=!1);var i=R(s?[[],o]:Ys(o,function(m){return m.type===Gi}),2),a=i[0],u=i[1],l=a.length?Xi(r,n,a,t):r,d=s?[r]:void 0,c=Ne(u.map(function(m){var g;switch(m.type){case So:return of(m);case Fn:var v=sf(m,l,n,e.options.delays);return Fe||Qe(!z(m.delay)||typeof v.delay=="number","No delay reference for delay expression '".concat(m.delay,"' was found on machine '").concat(e.id,"'")),v;case Rs:return af(m,l,n);case km:{var b=m,k=(g=b.conds.find(function(ie){var Ge=Vs(ie.cond,e.options.guards);return!Ge||Ks(e,Ge,l,n,t)}))===null||g===void 0?void 0:g.actions;if(!k)return[];var I=R(ti(e,t,l,n,Qo(Vt(k),e.options.actions),s),2),E=I[0],T=I[1];return l=T,d==null||d.push(l),E}case Em:{var k=m.get(l,n.data);if(!k)return[];var P=R(ti(e,t,l,n,Qo(Vt(k),e.options.actions),s),2),X=P[0],Y=P[1];return l=Y,d==null||d.push(l),X}case bo:return uf(m,l,n);case Gi:{l=Xi(l,n,[m],t),d==null||d.push(l);break}default:var B=ko(m,e.options.actions),C=B.exec;if(C&&d){var H=d.length-1;B=x(x({},B),{exec:function(ie){for(var Ge=[],mt=1;mt<arguments.length;mt++)Ge[mt-1]=arguments[mt];C.apply(void 0,be([d[H]],R(Ge),!1))}})}return B}}).filter(function(m){return!!m}));return[c,l]}var Yo=function(e){return e.type==="atomic"||e.type==="final"};function On(e){return Se(e.states).map(function(t){return e.states[t]})}function Vi(e){var t=[e];return Yo(e)?t:t.concat(Ne(On(e).map(Vi)))}function qn(e,t){var r,n,o,s,i,a,u,l,d=new Set(e),c=Yi(d),m=new Set(t);try{for(var g=K(m),v=g.next();!v.done;v=g.next())for(var b=v.value,k=b.parent;k&&!m.has(k);)m.add(k),k=k.parent}catch(H){r={error:H}}finally{try{v&&!v.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}var I=Yi(m);try{for(var E=K(m),T=E.next();!T.done;T=E.next()){var b=T.value;if(b.type==="compound"&&(!I.get(b)||!I.get(b).length))c.get(b)?c.get(b).forEach(function(ie){return m.add(ie)}):b.initialStateNodes.forEach(function(ie){return m.add(ie)});else if(b.type==="parallel")try{for(var P=(i=void 0,K(On(b))),X=P.next();!X.done;X=P.next()){var Y=X.value;Y.type!=="history"&&(m.has(Y)||(m.add(Y),c.get(Y)?c.get(Y).forEach(function(ie){return m.add(ie)}):Y.initialStateNodes.forEach(function(ie){return m.add(ie)})))}}catch(ie){i={error:ie}}finally{try{X&&!X.done&&(a=P.return)&&a.call(P)}finally{if(i)throw i.error}}}}catch(H){o={error:H}}finally{try{T&&!T.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var B=K(m),C=B.next();!C.done;C=B.next())for(var b=C.value,k=b.parent;k&&!m.has(k);)m.add(k),k=k.parent}catch(H){u={error:H}}finally{try{C&&!C.done&&(l=B.return)&&l.call(B)}finally{if(u)throw u.error}}return m}function Mm(e,t){var r=t.get(e);if(!r)return{};if(e.type==="compound"){var n=r[0];if(n){if(Yo(n))return n.key}else return{}}var o={};return r.forEach(function(s){o[s.key]=Mm(s,t)}),o}function Yi(e){var t,r,n=new Map;try{for(var o=K(e),s=o.next();!s.done;s=o.next()){var i=s.value;n.has(i)||n.set(i,[]),i.parent&&(n.has(i.parent)||n.set(i.parent,[]),n.get(i.parent).push(i))}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function Pm(e,t){var r=qn([e],t);return Mm(e,Yi(r))}function Vo(e,t){return Array.isArray(e)?e.some(function(r){return r===t}):e instanceof Set?e.has(t):!1}function Am(e){return be([],R(new Set(Ne(be([],R(e.map(function(t){return t.ownEvents})),!1)))),!1)}function _n(e,t){return t.type==="compound"?On(t).some(function(r){return r.type==="final"&&Vo(e,r)}):t.type==="parallel"?On(t).every(function(r){return _n(e,r)}):!1}function Im(e){return e===void 0&&(e=[]),e.reduce(function(t,r){return r.meta!==void 0&&(t[r.id]=r.meta),t},{})}function Ki(e){return new Set(Ne(e.map(function(t){return t.tags})))}function zi(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(z(e)||z(t))return e===t;var r=Se(e),n=Se(t);return r.length===n.length&&r.every(function(o){return zi(e[o],t[o])})}function Fm(e){return z(e)?!1:"value"in e&&"history"in e}function Lm(e,t){var r=e.exec,n=x(x({},e),{exec:r!==void 0?function(){return r(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return n}var Ut=function(){function e(t){var r=this,n;this.actions=[],this.activities=_i,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||_i,this.meta=Im(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(n=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&n!==void 0?n:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Am(r.configuration)}})}return e.from=function(t,r){if(t instanceof e)return t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var n=Ln;return new e({value:t,context:r,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=Ln;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(t,r){var n=this;if(t===void 0&&(t=this.value),r===void 0&&(r="."),z(t))return[t];var o=Se(t);return o.concat.apply(o,be([],R(o.map(function(s){return n.toStrings(t[s],r).map(function(i){return s+r+i})})),!1))},e.prototype.toJSON=function(){var t=this,r=t.configuration,n=t.transitions,o=t.tags,s=t.machine,i=go(t,["configuration","transitions","tags","machine"]);return x(x({},i),{tags:Array.from(o)})},e.prototype.matches=function(t){return Bo(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var r;Fe&&Qe(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=(r=this.machine)===null||r===void 0?void 0:r.getTransitionData(this,t);return!!(n==null?void 0:n.transitions.length)&&n.transitions.some(function(o){return o.target!==void 0||o.actions.length})},e}();var Dm=[],Bn=function(e,t){Dm.push(e);var r=t(e);return Dm.pop(),r};function Om(e){return x({id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},hn)}function qm(e,t,r,n){var o,s=zs(e.src),i=(o=t==null?void 0:t.options.services)===null||o===void 0?void 0:o[s.type],a=e.data?An(e.data,r,n):void 0,u=i?_m(i,e.id,a):Om(e.id);return u.meta=e,u}function _m(e,t,r){var n=Om(t);if(n.deferred=!0,Xr(e)){var o=n.state=Bn(void 0,function(){return(r?e.withContext(r):e).initialState});n.getSnapshot=function(){return o}}return n}function lf(e){try{return typeof e.send=="function"}catch{return!1}}function Bm(e){return lf(e)&&"id"in e}function Um(e){return x(x({subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},hn),e)}function mf(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Ko(e){return x(x({type:Go},e),{toJSON:function(){var t=e.onDone,r=e.onError,n=go(e,["onDone","onError"]);return x(x({},n),{type:Go,src:mf(e.src)})}})}var To="",$i="#",zo="*",xo={},No=function(e){return e[0]===$i},df=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},cf=function(e,t,r){var n=r.slice(0,-1).some(function(s){return!("cond"in s)&&!("in"in s)&&(z(s.target)||Xr(s.target))}),o=t===To?"the transient event":"event '".concat(t,"'");Qe(!n,"One or more transitions for ".concat(o," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},Jm=function(){function e(t,r,n,o){var s=this;n===void 0&&(n="context"in t?t.context:void 0);var i;this.config=t,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(df(),r),this.parent=o==null?void 0:o.parent,this.key=this.config.key||(o==null?void 0:o.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Gs),this.id=this.config.id||be([this.machine.key],R(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Se(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(i=this.config.schema)!==null&&i!==void 0?i:{},this.description=this.config.description,Fe||Qe(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?yo(this.config.states,function(l,d){var c,m=new e(l,{},void 0,{parent:s,key:d});return Object.assign(s.idMap,x((c={},c[m.id]=m,c),m.idMap)),m}):xo;var a=0;function u(l){var d,c;l.order=a++;try{for(var m=K(On(l)),g=m.next();!g.done;g=m.next()){var v=g.value;u(v)}}catch(b){d={error:b}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(d)throw d.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(l){var d=l.event;return d===To}):To in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Vt(this.config.entry||this.config.onEntry).map(function(l){return ko(l)}),this.onExit=Vt(this.config.exit||this.config.onExit).map(function(l){return ko(l)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Vt(this.config.invoke).map(function(l,d){var c,m;if(Xr(l)){var g=Xo(s.id,d);return s.machine.options.services=x((c={},c[g]=l,c),s.machine.options.services),Ko({src:g,id:g})}else if(z(l.src)){var g=l.id||Xo(s.id,d);return Ko(x(x({},l),{id:g,src:l.src}))}else if(Xr(l.src)||ue(l.src)){var g=l.id||Xo(s.id,d);return s.machine.options.services=x((m={},m[g]=l.src,m),s.machine.options.services),Ko(x(x({id:g},l),{src:g}))}else{var v=l.src;return Ko(x(x({id:Xo(s.id,d)},l),{src:v}))}}),this.activities=Vt(this.config.activities).concat(this.invoke).map(function(l){return ri(l)}),this.transition=this.transition.bind(this),this.tags=Vt(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Vi(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,r){var n=this.options,o=n.actions,s=n.activities,i=n.guards,a=n.services,u=n.delays;return new e(this.config,{actions:x(x({},o),t.actions),activities:x(x({},s),t.activities),guards:x(x({},i),t.guards),services:x(x({},a),t.services),delays:x(x({},u),t.delays)},r!=null?r:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return ue(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:yo(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(r,n){return r[n.eventType]=r[n.eventType]||[],r[n.eventType].push(n),r},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var r=t===To,n=this.transitions.filter(function(o){var s=o.eventType===t;return r?s:s||o.eventType===zo});return this.__cache.candidates[t]=n,n},e.prototype.getDelayedTransitions=function(){var t=this,r=this.config.after;if(!r)return[];var n=function(s,i){var a=ue(s)?"".concat(t.id,":delay[").concat(i,"]"):s,u=Cm(a,t.id);return t.onEntry.push(Wi(u,{delay:s})),t.onExit.push(Nm(u)),u},o=tn(r)?r.map(function(s,i){var a=n(s.delay,i);return x(x({},s),{event:a})}):Ne(Se(r).map(function(s,i){var a=r[s],u=z(a)?{target:a}:a,l=isNaN(+s)?s:+s,d=n(l,i);return Vt(u).map(function(c){return x(x({},c),{event:d,delay:l})})}));return o.map(function(s){var i=s.delay;return x(x({},t.formatTransition(s)),{delay:i})})},e.prototype.getStateNodes=function(t){var r,n=this;if(!t)return[];var o=t instanceof Ut?t.value:vo(t,this.delimiter);if(z(o)){var s=this.getStateNode(o).initial;return s!==void 0?this.getStateNodes((r={},r[o]=s,r)):[this,this.states[o]]}var i=Se(o),a=[this];return a.push.apply(a,be([],R(Ne(i.map(function(u){return n.getStateNode(u).getStateNodes(o[u])}))),!1)),a},e.prototype.handles=function(t){var r=Qs(t);return this.events.includes(r)},e.prototype.resolveState=function(t){var r=Array.from(qn([],this.getStateNodes(t.value)));return new Ut(x(x({},t),{value:this.resolve(t.value),configuration:r,done:_n(r,this),tags:Ki(r)}))},e.prototype.transitionLeafNode=function(t,r,n){var o=this.getStateNode(t),s=o.next(r,n);return!s||!s.transitions.length?this.next(r,n):s},e.prototype.transitionCompoundNode=function(t,r,n){var o=Se(t),s=this.getStateNode(o[0]),i=s._transition(t[o[0]],r,n);return!i||!i.transitions.length?this.next(r,n):i},e.prototype.transitionParallelNode=function(t,r,n){var o,s,i={};try{for(var a=K(Se(t)),u=a.next();!u.done;u=a.next()){var l=u.value,d=t[l];if(!!d){var c=this.getStateNode(l),m=c._transition(d,r,n);m&&(i[l]=m)}}}catch(E){o={error:E}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}var g=Se(i).map(function(E){return i[E]}),v=Ne(g.map(function(E){return E.transitions})),b=g.some(function(E){return E.transitions.length>0});if(!b)return this.next(r,n);var k=Ne(g.map(function(E){return E.entrySet})),I=Ne(Se(i).map(function(E){return i[E].configuration}));return{transitions:v,entrySet:k,exitSet:Ne(g.map(function(E){return E.exitSet})),configuration:I,source:r,actions:Ne(Se(i).map(function(E){return i[E].actions}))}},e.prototype._transition=function(t,r,n){return z(t)?this.transitionLeafNode(t,r,n):Se(t).length===1?this.transitionCompoundNode(t,r,n):this.transitionParallelNode(t,r,n)},e.prototype.getTransitionData=function(t,r){return this._transition(t.value,t,Re(r))},e.prototype.next=function(t,r){var n,o,s=this,i=r.name,a=[],u=[],l;try{for(var d=K(this.getCandidates(i)),c=d.next();!c.done;c=d.next()){var m=c.value,g=m.cond,v=m.in,b=t.context,k=v?z(v)&&No(v)?t.matches(vo(this.getStateNodeById(v).path,this.delimiter)):Bo(vo(v,this.delimiter),um(this.path.slice(0,-2))(t.value)):!0,I=!1;try{I=!g||Ks(this.machine,g,b,r,t)}catch(X){throw new Error("Unable to evaluate guard '".concat(g.name||g.type,"' in transition for event '").concat(i,"' in state node '").concat(this.id,`':
`).concat(X.message))}if(I&&k){m.target!==void 0&&(u=m.target),a.push.apply(a,be([],R(m.actions),!1)),l=m;break}}}catch(X){n={error:X}}finally{try{c&&!c.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}if(!!l){if(!u.length)return{transitions:[l],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var E=Ne(u.map(function(X){return s.getRelativeStateNodes(X,t.historyValue)})),T=!!l.internal,P=T?[]:Ne(E.map(function(X){return s.nodesFromChild(X)}));return{transitions:[l],entrySet:P,exitSet:T?[]:[this],configuration:E,source:t,actions:a}}},e.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var r=[],n=t;n&&n!==this;)r.push(n),n=n.parent;return r.push(this),r},e.prototype.escapes=function(t){if(this===t)return!1;for(var r=this.parent;r;){if(r===t)return!1;r=r.parent}return!0},e.prototype.getActions=function(t,r,n,o){var s,i,a,u,l=qn([],o?this.getStateNodes(o.value):[this]),d=t.configuration.length?qn(l,t.configuration):l;try{for(var c=K(d),m=c.next();!m.done;m=c.next()){var g=m.value;Vo(l,g)||t.entrySet.push(g)}}catch(B){s={error:B}}finally{try{m&&!m.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}try{for(var v=K(l),b=v.next();!b.done;b=v.next()){var g=b.value;(!Vo(d,g)||Vo(t.exitSet,g.parent))&&t.exitSet.push(g)}}catch(B){a={error:B}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}var k=Ne(t.entrySet.map(function(B){var C=[];if(B.type!=="final")return C;var H=B.parent;if(!H.parent)return C;C.push(Wo(B.id,B.doneData),Wo(H.id,B.doneData?An(B.doneData,r,n):void 0));var ie=H.parent;return ie.type==="parallel"&&On(ie).every(function(Ge){return _n(t.configuration,Ge)})&&C.push(Wo(ie.id)),C}));t.exitSet.sort(function(B,C){return C.order-B.order}),t.entrySet.sort(function(B,C){return B.order-C.order});var I=new Set(t.entrySet),E=new Set(t.exitSet),T=R([Ne(Array.from(I).map(function(B){return be(be([],R(B.activities.map(function(C){return Tm(C)})),!1),R(B.onEntry),!1)})).concat(k.map(xm)),Ne(Array.from(E).map(function(B){return be(be([],R(B.onExit),!1),R(B.activities.map(function(C){return wm(C)})),!1)}))],2),P=T[0],X=T[1],Y=Qo(X.concat(t.actions).concat(P),this.machine.options.actions);return Y},e.prototype.transition=function(t,r,n){t===void 0&&(t=this.initialState);var o=Re(r),s;if(t instanceof Ut)s=n===void 0?t:this.resolveState(Ut.from(t,n));else{var i=z(t)?this.resolve(_o(this.getResolvedPath(t))):this.resolve(t),a=n!=null?n:this.machine.context;s=this.resolveState(Ut.from(i,a))}if(!Fe&&o.name===zo)throw new Error("An event cannot have the wildcard type ('".concat(zo,"')"));if(this.strict&&!this.events.includes(o.name)&&!dm(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:s,actions:[]},l=qn([],this.getStateNodes(s.value)),d=u.configuration.length?qn(l,u.configuration):l;return u.configuration=be([],R(d),!1),this.resolveTransition(u,s,s.context,o)},e.prototype.resolveRaisedTransition=function(t,r,n){var o,s=t.actions;return t=this.transition(t,r),t._event=n,t.event=n.data,(o=t.actions).unshift.apply(o,be([],R(s),!1)),t},e.prototype.resolveTransition=function(t,r,n,o){var s,i,a=this;o===void 0&&(o=Ln);var u=t.configuration,l=!r||t.transitions.length>0,d=l?Pm(this.machine,u):void 0,c=r?r.historyValue?r.historyValue:t.source?this.machine.historyValue(r.value):void 0:void 0,m=this.getActions(t,n,o,r),g=r?x({},r.activities):{};try{for(var v=K(m),b=v.next();!b.done;b=v.next()){var k=b.value;k.type===Ho?g[k.activity.id||k.activity.type]=k:k.type===bo&&(g[k.activity.id||k.activity.type]=!1)}}catch(Ht){s={error:Ht}}finally{try{b&&!b.done&&(i=v.return)&&i.call(v)}finally{if(s)throw s.error}}var I=R(ti(this,r,n,o,m,this.machine.config.preserveActionOrder),2),E=I[0],T=I[1],P=R(Ys(E,function(Ht){return Ht.type===So||Ht.type===Fn&&Ht.to===gn.Internal}),2),X=P[0],Y=P[1],B=E.filter(function(Ht){var Vn;return Ht.type===Ho&&((Vn=Ht.activity)===null||Vn===void 0?void 0:Vn.type)===Go}),C=B.reduce(function(Ht,Vn){return Ht[Vn.activity.id]=qm(Vn.activity,a.machine,T,o),Ht},r?x({},r.children):{}),H=l?t.configuration:r?r.configuration:[],ie=_n(H,this),Ge=new Ut({value:d||r.value,context:T,_event:o,_sessionid:r?r._sessionid:null,historyValue:d?c?fm(c,d):void 0:r?r.historyValue:void 0,history:!d||t.source?r:void 0,actions:d?Y:[],activities:d?g:r?r.activities:{},events:[],configuration:H,transitions:t.transitions,children:C,done:ie,tags:r==null?void 0:r.tags,machine:this}),mt=n!==T;Ge.changed=o.name===jo||mt;var Dt=Ge.history;Dt&&delete Dt.history;var Yn=!ie&&(this._transient||u.some(function(Ht){return Ht._transient}));if(!l&&(!Yn||o.name===To))return Ge;var $e=Ge;if(!ie)for(Yn&&($e=this.resolveRaisedTransition($e,{type:bm},o));X.length;){var Uc=X.shift();$e=this.resolveRaisedTransition($e,Uc._event,o)}var Jc=$e.changed||(Dt?!!$e.actions.length||mt||typeof Dt.value!=typeof $e.value||!zi($e.value,Dt.value):void 0);return $e.changed=Jc,$e.history=Dt,$e.tags=Ki($e.configuration),$e},e.prototype.getStateNode=function(t){if(No(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var r=this.states[t];if(!r)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return r},e.prototype.getStateNodeById=function(t){var r=No(t)?t.slice($i.length):t;if(r===this.id)return this;var n=this.machine.idMap[r];if(!n)throw new Error("Child state node '#".concat(r,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&No(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var r=Ws(t,this.delimiter).slice(),n=this;r.length;){var o=r.shift();if(!o.length)break;n=n.getStateNode(o)}return n},e.prototype.resolve=function(t){var r,n=this;if(!t)return this.initialStateValue||xo;switch(this.type){case"parallel":return yo(this.initialStateValue,function(s,i){return s?n.getStateNode(i).resolve(t[i]||s):xo});case"compound":if(z(t)){var o=this.getStateNode(t);return o.type==="parallel"||o.type==="compound"?(r={},r[t]=o.initialStateValue,r):t}return Se(t).length?yo(t,function(s,i){return s?n.getStateNode(i).resolve(s):xo}):this.initialStateValue||{};default:return t||xo}},e.prototype.getResolvedPath=function(t){if(No(t)){var r=this.machine.idMap[t.slice($i.length)];if(!r)throw new Error("Unable to find state node '".concat(t,"'"));return r.path}return Ws(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var r;if(this.type==="parallel")r=Ui(this.states,function(n){return n.initialStateValue||xo},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));r=Yo(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else r={};return this.__cache.initialStateValue=r,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,r){var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,r!=null?r:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){this._init();var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var r=this.config;z(r.target)?t=No(r.target)?_o(this.machine.getStateNodeById(r.target).path.slice(this.path.length-1)):r.target:t=r.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,r,n){return n===void 0&&(n=!0),n?t.type==="history"?t.resolveHistory(r):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(Yo(this))return[this];if(this.type==="compound"&&!this.initial)return Fe||Qe(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var r=Uo(this.initialStateValue);return Ne(r.map(function(n){return t.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var r=R(t),n=r[0],o=r.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var s=this.getStateNode(n);if(s.type==="history")return s.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(o)},e.prototype.historyValue=function(t){if(!!Se(this.states).length)return{current:t||this.initialStateValue,states:Ui(this.states,function(r,n){if(!t)return r.historyValue();var o=z(t)?void 0:t[n];return r.historyValue(o||r.initialStateValue)},function(r){return!r.history})}},e.prototype.resolveHistory=function(t){var r=this;if(this.type!=="history")return[this];var n=this.parent;if(!t){var o=this.target;return o?Ne(Uo(o).map(function(i){return n.getFromRelativePath(i)})):n.initialStateNodes}var s=lm(n.path,"states")(t).current;return z(s)?[n.getStateNode(s)]:Ne(Uo(s).map(function(i){return r.history==="deep"?n.getFromRelativePath(i):[n.states[i[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,r=Ne(Se(this.states).map(function(n){return t.states[n].stateIds}));return[this.id].concat(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,r,n,o;if(this.__cache.events)return this.__cache.events;var s=this.states,i=new Set(this.ownEvents);if(s)try{for(var a=K(Se(s)),u=a.next();!u.done;u=a.next()){var l=u.value,d=s[l];if(d.states)try{for(var c=(n=void 0,K(d.events)),m=c.next();!m.done;m=c.next()){var g=m.value;i.add("".concat(g))}}catch(v){n={error:v}}finally{try{m&&!m.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(r){return!(!r.target&&!r.actions.length&&r.internal)}).map(function(r){return r.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var r=this;if(t!==void 0)return t.map(function(n){if(!z(n))return n;var o=n[0]===r.delimiter;if(o&&!r.parent)return r.getStateNodeByPath(n.slice(1));var s=o?r.key+n:n;if(r.parent)try{var i=r.parent.getStateNodeByPath(s);return i}catch(a){throw new Error("Invalid transition definition for state node '".concat(r.id,`':
`).concat(a.message))}else return r.getStateNodeByPath(s)})},e.prototype.formatTransition=function(t){var r=this,n=vm(t.target),o="internal"in t?t.internal:n?n.some(function(u){return z(u)&&u[0]===r.delimiter}):!0,s=this.machine.options.guards,i=this.resolveTarget(n),a=x(x({},t),{actions:Qo(Vt(t.actions)),cond:Vs(t.cond,s),target:i,source:this,internal:o,eventType:t.event,toJSON:function(){return x(x({},a),{target:a.target?a.target.map(function(u){return"#".concat(u.id)}):void 0,source:"#".concat(r.id)})}});return a},e.prototype.formatTransitions=function(){var t,r,n=this,o;if(!this.config.on)o=[];else if(Array.isArray(this.config.on))o=this.config.on;else{var s=this.config.on,i=zo,a=s[i],u=a===void 0?[]:a,l=go(s,[typeof i=="symbol"?i:i+""]);o=Ne(Se(l).map(function(E){!Fe&&E===To&&Qe(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(n.id,'".'));var T=In(E,l[E]);return Fe||cf(n,E,T),T}).concat(In(zo,u)))}var d=this.config.always?In("",this.config.always):[],c=this.config.onDone?In(String(Wo(this.id)),this.config.onDone):[];Fe||Qe(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var m=Ne(this.invoke.map(function(E){var T=[];return E.onDone&&T.push.apply(T,be([],R(In(String(Eo(E.id)),E.onDone)),!1)),E.onError&&T.push.apply(T,be([],R(In(String(Dn(E.id)),E.onError)),!1)),T})),g=this.after,v=Ne(be(be(be(be([],R(c),!1),R(m),!1),R(o),!1),R(d),!1).map(function(E){return Vt(E).map(function(T){return n.formatTransition(T)})}));try{for(var b=K(g),k=b.next();!k.done;k=b.next()){var I=k.value;v.push(I)}}catch(E){t={error:E}}finally{try{k&&!k.done&&(r=b.return)&&r.call(b)}finally{if(t)throw t.error}}return v},e}();function Zi(e,t,r){return r===void 0&&(r=e.context),new Jm(e,t,r)}var pf={deferEvents:!1},Ri=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=x(x({},pf),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(r){throw this.clear(),r}finally{this.processingEvent=!1}},e}();var ea=new Map,ff=0,$o={bookId:function(){return"x:".concat(ff++)},register:function(e,t){return ea.set(e,t),e},get:function(e){return ea.get(e)},free:function(e){ea.delete(e)}};function ni(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function hf(){var e=ni();if(e&&"__xstate__"in e)return e.__xstate__}function Xm(e){if(!!ni()){var t=hf();t&&t.register(e)}}function Hm(e,t){t===void 0&&(t={});var r=e.initialState,n=new Set,o=[],s=!1,i=function(){if(!s){for(s=!0;o.length>0;){var l=o.shift();r=e.transition(r,l,u),n.forEach(function(d){return d.next(r)})}s=!1}},a=Um({id:t.id,send:function(l){o.push(l),i()},getSnapshot:function(){return r},subscribe:function(l,d,c){var m=$s(l,d,c);return n.add(m),m.next(r),{unsubscribe:function(){n.delete(m)}}}}),u={parent:t.parent,self:a,id:t.id||"anonymous",observers:n};return r=e.start?e.start(u):r,a}var gf={sync:!1,autoForward:!1},xt;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(xt||(xt={}));var Gm=function(){function e(t,r){var n=this;r===void 0&&(r=e.defaultOptions),this.machine=t,this.scheduler=new Ri,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=xt.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(d,c){if(tn(d))return n.batch(d),n.state;var m=Re(Jo(d,c));if(n.status===xt.Stopped)return Fe||Qe(!1,'Event "'.concat(m.name,'" was sent to stopped service "').concat(n.machine.id,`". This service has already reached its final state, and will not transition.
Event: `).concat(JSON.stringify(m.data))),n.state;if(n.status!==xt.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(m.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(m.data)));return n.scheduler.schedule(function(){n.forward(m);var g=n.nextState(m);n.update(g,m)}),n._state},this.sendTo=function(d,c){var m=n.parent&&(c===gn.Parent||n.parent.id===c),g=m?n.parent:z(c)?n.children.get(c)||$o.get(c):gm(c)?c:void 0;if(!g){if(!m)throw new Error("Unable to send event to child '".concat(c,"' from service '").concat(n.id,"'."));Fe||Qe(!1,"Service '".concat(n.id,"' has no parent: unable to send event ").concat(d.type));return}"machine"in g?g.send(x(x({},d),{name:d.name===Qi?"".concat(Dn(n.id)):d.name,origin:n.sessionId})):g.send(d.data)};var o=x(x({},e.defaultOptions),r),s=o.clock,i=o.logger,a=o.parent,u=o.id,l=u!==void 0?u:t.id;this.id=l,this.logger=i,this.clock=s,this.parent=a,this.options=o,this.scheduler=new Ri({deferEvents:this.options.deferEvents}),this.sessionId=$o.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Bn(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return Fe||Qe(this.status!==xt.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,r){var n,o;try{for(var s=K(t.actions),i=s.next();!i.done;i=s.next()){var a=i.value;this.exec(a,t,r)}}catch(u){n={error:u}}finally{try{i&&!i.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.update=function(t,r){var n,o,s,i,a,u,l,d,c=this;if(t._sessionid=this.sessionId,this._state=t,this.options.execute&&this.execute(this.state),this.children.forEach(function(H){c.state.children[H.id]=H}),this.devTools&&this.devTools.send(r.data,t),t.event)try{for(var m=K(this.eventListeners),g=m.next();!g.done;g=m.next()){var v=g.value;v(t.event)}}catch(H){n={error:H}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}try{for(var b=K(this.listeners),k=b.next();!k.done;k=b.next()){var v=k.value;v(t,t.event)}}catch(H){s={error:H}}finally{try{k&&!k.done&&(i=b.return)&&i.call(b)}finally{if(s)throw s.error}}try{for(var I=K(this.contextListeners),E=I.next();!E.done;E=I.next()){var T=E.value;T(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(H){a={error:H}}finally{try{E&&!E.done&&(u=I.return)&&u.call(I)}finally{if(a)throw a.error}}var P=_n(t.configuration||[],this.machine);if(this.state.configuration&&P){var X=t.configuration.find(function(H){return H.type==="final"&&H.parent===c.machine}),Y=X&&X.doneData?An(X.doneData,t.context,r):void 0;try{for(var B=K(this.doneListeners),C=B.next();!C.done;C=B.next()){var v=C.value;v(Eo(this.id,Y))}}catch(H){l={error:H}}finally{try{C&&!C.done&&(d=B.return)&&d.call(B)}finally{if(l)throw l.error}}this.stop()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===xt.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,r,n){var o=this;if(!t)return{unsubscribe:function(){}};var s,i=n;return typeof t=="function"?s=t:(s=t.next.bind(t),i=t.complete.bind(t)),this.listeners.add(s),this.status===xt.Running&&s(this.state),i&&this.onDone(i),{unsubscribe:function(){s&&o.listeners.delete(s),i&&o.doneListeners.delete(i)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var r=this;if(this.status===xt.Running)return this;$o.register(this.sessionId,this),this.initialized=!0,this.status=xt.Running;var n=t===void 0?this.initialState:Bn(this,function(){return Fm(t)?r.machine.resolveState(t):r.machine.resolveState(Ut.from(t,r.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){r.update(n,Ln)}),this},e.prototype.stop=function(){var t,r,n,o,s,i,a,u,l,d,c=this;try{for(var m=K(this.listeners),g=m.next();!g.done;g=m.next()){var v=g.value;this.listeners.delete(v)}}catch(C){t={error:C}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}try{for(var b=K(this.stopListeners),k=b.next();!k.done;k=b.next()){var v=k.value;v(),this.stopListeners.delete(v)}}catch(C){n={error:C}}finally{try{k&&!k.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}try{for(var I=K(this.contextListeners),E=I.next();!E.done;E=I.next()){var v=E.value;this.contextListeners.delete(v)}}catch(C){s={error:C}}finally{try{E&&!E.done&&(i=I.return)&&i.call(I)}finally{if(s)throw s.error}}try{for(var T=K(this.doneListeners),P=T.next();!P.done;P=T.next()){var v=P.value;this.doneListeners.delete(v)}}catch(C){a={error:C}}finally{try{P&&!P.done&&(u=T.return)&&u.call(T)}finally{if(a)throw a.error}}if(!this.initialized)return this;be([],R(this.state.configuration),!1).sort(function(C,H){return H.order-C.order}).forEach(function(C){var H,ie;try{for(var Ge=K(C.definition.exit),mt=Ge.next();!mt.done;mt=Ge.next()){var Dt=mt.value;c.exec(Dt,c.state)}}catch(Yn){H={error:Yn}}finally{try{mt&&!mt.done&&(ie=Ge.return)&&ie.call(Ge)}finally{if(H)throw H.error}}}),this.children.forEach(function(C){ue(C.stop)&&C.stop()});try{for(var X=K(Se(this.delayedEventsMap)),Y=X.next();!Y.done;Y=X.next()){var B=Y.value;this.clock.clearTimeout(this.delayedEventsMap[B])}}catch(C){l={error:C}}finally{try{Y&&!Y.done&&(d=X.return)&&d.call(X)}finally{if(l)throw l.error}}return this.scheduler.clear(),this.initialized=!1,this.status=xt.Stopped,$o.free(this.sessionId),this},e.prototype.batch=function(t){var r=this;if(this.status===xt.NotStarted&&this.options.deferEvents)Fe||Qe(!1,"".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,`" and are deferred. Make sure .start() is called for this service.
Event: `).concat(JSON.stringify(event)));else if(this.status!==xt.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule(function(){var n,o,s=r.state,i=!1,a=[],u=function(m){var g=Re(m);r.forward(g),s=Bn(r,function(){return r.machine.transition(s,g)}),a.push.apply(a,be([],R(s.actions.map(function(v){return Lm(v,s)})),!1)),i=i||!!s.changed};try{for(var l=K(t),d=l.next();!d.done;d=l.next()){var c=d.value;u(c)}}catch(m){n={error:m}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}s.changed=i,s.actions=a,r.update(s,Re(t[t.length-1]))})},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype.nextState=function(t){var r=this,n=Re(t);if(n.name.indexOf(ji)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(ji)===0}))throw n.data.data;var o=Bn(this,function(){return r.machine.transition(r.state,n)});return o},e.prototype.forward=function(t){var r,n;try{for(var o=K(this.forwardTo),s=o.next();!s.done;s=o.next()){var i=s.value,a=this.children.get(i);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(i,"'."));a.send(t)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.defer=function(t){var r=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?r.sendTo(t._event,t.to):r.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,r,n){n===void 0&&(n=this.machine.options.actions);var o=r.context,s=r._event,i=t.exec||ei(t.type,n),a=ue(i)?i:i?i.exec:t.exec;if(a)try{return a(o,s.data,{action:t,state:this.state,_event:s})}catch(P){throw this.parent&&this.parent.send({type:"xstate.error",data:P}),P}switch(t.type){case Fn:var u=t;if(typeof u.delay=="number"){this.defer(u);return}else u.to?this.sendTo(u._event,u.to):this.send(u._event);break;case Zs:this.cancel(t.sendId);break;case Ho:{if(this.status!==xt.Running)return;var l=t.activity;if(!this.state.activities[l.id||l.type])break;if(l.type===le.Invoke){var d=zs(l.src),c=this.machine.options.services?this.machine.options.services[d.type]:void 0,m=l.id,g=l.data;Fe||Qe(!("forward"in l),"`forward` property is deprecated (found in invocation of '".concat(l.src,"' in in machine '").concat(this.machine.id,"'). ")+"Please use `autoForward` instead.");var v="autoForward"in l?l.autoForward:!!l.forward;if(!c){Fe||Qe(!1,"No service found for invocation '".concat(l.src,"' in machine '").concat(this.machine.id,"'."));return}var b=g?An(g,o,s):void 0;if(typeof c=="string")return;var k=ue(c)?c(o,s.data,{data:b,src:d,meta:l.meta}):c;if(!k)return;var I=void 0;Xr(k)&&(k=b?k.withContext(b):k,I={autoForward:v}),this.spawn(k,m,I)}else this.spawnActivity(l);break}case bo:{this.stopChild(t.activity.id);break}case Rs:var E=t.label,T=t.value;E?this.logger(E,T):this.logger(T);break;default:Fe||Qe(!1,"No implementation found for action type '".concat(t.type,"'"));break}},e.prototype.removeChild=function(t){var r;this.children.delete(t),this.forwardTo.delete(t),(r=this.state)===null||r===void 0||delete r.children[t]},e.prototype.stopChild=function(t){var r=this.children.get(t);!r||(this.removeChild(t),ue(r.stop)&&r.stop())},e.prototype.spawn=function(t,r,n){if(Ji(t))return this.spawnPromise(Promise.resolve(t),r);if(ue(t))return this.spawnCallback(t,r);if(Bm(t))return this.spawnActor(t,r);if(hm(t))return this.spawnObservable(t,r);if(Xr(t))return this.spawnMachine(t,x(x({},n),{id:r}));if(cm(t))return this.spawnBehavior(t,r);throw new Error('Unable to spawn entity "'.concat(r,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,r){var n=this;r===void 0&&(r={});var o=new e(t,x(x({},this.options),{parent:this,id:r.id||t.id})),s=x(x({},gf),r);s.sync&&o.onTransition(function(a){n.send(jo,{state:a,id:o.id})});var i=o;return this.children.set(o.id,i),s.autoForward&&this.forwardTo.add(o.id),o.onDone(function(a){n.removeChild(o.id),n.send(Re(a,{origin:o.id}))}).start(),i},e.prototype.spawnBehavior=function(t,r){var n=Hm(t,{id:r,parent:this});return this.children.set(r,n),n},e.prototype.spawnPromise=function(t,r){var n=this,o=!1,s;t.then(function(a){o||(s=a,n.removeChild(r),n.send(Re(Eo(r,a),{origin:r})))},function(a){if(!o){n.removeChild(r);var u=Dn(r,a);try{n.send(Re(u,{origin:r}))}catch(l){ym(a,l,r),n.devTools&&n.devTools.send(u,n.state),n.machine.strict&&n.stop()}}});var i=x({id:r,send:function(){},subscribe:function(a,u,l){var d=$s(a,u,l),c=!1;return t.then(function(m){c||(d.next(m),!c&&d.complete())},function(m){c||d.error(m)}),{unsubscribe:function(){return c=!0}}},stop:function(){o=!0},toJSON:function(){return{id:r}},getSnapshot:function(){return s}},hn);return this.children.set(r,i),i},e.prototype.spawnCallback=function(t,r){var n=this,o=!1,s=new Set,i=new Set,a,u=function(c){a=c,i.forEach(function(m){return m(c)}),!o&&n.send(Re(c,{origin:r}))},l;try{l=t(u,function(c){s.add(c)})}catch(c){this.send(Dn(r,c))}if(Ji(l))return this.spawnPromise(l,r);var d=x({id:r,send:function(c){return s.forEach(function(m){return m(c)})},subscribe:function(c){return i.add(c),{unsubscribe:function(){i.delete(c)}}},stop:function(){o=!0,ue(l)&&l()},toJSON:function(){return{id:r}},getSnapshot:function(){return a}},hn);return this.children.set(r,d),d},e.prototype.spawnObservable=function(t,r){var n=this,o,s=t.subscribe(function(a){o=a,n.send(Re(a,{origin:r}))},function(a){n.removeChild(r),n.send(Re(Dn(r,a),{origin:r}))},function(){n.removeChild(r),n.send(Re(Eo(r),{origin:r}))}),i=x({id:r,send:function(){},subscribe:function(a,u,l){return t.subscribe(a,u,l)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:r}}},hn);return this.children.set(r,i),i},e.prototype.spawnActor=function(t,r){return this.children.set(r,t),t},e.prototype.spawnActivity=function(t){var r=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!r){Fe||Qe(!1,"No implementation found for activity '".concat(t.type,"'"));return}var n=r(this.state.context,t);this.spawnEffect(t.id,n)},e.prototype.spawnEffect=function(t,r){this.children.set(t,x({id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:r||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},hn))},e.prototype.attachDev=function(){var t=ni();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var r=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(x(x({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},r),{features:x({jump:!1,skip:!1},r?r.features:void 0)}),this.machine),this.devTools.init(this.state)}Xm(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Hi]=function(){return this},e.prototype.getSnapshot=function(){return this.status===xt.NotStarted?this.initialState:this._state},e.defaultOptions=function(t){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(r,n){return setTimeout(r,n)},clearTimeout:function(r){return clearTimeout(r)}},logger:t.console.log.bind(console),devTools:!1}}(typeof self!="undefined"?self:global),e.interpret=oi,e}();function oi(e,t){var r=new Gm(e,t);return r}var si;(function(e){e[e.Effect=1]="Effect",e[e.LayoutEffect=2]="LayoutEffect"})(si||(si={}));var iC=p(f());var jm=p(f()),vf=jm.useLayoutEffect,Un=vf;var Qm=p(f());function ii(e){var t=Qm.useRef();return t.current||(t.current={v:e()}),t.current.v}var Ro=p(f());var yf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},bf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Wm(e,t){var r,n,o=yf([[],[]],2),s=o[0],i=o[1];try{for(var a=bf(e),u=a.next();!u.done;u=a.next()){var l=u.value;t(l)?s.push(l):i.push(l)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[s,i]}var Zo=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},Ym=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function Vm(e,t){var r=e.exec,n=r(t.context,t._event.data,{action:e,state:t,_event:t._event});n()}function Km(e){var t=(0,Ro.useRef)([]),r=(0,Ro.useRef)([]);Un(function(){var n=e.subscribe(function(o){var s,i;if(o.actions.length){var a=o.actions.filter(function(c){return typeof c.exec=="function"&&"__effect"in c.exec}),u=Zo(Wm(a,function(c){return c.exec.__effect===si.Effect}),2),l=u[0],d=u[1];(s=t.current).push.apply(s,Ym([],Zo(l.map(function(c){return[c,o]})),!1)),(i=r.current).push.apply(i,Ym([],Zo(d.map(function(c){return[c,o]})),!1))}});return function(){n.unsubscribe()}},[]),Un(function(){for(;r.current.length;){var n=Zo(r.current.shift(),2),o=n[0],s=n[1];Vm(o,s)}}),(0,Ro.useEffect)(function(){for(;t.current.length;){var n=Zo(t.current.shift(),2),o=n[0],s=n[1];Vm(o,s)}})}var es=function(){return es=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},es.apply(this,arguments)},Sf=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function kf(e,t,r){if(typeof e=="object")return e;var n=function(){};return{next:e,error:t||n,complete:r||n}}function zm(e,t,r){t===void 0&&(t={});var n=ii(function(){return typeof e=="function"?e():e});if(!1)var o,s;var i=t.context,a=t.guards,u=t.actions,l=t.activities,d=t.services,c=t.delays,m=t.state,g=Sf(t,["context","guards","actions","activities","services","delays","state"]),v=ii(function(){var b={context:i,guards:a,actions:u,activities:l,services:d,delays:c},k=n.withConfig(b,function(){return es(es({},n.context),i)});return oi(k,es({deferEvents:!0},g))});return Un(function(){var b;return r&&(b=v.subscribe(kf(r))),function(){b==null||b.unsubscribe()}},[r]),Un(function(){return v.start(m?Ut.create(m):void 0),function(){v.stop()}},[]),Un(function(){Object.assign(v.machine.options.actions,u),Object.assign(v.machine.options.guards,a),Object.assign(v.machine.options.activities,l),Object.assign(v.machine.options.services,d),Object.assign(v.machine.options.delays,c)},[u,a,l,d,c]),Km(v),v}var Ef=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s};function ta(e,t){t===void 0&&(t={});var r=(0,ai.useCallback)(function(a){var u=a.changed===void 0&&Object.keys(a.children).length;(a.changed||u)&&i(a)},[]),n=zm(e,t,r),o=Ef((0,ai.useState)(function(){var a=n.machine.initialState;return t.state?Ut.create(t.state):a}),2),s=o[0],i=o[1];return[s,n.send,n]}var xf=Zi({id:"modalStep",initial:"rateMentor",states:{rateMentor:{on:{HAPPY:"addTestimonial",SATISFIED:"satisfied",UNHAPPY:"report"}},satisfied:{on:{REQUEUED:"requeued",BACK:"rateMentor"}},addTestimonial:{on:{SUBMIT:"celebration",BACK:"rateMentor"}},celebration:{},requeued:{},report:{on:{SUBMIT:"unhappy",BACK:"rateMentor"}},unhappy:{}}}),Nf=({discussion:e,links:t})=>{let[r,n]=ta(xf),[o,s]=(0,ar.useState)(null);switch(r.value){case"rateMentor":return ar.default.createElement($l,{discussion:e,onHappy:()=>n("HAPPY"),onSatisfied:()=>n("SATISFIED"),onUnhappy:()=>n("UNHAPPY")});case"addTestimonial":return ar.default.createElement(Rl,{onSubmit:()=>n("SUBMIT"),onSkip:()=>Le(t.exercise),onBack:()=>n("BACK"),discussion:e});case"celebration":return ar.default.createElement(em,{mentorHandle:e.mentor.handle,links:t});case"satisfied":return ar.default.createElement(nm,{discussion:e,onRequeued:()=>n("REQUEUED"),onBack:()=>n("BACK"),onNotRequeued:()=>{Le(t.exercise)}});case"requeued":return ar.default.createElement(rm,{links:t});case"report":return ar.default.createElement(im,{discussion:e,onSubmit:i=>{s(i),n("SUBMIT")},onBack:()=>n("BACK")});case"unhappy":{if(!o)throw new Error("Report should not be null");return ar.default.createElement(tm,{report:o,links:t})}default:throw new Error("Unknown modal step")}},$m=n=>{var o=n,{links:e,discussion:t}=o,r=O(o,["links","discussion"]);return ar.default.createElement(G,h({cover:!0,className:"m-finish-student-mentor-discussion"},r),ar.default.createElement(Nf,{links:e,discussion:t}))};var Jn=p(f());var Zm=({open:e,onConfirm:t,onCancel:r})=>Jn.default.createElement(G,{open:e,onClose:r,className:"m-confirm-finish-student-mentor-discussion"},Jn.default.createElement("h3",null,"Are you sure you want to end this discussion?"),Jn.default.createElement("p",null,"When you feel like the mentoring has reached its natural conclusion, or you simply don\u2019t wish to proceed further, it's time to end the discussion."),Jn.default.createElement("div",{className:"buttons"},Jn.default.createElement("button",{type:"button",className:"btn-small-discourage",onClick:()=>r()},"Cancel"),Jn.default.createElement("button",{type:"button",className:"btn-primary btn-s",onClick:()=>t()},"Review and end discussion...")));var ui=({discussion:e,className:t,children:r,links:n})=>{let[o,s]=(0,vn.useState)("initialized");return vn.default.createElement(vn.default.Fragment,null,vn.default.createElement("button",{type:"button",className:t,onClick:()=>{s("confirming")}},r),vn.default.createElement(Zm,{open:o==="confirming",onConfirm:()=>{s("finishing")},onCancel:()=>{s("initialized")}}),vn.default.createElement($m,{discussion:e,links:n,open:o==="finishing",onClose:()=>{s("initialized")},onCancel:()=>{s("initialized")}}))};var Rm=({discussion:e,mentor:t,userHandle:r,iterations:n,onIterationScroll:o,links:s,status:i})=>Nt.default.createElement(As,{discussion:e},Nt.default.createElement("div",{id:"panel-discussion"},Nt.default.createElement(zl,{mentor:t}),Nt.default.createElement("div",{className:"discussion"},Nt.default.createElement(Ls,{iterations:n,userIsStudent:!0,discussionUuid:e.uuid,userHandle:r,onIterationScroll:o,status:i}),e.status==="mentor_finished"?Nt.default.createElement("div",{className:"student-review timeline-entry"},Nt.default.createElement(y,{icon:"completed-check-circle",className:"timeline-marker"}),Nt.default.createElement("div",{className:"--details timeline-content"},Nt.default.createElement("h3",null,t.handle," ended this discussion."),Nt.default.createElement("p",null,Nt.default.createElement("strong",null,"It's time to review ",t.handle,"'s mentoring"),"You\u2019ll be able to leave feedback and share what you thought of your experience."),Nt.default.createElement(ui,{discussion:e,links:s,className:"btn-primary btn-s"},"Review & finish discussion"))):null)),Nt.default.createElement("section",{className:"comment-section --comment"},Nt.default.createElement(Os,null),Nt.default.createElement(Ds,{discussion:e})));var ts=p(f());var ed=({discussion:e,links:t})=>e.isFinished||e.status==="mentor_finished"?ts.default.createElement("div",{className:"finished"},ts.default.createElement(y,{icon:"completed-check-circle"}),"Ended"):ts.default.createElement(ui,{discussion:e,links:t,className:"btn-keyboard-shortcut finish-button"},ts.default.createElement("div",{className:"--hint"},"End discussion"));var ra=p(f());var ce=p(f());var Tf=new Error("Unable to create mentor request"),td=({trackObjectives:e,track:t,exercise:r,links:n,onSuccess:o})=>{let[s,{status:i,error:a}]=A(()=>{var m,g;let{fetch:c}=M({endpoint:n.createMentorRequest,method:"POST",body:JSON.stringify({comment:(m=d.current)==null?void 0:m.value,track_objectives:(g=l.current)==null?void 0:g.value})});return c.then(v=>ee(v,"mentorRequest"))},{onSuccess:o}),u=(0,ce.useCallback)(c=>{c.preventDefault(),s()},[s]),l=(0,ce.useRef)(null),d=(0,ce.useRef)(null);return ce.default.createElement("div",{className:"mentoring-request-section"},ce.default.createElement("div",{className:"direct"},ce.default.createElement("h3",null,"Send this link to a friend for private mentoring."," ",ce.default.createElement("a",{href:n.learnMoreAboutPrivateMentoring},"Learn more"),"."),ce.default.createElement(sn,{textToCopy:n.privateMentoring})),ce.default.createElement("form",{"data-turbo":"false",className:"community",onSubmit:u},ce.default.createElement("div",{className:"heading"},ce.default.createElement("div",{className:"info"},ce.default.createElement("h2",null,"It\u2019s time to deepen your knowledge."),ce.default.createElement("p",null,"Start a mentoring discussion on ",ce.default.createElement("strong",null,r.title)," ","to discover new and exciting ways to approach it. Expand and deepen your knowledge.")),ce.default.createElement(y,{icon:"mentoring",category:"graphics"})),ce.default.createElement("div",{className:"question"},ce.default.createElement("label",{htmlFor:"request-mentoring-form-track-objectives"},"What are you hoping to learn from this track?"),ce.default.createElement("p",{id:"request-mentoring-form-track-description"},"Tell our mentors a little about your programming background and what you\u2019re aiming to learn from ",t.title,"."),ce.default.createElement("textarea",{ref:l,id:"request-mentoring-form-track-objectives",required:!0,"aria-describedby":"request-mentoring-form-track-description",defaultValue:e})),ce.default.createElement("div",{className:"question"},ce.default.createElement("label",{htmlFor:"request-mentoring-form-solution-comment"},"How can a mentor help you with this solution?"),ce.default.createElement("p",{id:"request-mentoring-form-solution-description"},"Give your mentor a starting point for the conversation. This will be your first comment during the session. Markdown is permitted."),ce.default.createElement("textarea",{ref:d,id:"request-mentoring-form-solution-comment",required:!0,"aria-describedby":"request-mentoring-form-solution-description"})),ce.default.createElement(N,{status:i,className:"btn-primary btn-m"},"Submit mentoring request"),ce.default.createElement(V,{status:i,error:a,defaultError:Tf}),ce.default.createElement("p",{className:"flow-explanation"},"Once you submit, your request will be open for a mentor to join and start providing feedback.",ce.default.createElement(eo,{seconds:t.medianWaitTime}))))};var Q=p(f());var Hr=p(f());var ur=p(f());var wf=new Error("Unable to cancel request"),rd=o=>{var s=o,{open:e,onClose:t,request:r}=s,n=O(s,["open","onClose","request"]);let[i,{status:a,error:u}]=A(()=>{let{fetch:c}=M({endpoint:r.links.cancel,method:"PATCH",body:null});return c},{onSuccess:c=>{Le(c.links.home)}}),l=(0,ur.useCallback)(c=>{c.preventDefault(),i()},[i]),d=(0,ur.useCallback)(()=>{a!=="loading"&&t()},[a,t]);return ur.default.createElement(G,h({open:e,onClose:d,className:"m-generic-confirmation"},n),ur.default.createElement("h3",null,"Cancel mentoring request?"),ur.default.createElement("p",null,"Are you sure you want to cancel this mentoring request? Please note that if someone has started giving feedback in the last few minutes, the session may continue regardless of this cancellation."),ur.default.createElement("form",{"data-turbo":"false",onSubmit:l,className:"buttons"},ur.default.createElement(N,{status:a,type:"submit",className:"btn-primary btn-s"},"Cancel mentoring request"),ur.default.createElement(N,{status:a,type:"button",className:"btn-enhanced btn-s",onClick:d},"Close")),ur.default.createElement(_,{resetKeys:[a]},ur.default.createElement(se,{error:u,defaultError:wf})))};var nd=({request:e})=>{let[t,r]=(0,Hr.useState)(!1),n=(0,Hr.useCallback)(()=>{r(!0)},[]),o=(0,Hr.useCallback)(()=>{r(!1)},[]);return Hr.default.createElement(Hr.default.Fragment,null,Hr.default.createElement("button",{type:"button",onClick:n},"Cancel Request"),Hr.default.createElement(rd,{open:t,request:e,onClose:o}))};var Cf={contentMarkdown:"",contentHtml:"<p>Please update this comment to tell a mentor what you'd like to learn in this exercise</p>"},od=({track:e,links:t,videos:r,request:n,iteration:o})=>{if(!n.comment)throw"Request comment expected";let[s,i]=(0,Q.useState)("viewing"),[a,u]=(0,Q.useState)(n.comment),l=a.contentHtml.length===0,d={action:s,post:l?h(h({},a),Cf):a,onEdit:()=>i("editing"),onEditCancel:()=>i("viewing"),onUpdate:c=>u(c)};return Q.default.createElement("div",{className:"mentoring-requested-section",id:"panel-discussion"},Q.default.createElement("div",{className:"content"},Q.default.createElement("div",{className:"status"},Q.default.createElement("div",{className:"info"},Q.default.createElement("h3",null,"Waiting on a mentor..."),Q.default.createElement(eo,{seconds:e.medianWaitTime})),Q.default.createElement(nd,{request:n})),Q.default.createElement("div",{className:"placeholder"},Q.default.createElement("div",{className:"info"},Q.default.createElement("div",{className:"title"},Q.default.createElement("div",{className:"name"}),Q.default.createElement("div",{className:"rep"})),Q.default.createElement("div",{className:"desc"})),Q.default.createElement("div",{className:"avatar"},Q.default.createElement(y,{icon:"avatar-placeholder"}))),Q.default.createElement("div",{className:"discussion"},Q.default.createElement(Nn,{iteration:o,userIsStudent:!1}),Q.default.createElement(io,h({},d))),Q.default.createElement("div",{className:"waiting-box"},Q.default.createElement("h3",null,"Waiting on a mentor?"),Q.default.createElement("h4",null,"Learn how to get the most out of mentoring"),Q.default.createElement("p",null,"Mentoring relies on mentors and students having a shared understanding of how it works."," ",Q.default.createElement("a",{href:t.mentoringGuide,target:"_blank",rel:"noreferrer"},"Read our guide",Q.default.createElement(w,{icon:"external-link",alt:"The link opens in a new window or tab"}))," ","or watch the videos below to get that understanding."),Q.default.createElement("div",{className:"videos"},r.map((c,m)=>Q.default.createElement(Mf,h({key:m},c)))))),Q.default.createElement("div",{className:"direct"},Q.default.createElement("h3",null,"Want a friend to mentor your solution?"),Q.default.createElement("p",null,"Send this link to a friend for private mentoring."),Q.default.createElement(sn,{textToCopy:t.privateMentoring})))},Mf=({title:e,date:t,thumb:r,url:n})=>Q.default.createElement("a",{href:n,target:"_blank",rel:"noreferrer",className:"video"},Q.default.createElement("div",{className:"img",style:{backgroundImage:`url('${r}')`}}),Q.default.createElement("div",{className:"info"},Q.default.createElement("div",{className:"title"},e),Q.default.createElement("time",{dateTime:t,className:"date"},$n(t,"DD MMM YYYY"))),Q.default.createElement(w,{icon:"external-link",alt:"The link opens in a new window or tab"}));var sd=({trackObjectives:e,track:t,exercise:r,request:n,latestIteration:o,videos:s,links:i,onCreate:a})=>n?ra.default.createElement(od,{request:n,links:i,track:t,videos:s,iteration:o}):ra.default.createElement(td,{trackObjectives:e,track:t,exercise:r,onSuccess:a,links:i});var id=({userHandle:e,discussion:t,mentor:r,iterations:n,exercise:o,trackObjectives:s,videos:i,track:a,request:u,links:l,outOfDate:d})=>{let[c,m]=(0,et.useState)(u),g=(0,et.useCallback)(X=>{m(X)},[]),{iterations:v,status:b}=_s({discussion:t,iterations:n}),[k,I]=(0,et.useState)(!1),{currentIteration:E,handleIterationClick:T,handleIterationScroll:P}=Is({iterations:v,on:k});return et.default.createElement("div",{className:"c-mentor-discussion"},et.default.createElement(ps,{id:"mentoring-session",defaultLeftWidth:"90%",leftMinWidth:550,rightMinWidth:625,left:et.default.createElement(et.default.Fragment,null,et.default.createElement("header",{className:"discussion-header"},et.default.createElement(Ns,{url:l.exercise}),et.default.createElement(Kl,{track:a,exercise:o,mentor:r}),t?et.default.createElement(ed,{discussion:t,links:{exercise:o.links.self}}):null),et.default.createElement(Vl,{iterations:v,currentIteration:E,onClick:T,language:a.highlightjsLanguage,indentSize:a.indentSize,isOutOfDate:d,isLinked:k,setIsLinked:I,discussion:t})),right:et.default.createElement(et.default.Fragment,null,t&&r?et.default.createElement(Rm,{discussion:t,mentor:r,userHandle:e,iterations:v,onIterationScroll:P,links:{exercise:o.links.self},status:b}):et.default.createElement(sd,{trackObjectives:s,track:a,exercise:o,request:c,latestIteration:v[v.length-1],videos:i,links:l,onCreate:g}))}))};var ze=p(f());var ut=p(f());var Jt=p(f());var Kt=p(f());var ad=({value:e,text:t,iconUrl:r,internalUrl:n,externalUrl:o,createdAt:s,track:i})=>{let a=n||o,u=a===n?"chevron-right":"external-link";return Kt.default.createElement("a",{href:a,className:"reputation-token"},Kt.default.createElement("img",{alt:"",role:"presentation",src:r,className:"c-icon primary-icon",onError:ls}),Kt.default.createElement("div",{className:"info"},Kt.default.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:t}}),Kt.default.createElement("div",{className:"extra"},i?Kt.default.createElement("div",{className:"exercise"},"in",Kt.default.createElement(pe,{iconUrl:i.iconUrl,title:i.title,className:"primary-icon"}),Kt.default.createElement("div",{className:"name"},i.title)):Kt.default.createElement("div",{className:"generic"},"Generic"),Kt.default.createElement("time",{dateTime:s},Ha(s)))),Kt.default.createElement(an,{value:`+ ${e}`,type:"primary"}),Kt.default.createElement(y,{icon:u,className:"action-button"}))};var dd=p(nt());var lr=p(f());var Pf=new Error("Unable to mark all as seen"),ud=s=>{var i=s,{endpoint:e,onClose:t,onSuccess:r,unseenTotal:n}=i,o=O(i,["endpoint","onClose","onSuccess","unseenTotal"]);let[a,{status:u,error:l}]=A(()=>{let{fetch:m}=M({endpoint:e,method:"PATCH",body:null});return m},{onSuccess:m=>{r(m),t()}}),d=(0,lr.useCallback)(m=>{m.preventDefault(),a()},[a]),c=(0,lr.useCallback)(()=>{u!=="loading"&&t()},[t,u]);return lr.default.createElement(G,h({theme:"dark",className:"m-generic-confirmation",onClose:c},o),lr.default.createElement("h3",null,"Mark all as seen?"),lr.default.createElement("p",null,"Are you sure you want to mark all ",n," contributions as seen? Note that these contributions may span multiple pages."),lr.default.createElement("form",{"data-turbo":"false",onSubmit:d,className:"buttons"},lr.default.createElement(N,{type:"submit",status:u,className:"btn-primary btn-s"},"Continue"),lr.default.createElement(N,{type:"button",status:u,onClick:c,className:"btn-enhanced btn-s"},"Cancel")),lr.default.createElement(_,{resetKeys:[u]},lr.default.createElement(se,{error:l,defaultError:Pf})))};var ld=p(f()),md=({unseenTotal:e,onClick:t})=>ld.default.createElement("button",{type:"button",onClick:t,className:"btn-m btn-default",disabled:e===0},"Mark all as seen");var cd=({cacheKey:e,data:t})=>{let r=_e(),[n,o]=(0,Jt.useState)(!1),s=(0,Jt.useCallback)(()=>{o(!0)},[]),i=(0,Jt.useCallback)(()=>{o(!1)},[]),a=(0,Jt.useCallback)(u=>{let l=r.getQueryData(e);r.setQueryData(e,S(h({},l),{meta:S(h({},l==null?void 0:l.meta),{unseenTotal:u.meta.unseenTotal})}))},[e,r]);return Jt.default.createElement("div",null,Jt.default.createElement("div",{className:"results-title-bar"},Jt.default.createElement("h3",null,"Showing ",t.meta.totalCount," ",(0,dd.default)("contribution",t.meta.totalCount)),Jt.default.createElement(md,{onClick:s,unseenTotal:t.meta.unseenTotal})),Jt.default.createElement("div",{className:"reputation-tokens"},t.results.map(u=>Jt.default.createElement(ad,S(h({},u),{key:u.uuid})))),Jt.default.createElement(ud,{endpoint:t.meta.links.markAllAsSeen,open:n,onSuccess:a,onClose:i,unseenTotal:t.meta.unseenTotal}))};var at=p(f());var Af=({option:e})=>{switch(e){case"authoring":return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Contributing to Exercises"));case"building":return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Building Exercism"));case"maintaining":return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Maintaining"));case"mentoring":return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Mentoring"));case"publishing":return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Publishing"));case"other":return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Other"));case void 0:return at.default.createElement("div",{className:"info"},at.default.createElement("div",{className:"title"},"Any category"))}},If=()=>at.default.createElement(at.default.Fragment,null,"Category"),pd=({value:e,setValue:t})=>at.default.createElement(Ue,{options:[void 0,"building","authoring","maintaining","mentoring","publishing","other"],value:e,setValue:t,SelectedComponent:If,OptionComponent:Af});var Ff=new Error("Unable to load contributions list"),fd=({request:e,isEnabled:t})=>{var b;let{request:r,setPage:n,setCriteria:o,setQuery:s}=st(e),[i,a]=(0,ut.useState)(((b=r.query)==null?void 0:b.criteria)||""),u=["contributions-list",r.endpoint,je(r.query)],{status:l,resolvedData:d,latestData:c,isFetching:m,error:g}=Z(u,S(h({},r),{query:je(r.query),options:S(h({},r.options),{enabled:t})})),v=(0,ut.useCallback)(k=>{s(S(h({},r.query),{category:k,page:void 0}))},[JSON.stringify(r.query),s]);return(0,ut.useEffect)(()=>{let k=setTimeout(()=>{o(i)},200);return()=>{clearTimeout(k)}},[o,i]),qt({pushOn:je(r.query)}),ut.default.createElement("article",{className:"reputation-tab theme-dark"},ut.default.createElement("div",{className:"md-container container"},ut.default.createElement("div",{className:"c-search-bar"},ut.default.createElement("input",{className:"--search",onChange:k=>{a(k.target.value)},value:i,placeholder:"Search by contribution name"}),ut.default.createElement(pd,{value:r.query.category,setValue:v})),ut.default.createElement(Te,{isFetching:m},ut.default.createElement(V,{status:l,error:g,defaultError:Ff},d?ut.default.createElement(ut.default.Fragment,null,ut.default.createElement(cd,{data:d,cacheKey:u}),ut.default.createElement(vt,{disabled:c===void 0,current:r.query.page,total:d.meta.totalPages,setPage:n})):null))))};var ke=p(f());var W=p(f());var na=p(nt()),hd=({privateUrl:e,status:t,publishedIterationHeadTestsStatus:r,numViews:n,numStars:o,numComments:s,numIterations:i,numLoc:a,lastIteratedAt:u,exercise:l,track:d,isOutOfDate:c})=>W.default.createElement("a",{href:e,className:"solution"},W.default.createElement("div",{className:"main"},W.default.createElement("div",{className:"exercise"},W.default.createElement(Ot,{iconUrl:l.iconUrl}),W.default.createElement("div",{className:"info"},W.default.createElement("div",{className:"flex items-center mb-8"},W.default.createElement("div",{className:"exercise-title"},l.title),c?W.default.createElement(jr,{content:"There is a newer version of this exercise. Visit the exercise page to upgrade to the latest version."},W.default.createElement("div",null,W.default.createElement(w,{icon:"warning",alt:"There is a newer version of this exercise. Visit the exercise page to upgrade.",className:"--out-of-date"}))):null,r==="passed"?W.default.createElement(w,{icon:"golden-check",alt:"Passes tests of the latest version of the exercise",className:"head-tests-status --passed"}):r==="failed"||r==="errored"?W.default.createElement(jr,{content:"This solution fails the tests of the latest version of this exercise. Try updating the exercise and checking it locally or in the online editor."},W.default.createElement("div",null,W.default.createElement(w,{icon:"cross-circle",alt:"Failed tests of the latest version of the exercise",className:"head-tests-status --failed"}))):null),W.default.createElement("div",{className:"extra"},W.default.createElement("div",{className:"track"},"in",W.default.createElement(pe,{iconUrl:d.iconUrl,title:d.title}),W.default.createElement("div",{className:"track-title"},d.title)),t==="completed"?W.default.createElement("div",{className:"status"},W.default.createElement(y,{icon:"completed-check-circle"}),"Completed"):t==="published"?W.default.createElement("div",{className:"status"},W.default.createElement(y,{icon:"completed-check-circle"}),"Published"):W.default.createElement(W.default.Fragment,null)))),W.default.createElement("div",{className:"stats"},W.default.createElement("div",{className:"stat"},W.default.createElement(y,{icon:"iteration"}),i," ",(0,na.default)("iteration",i)),a?W.default.createElement("div",{className:"stat"},W.default.createElement(y,{icon:"loc"}),a," lines"):null,n?W.default.createElement("div",{className:"stat"},W.default.createElement(y,{icon:"views"}),n," ",(0,na.default)("view",n)):null),u?W.default.createElement("time",{className:"iterated-at",dateTime:u},"Last submitted ",Be(u)):null),W.default.createElement("div",{className:"counts"},W.default.createElement("div",{className:"count"},W.default.createElement(y,{icon:"star"}),W.default.createElement("div",{className:"num"},o)),W.default.createElement("div",{className:"count"},W.default.createElement(y,{icon:"comment"}),W.default.createElement("div",{className:"num"},s))));var wo=p(f());var gd=({option:e})=>{switch(e){case"oldest_first":return wo.default.createElement(wo.default.Fragment,null,"Oldest First");case"newest_first":return wo.default.createElement(wo.default.Fragment,null,"Newest First")}},vd=({value:e,setValue:t})=>wo.default.createElement(Ue,{options:["newest_first","oldest_first"],value:e,setValue:t,SelectedComponent:gd,OptionComponent:gd});var Pd=p(nt());var ne=p(f());var Mt=p(f());var yd=({option:e})=>{switch(e){case"started":return Mt.default.createElement(Mt.default.Fragment,null,"Started");case"iterated":return Mt.default.createElement(Mt.default.Fragment,null,"Iterated");case"completed":return Mt.default.createElement(Mt.default.Fragment,null,"Completed");case"published":return Mt.default.createElement(Mt.default.Fragment,null,"Published");case void 0:return Mt.default.createElement(Mt.default.Fragment,null,"All")}},Lf=({option:e})=>{switch(e){case void 0:return Mt.default.createElement(Mt.default.Fragment,null,"Exercise status");default:return Mt.default.createElement(yd,{option:e})}},bd=({value:e,setValue:t})=>Mt.default.createElement(Ue,{options:[void 0,"started","iterated","completed","published"],value:e,setValue:t,SelectedComponent:Lf,OptionComponent:yd});var Pt=p(f());var Sd=({option:e})=>{switch(e){case"passed":return Pt.default.createElement(Pt.default.Fragment,null,"Passed");case"failed":return Pt.default.createElement(Pt.default.Fragment,null,"Failed");case"errored":return Pt.default.createElement(Pt.default.Fragment,null,"Errored");case"exceptioned":return Pt.default.createElement(Pt.default.Fragment,null,"Exceptioned");case void 0:return Pt.default.createElement(Pt.default.Fragment,null,"All")}},Df=({option:e})=>{switch(e){case void 0:return Pt.default.createElement(Pt.default.Fragment,null,"Latest Tests status");default:return Pt.default.createElement(Sd,{option:e})}},kd=({value:e,setValue:t})=>Pt.default.createElement(Ue,{options:[void 0,"passed","failed","errored","exceptioned"],value:e,setValue:t,SelectedComponent:Df,OptionComponent:Sd});var At=p(f());var Ed=({option:e})=>{switch(e){case"none":return At.default.createElement(At.default.Fragment,null,"No mentoring");case"requested":return At.default.createElement(At.default.Fragment,null,"Mentoring Requested");case"in_progress":return At.default.createElement(At.default.Fragment,null,"Mentoring in progress");case"finished":return At.default.createElement(At.default.Fragment,null,"Mentoring Completed");case void 0:return At.default.createElement(At.default.Fragment,null,"Any")}},Of=({option:e})=>{switch(e){case void 0:return At.default.createElement(At.default.Fragment,null,"Mentoring status");default:return At.default.createElement(Ed,{option:e})}},xd=({value:e,setValue:t})=>At.default.createElement(Ue,{options:[void 0,"none","requested","in_progress","finished"],value:e,setValue:t,SelectedComponent:Of,OptionComponent:Ed});var Tr=p(f());var Nd=({option:e})=>{switch(e){case"up_to_date":return Tr.default.createElement(Tr.default.Fragment,null,"Up-to-date");case"out_of_date":return Tr.default.createElement(Tr.default.Fragment,null,"Out-of-date");case void 0:return Tr.default.createElement(Tr.default.Fragment,null,"All")}},qf=({option:e})=>{switch(e){case void 0:return Tr.default.createElement(Tr.default.Fragment,null,"Sync status");default:return Tr.default.createElement(Nd,{option:e})}},Td=({value:e,setValue:t})=>Tr.default.createElement(Ue,{options:[void 0,"up_to_date","out_of_date"],value:e,setValue:t,SelectedComponent:qf,OptionComponent:Nd});var It=p(f());var wd=({option:e})=>{switch(e){case"passed":return It.default.createElement(It.default.Fragment,null,"Passed");case"failed":return It.default.createElement(It.default.Fragment,null,"Failed");case"errored":return It.default.createElement(It.default.Fragment,null,"Errored");case"exceptioned":return It.default.createElement(It.default.Fragment,null,"Exceptioned");case void 0:return It.default.createElement(It.default.Fragment,null,"All")}},_f=({option:e})=>{switch(e){case void 0:return It.default.createElement(It.default.Fragment,null,"Tests status");default:return It.default.createElement(wd,{option:e})}},Cd=({value:e,setValue:t})=>It.default.createElement(Ue,{options:[void 0,"passed","failed","errored","exceptioned"],value:e,setValue:t,SelectedComponent:_f,OptionComponent:wd});var Md=({request:e,onApply:t})=>{let[r,n]=(0,ne.useState)(e.query.status),[o,s]=(0,ne.useState)(e.query.mentoringStatus),[i,a]=(0,ne.useState)(e.query.syncStatus),[u,l]=(0,ne.useState)(e.query.testsStatus),[d,c]=(0,ne.useState)(e.query.headTestsStatus),[m,g]=(0,ne.useState)(!1),[v,b]=(0,ne.useState)(!1),k=(0,ne.useRef)(null),I=(0,ne.useRef)(null);(0,ne.useEffect)(()=>{if(m){if(!k.current)return;k.current.focus(),b(!0)}else if(v){if(!I.current)return;I.current.focus()}},[m,v]),(0,ne.useEffect)(()=>{if(!m)return;let P=X=>{X.key==="Escape"&&(X.stopPropagation(),g(!1))};return document.addEventListener("keyup",P),()=>{document.removeEventListener("keyup",P)}},[m]);let E=(0,ne.useCallback)(P=>{P.preventDefault(),t(r,o,i,u,d),g(!1)},[g,r,o,i,u,d]),T=(0,ne.useCallback)(P=>{P.preventDefault(),g(!1)},[g]);return ne.default.createElement(ne.default.Fragment,null,ne.default.createElement("button",{ref:I,onClick:()=>g(!m),className:"--filter-btn","aria-haspopup":"true","aria-expanded":m},ne.default.createElement("span",{className:"hidden sm:block sm:mr-12"},"Filter by"),ne.default.createElement(y,{icon:"chevron-down"})),ne.default.createElement("div",h({className:"filter-options",ref:k,tabIndex:-1,role:"dialog","aria-label":"A series of options to filter Exercism tracks"},m?{}:{hidden:!0}),ne.default.createElement("div",{className:"md-container container"},ne.default.createElement("div",{className:"options"},ne.default.createElement(bd,{value:r,setValue:n}),ne.default.createElement(xd,{value:o,setValue:s}),ne.default.createElement(Td,{value:i,setValue:a}),ne.default.createElement(Cd,{value:u,setValue:l}),ne.default.createElement(kd,{value:d,setValue:c})),ne.default.createElement("footer",{className:"buttons"},ne.default.createElement("button",{className:"btn-primary btn-m",onClick:E},"Apply filters"),ne.default.createElement("button",{className:"btn-default btn-m",onClick:T},"Close")))))};var Bf="newest_first",Uf=new Error("Unable to load solutions"),Ad=({request:e,isEnabled:t})=>{var I;let{request:r,setPage:n,setCriteria:o,setQuery:s,setOrder:i}=st(e),[a,u]=(0,ke.useState)(((I=r.query)==null?void 0:I.criteria)||""),l=["contributions-list",r.endpoint,je(r.query)],{status:d,resolvedData:c,latestData:m,isFetching:g,error:v}=Z(l,S(h({},r),{query:je(r.query),options:S(h({},r.options),{enabled:t})}));(0,ke.useEffect)(()=>{let E=setTimeout(()=>{o(a)},200);return()=>{clearTimeout(E)}},[o,a]),qt({pushOn:je(r.query)});let b=(0,ke.useCallback)((E,T,P,X,Y)=>{s(S(h({},r.query),{page:void 0,status:E,mentoringStatus:T,syncStatus:P,testsStatus:X,headTestsStatus:Y}))},[r.query,s]),k=(0,ke.useCallback)(()=>{s(S(h({},r.query),{page:void 0,status:void 0,mentoringStatus:void 0,syncStatus:void 0,testsStatus:void 0,headTestsStatus:void 0}))},[r.query,s]);return ke.default.createElement("article",{className:"solutions-tab theme-dark"},ke.default.createElement("div",{className:"c-search-bar"},ke.default.createElement("div",{className:"md-container container"},ke.default.createElement("input",{className:"--search",onChange:E=>{u(E.target.value)},value:a,placeholder:"Search by exercise or track name"}),ke.default.createElement(Md,{request:r,onApply:b}),ke.default.createElement(vd,{value:r.query.order||Bf,setValue:i}))),ke.default.createElement("div",{className:"md-container container"},ke.default.createElement(Te,{isFetching:g},ke.default.createElement(V,{status:d,error:v,defaultError:Uf},c?ke.default.createElement(ke.default.Fragment,null,ke.default.createElement("div",null,ke.default.createElement("div",{className:"results-title-bar"},ke.default.createElement("h3",null,"Showing ",c.meta.totalCount," ",(0,Pd.default)("solution",c.meta.totalCount)),ke.default.createElement("button",{type:"button",onClick:k,className:"btn-link"},ke.default.createElement(y,{icon:"reset"}),ke.default.createElement("span",null,"Reset filters"))),ke.default.createElement("div",{className:"solutions"},c.results.map(E=>ke.default.createElement(hd,S(h({},E),{key:E.uuid}))))),ke.default.createElement(vt,{disabled:m===void 0,current:r.query.page,total:c.meta.totalPages,setPage:n})):null))))};var Tt=p(f());var Xn=p(f());var wr=p(f());var Ft=p(f());var oa=p(nt()),li=n=>{var o=n,{badge:e,wasUnrevealed:t}=o,r=O(o,["badge","wasUnrevealed"]);let s=["m-badge",`--${e.rarity}`,"theme-dark"];return Ft.default.createElement(G,S(h({},r),{closeButton:!0,className:s.join(" "),cover:!0}),Ft.default.createElement(ro,{badge:e}),t?Ft.default.createElement("h2",null,"New Badge Earned"):null,Ft.default.createElement("div",{className:"name"},e.name),Ft.default.createElement("div",{className:"rarity"},e.rarity),Ft.default.createElement("hr",{className:"c-divider --small"}),Ft.default.createElement("div",{className:"reason"},e.description),Ft.default.createElement("div",{className:"earned-at"},"Earned on"," ",Ft.default.createElement("time",{dateTime:e.unlockedAt},$n(e.unlockedAt,"DD MMM YYYY"))),Ft.default.createElement("div",{className:"num-awardees text-p-base"},Ft.default.createElement(y,{icon:"students"}),Ft.default.createElement("strong",null,e.numAwardees)," ",(0,oa.default)("member",e.numAwardees)," ",(0,oa.default)("has",e.numAwardees)," earned this badge."),Ft.default.createElement("div",{className:"percentage-awardees"},"That's ",Ft.default.createElement("strong",null,e.percentageAwardees,"%")," of all Exercism users"))};var Id=({badge:e})=>{let[t,r]=(0,wr.useState)(!1);return wr.default.createElement(wr.default.Fragment,null,wr.default.createElement("button",{className:"c-badge",onClick:()=>r(!t)},wr.default.createElement(ro,{badge:e}),wr.default.createElement("div",{className:"--info"},wr.default.createElement("div",{className:"--name"},e.name),wr.default.createElement("div",{className:"--desc"},e.description))),wr.default.createElement(li,{badge:e,open:t,onClose:()=>{r(!1)}}))};var ft=p(f());var Jf=new Error("Unable to reveal badge"),Fd=({badge:e,cacheKey:t})=>{let r=_e(),[n,o]=(0,ft.useState)(!1),[s,i]=(0,ft.useState)(null),[a,{status:u,error:l}]=A(()=>{let{fetch:c}=M({endpoint:e.links.reveal,method:"PATCH",body:null});return c.then(m=>ee(m,"badge"))},{onSuccess:c=>{i(c),o(!0)}}),d=(0,ft.useCallback)(()=>{let c=r.getQueryData(t);!c||!s||r.setQueryData(t,S(h({},c),{results:c.results.map(m=>m.uuid===s.uuid?s:m)}))},[t,s,r]);return ft.default.createElement(ft.default.Fragment,null,ft.default.createElement(N,{status:u,className:"c-badge",onClick:()=>a()},ft.default.createElement("div",{className:`c-badge-medallion --${e.rarity} --unrevealed`},ft.default.createElement("div",{className:"--unknown"},"?")),ft.default.createElement("div",{className:"--info"},ft.default.createElement("div",{className:"--name"},"Unrevealed"),ft.default.createElement("div",{className:"--desc"},"Click/tap to reveal"))),ft.default.createElement(_,{resetKeys:[u]},ft.default.createElement(se,{error:l,defaultError:Jf})),s?ft.default.createElement(li,{badge:s,open:n,onClose:()=>{o(!1),d()},wasUnrevealed:!0}):null)};var Ld=p(nt()),Dd=({data:e,cacheKey:t})=>Xn.default.createElement("div",null,Xn.default.createElement("div",{className:"results-title-bar"},Xn.default.createElement("h3",null,"Showing ",e.meta.totalCount," ",(0,Ld.default)("badge",e.meta.totalCount))),Xn.default.createElement("div",{className:"badges"},e.results.map(r=>r.isRevealed?Xn.default.createElement(Id,{badge:r,key:r.uuid}):Xn.default.createElement(Fd,{badge:r,cacheKey:t,key:r.uuid}))));var yn=p(f());var Od=({option:e})=>{switch(e){case"unrevealed_first":return yn.default.createElement(yn.default.Fragment,null,"Sort by Unrevealed First");case"newest_first":return yn.default.createElement(yn.default.Fragment,null,"Sort by Newest First");case"oldest_first":return yn.default.createElement(yn.default.Fragment,null,"Sort by Oldest First")}},qd=({value:e,setValue:t})=>yn.default.createElement(Ue,{options:["unrevealed_first","newest_first","oldest_first"],value:e,setValue:t,SelectedComponent:Od,OptionComponent:Od});var Xf="unrevealed_first",Hf=new Error("Unable to load badge list"),_d=({request:e,isEnabled:t})=>{var v;let{request:r,setPage:n,setCriteria:o,setOrder:s}=st(e),[i,a]=(0,Tt.useState)(((v=r.query)==null?void 0:v.criteria)||""),u=["badges-list",r.endpoint,je(r.query)],{status:l,resolvedData:d,latestData:c,isFetching:m,error:g}=Z(u,S(h({},r),{query:je(r.query),options:S(h({},r.options),{enabled:t})}));return(0,Tt.useEffect)(()=>{let b=setTimeout(()=>{o(i)},200);return()=>{clearTimeout(b)}},[o,i]),qt({pushOn:je(r.query)}),Tt.default.createElement("article",{className:"badges-tab theme-dark"},Tt.default.createElement("div",{className:"md-container container"},Tt.default.createElement("div",{className:"c-search-bar"},Tt.default.createElement("input",{className:"--search",onChange:b=>{a(b.target.value)},value:i,placeholder:"Search by badge name or description"}),Tt.default.createElement(qd,{value:r.query.order||Xf,setValue:s})),Tt.default.createElement(Te,{isFetching:m},Tt.default.createElement(V,{status:l,error:g,defaultError:Hf},d?Tt.default.createElement(Tt.default.Fragment,null,Tt.default.createElement(Dd,{data:d,cacheKey:u}),Tt.default.createElement(vt,{disabled:c===void 0,current:r.query.page,total:d.meta.totalPages,setPage:n})):null))))};var $t=p(f());var ht=p(f());var mi=p(f());var Bd=p(f()),Co=({slug:e,children:t})=>{let r=["track",`t-b-${e}`];return Bd.default.createElement("span",{className:r.join(" ")},t)};var tt=p(f()),Mo=({tracks:e,SpanComponent:t})=>{switch(e.length){case 4:return tt.default.createElement(tt.default.Fragment,null,tt.default.createElement(t,{track:e[0]}),", "," followed by ",tt.default.createElement(t,{track:e[1]}),", ",tt.default.createElement(t,{track:e[2]})," and ",tt.default.createElement(t,{track:e[3]}),".");case 3:return tt.default.createElement(tt.default.Fragment,null,tt.default.createElement(t,{track:e[0]}),", "," followed by ",tt.default.createElement(t,{track:e[1]})," and ",tt.default.createElement(t,{track:e[2]}),".");case 2:return tt.default.createElement(tt.default.Fragment,null,tt.default.createElement(t,{track:e[0]})," followed by"," ",tt.default.createElement(t,{track:e[1]}),".");case 1:return tt.default.createElement(tt.default.Fragment,null,tt.default.createElement(t,{track:e[0]}),".");default:return null}};var Gf=4,Ud=({tracks:e})=>{let t=e.sort().items.slice(0,Gf);return mi.default.createElement("p",null,"You've progressed the furthest in"," ",mi.default.createElement(Mo,{tracks:t,SpanComponent:jf}))},jf=({track:e})=>mi.default.createElement(Co,{slug:e.slug},e.title," (",e.completion.toFixed(2),"%)");var di=p(f()),Jd=p(nt()),Xd=({tracks:e})=>di.default.createElement("div",{className:"box"},di.default.createElement("div",{className:"journey-h3"},e.length),di.default.createElement("div",{className:"journey-label"},(0,Jd.default)("Track",e.length)," enrolled"));var ci=p(f()),Hd=p(nt()),Gd=({tracks:e})=>ci.default.createElement("div",{className:"box"},ci.default.createElement("div",{className:"journey-h3"},e.numCompletedExercises),ci.default.createElement("div",{className:"journey-label"},(0,Hd.default)("Exercise",e.numCompletedExercises)," completed"));var pi=p(f()),jd=p(nt()),Qd=({tracks:e})=>pi.default.createElement("div",{className:"box"},pi.default.createElement("div",{className:"journey-h3"},e.numConceptsLearnt),pi.default.createElement("div",{className:"journey-label"},(0,jd.default)("Concept",e.numConceptsLearnt)," learnt"));var Wd=p(nt()),bn=p(f()),Yd=({tracks:e})=>bn.default.createElement("div",{className:"overview"},bn.default.createElement("h3",null,"You're"," ",bn.default.createElement("em",{className:"text-gradient"},e.completion.toFixed(2),"%")," ","through your enrolled ",(0,Wd.default)("Track",e.length),"."," ",e.completion>1?bn.default.createElement("strong",null,"Keep it up! \u{1F680}"):null),bn.default.createElement("div",{className:"c-progress --large"},bn.default.createElement("div",{className:"bar",style:{width:`${e.completion}%`}})),bn.default.createElement("div",{className:"count"},e.numCompletedExercises," / ",e.numExercises," exercises completed"));var he=p(f());var Sn=p(f());var rs=p(f());var Vd=({completion:e})=>{let t=e===100,r=["c-progress","--small",t?"--completed":""].filter(n=>n.length>0);return rs.default.createElement("div",{className:r.join(" ")},rs.default.createElement("div",{className:"bar",style:{width:`${e}%`}}),t?rs.default.createElement("div",{className:"completed-icon"},rs.default.createElement(w,{icon:"completed-check-circle",alt:"Completed",className:"completed"})):null)};var Kd=({track:e})=>Sn.default.createElement("div",{className:"--summary-inner"},Sn.default.createElement(pe,{iconUrl:e.iconUrl,title:e.title}),Sn.default.createElement("h3",null,e.title),Sn.default.createElement(Vd,{completion:e.completion}),Sn.default.createElement("div",{className:"percentage"},e.completion.toFixed(2),"%"),Sn.default.createElement(y,{icon:"chevron-right",className:"--closed-icon"}),Sn.default.createElement(y,{icon:"chevron-down",className:"--open-icon"}));var fi=p(nt()),zd=({track:e,expanded:t,avgVelocity:r})=>he.default.createElement("details",{className:"c-details track",open:t},he.default.createElement("summary",{className:"--summary"},he.default.createElement(Kd,{track:e})),he.default.createElement("div",{className:"track-details"},he.default.createElement("div",{className:"time-area"},he.default.createElement(Ga,{data:e.progressChart.data,height:120,width:300}),he.default.createElement("div",{className:"info"},he.default.createElement("h4",null,e.progressChart.period),he.default.createElement("p",null,e.numCompletedExercises," / ",e.numExercises," (",e.completion.toFixed(2),"%) exercises completed"))),he.default.createElement("div",{className:"date-area"},he.default.createElement(y,{icon:"entry"}),he.default.createElement("h4",{className:"journey-h3"},$n(e.startedAt,"DD MMM YYYY")),he.default.createElement("h5",{className:"text-h6"},"When you joined the ",e.title," Track"),he.default.createElement("p",null,"You started working through the ",e.title," Track"," ",he.default.createElement("strong",null,Be(e.startedAt)),".")),he.default.createElement("div",{className:"mentor-history-area"},he.default.createElement(y,{icon:"mentoring"}),he.default.createElement("h4",{className:"journey-h3"},e.numCompletedMentoringDiscussions),he.default.createElement("h5",{className:"text-h6"},"Mentoring"," ",(0,fi.default)("session",e.numCompletedMentoringDiscussions)," ","completed"),he.default.createElement("p",null,"You have"," ",he.default.createElement("strong",null,e.numInProgressMentoringDiscussions===0?"none":`${e.numInProgressMentoringDiscussions} ${(0,fi.default)("discussion",e.numInProgressMentoringDiscussions)}`)," ","in progress and"," ",he.default.createElement("strong",null,e.numInProgressMentoringDiscussions===0?"none":`${e.numQueuedMentoringRequests} ${(0,fi.default)("solution",e.numQueuedMentoringRequests)}`)," ","in the queue.")),e.velocity?he.default.createElement("div",{className:"velocity-area"},he.default.createElement(y,{icon:"velocity"}),he.default.createElement("div",{className:"journey-h3"},e.velocity),he.default.createElement("h4",null,"Progression Velocity"),r?he.default.createElement("div",{className:"note"},"Avg. on Exercism = ",r):null,he.default.createElement("div",{className:"info"},"This is a measure of how quickly you\u2019ve progressed through the track in the last 6 months")):null));var sa=({tracks:e,links:t})=>e.length===0?ht.default.createElement("section",{className:"empty-section"},ht.default.createElement(y,{icon:"exercises",hex:!0}),ht.default.createElement("h3",{className:"journey-h3 mb-24"},"You haven't joined any tracks yet"),ht.default.createElement("a",{href:"/tracks",className:"btn-l btn-primary"},"Choose a track to get started.")):ht.default.createElement("section",{className:"learning-section"},ht.default.createElement("header",{className:"section-header"},ht.default.createElement(y,{icon:"exercises",hex:!0}),ht.default.createElement("h2",{className:"journey-h2"},"Your learning"),ht.default.createElement(Ud,{tracks:e})),ht.default.createElement("div",{className:"summary-boxes"},ht.default.createElement(Xd,{tracks:e}),ht.default.createElement(Gd,{tracks:e}),ht.default.createElement(Qd,{tracks:e})),ht.default.createElement(Yd,{tracks:e}),ht.default.createElement("div",{className:"tracks"},e.sort().items.map((r,n)=>ht.default.createElement(zd,{key:r.slug,track:r,avgVelocity:null,expanded:n==0}))));var rt=p(f());var hi=p(f());var $d=class{get percentage(){return 100*this.track.numDiscussions/this.numTotalSessions}get slug(){return this.track.slug}get title(){return this.track.title}constructor(t,r){this.track=t,this.numTotalSessions=r}},Qf=4,Zd=({tracks:e})=>{let t=e.sort().items.slice(0,Qf).map(r=>new $d(r,e.totals.discussions));return hi.default.createElement("p",null,"You've mostly mentored in"," ",hi.default.createElement(Mo,{tracks:t,SpanComponent:Wf}))},Wf=({track:e})=>hi.default.createElement(Co,{slug:e.slug},e.title," (",e.percentage.toFixed(2),"%)");var rn=p(f());var Yf={type:"doughnut",data:{labels:[],datasets:[]},options:{cutout:150,plugins:{legend:{display:!1}}}},Rd=({tracks:e})=>{let[t,r]=(0,rn.useState)(null),[n,o]=(0,rn.useState)(null);return(0,rn.useEffect)(()=>{if(!t)return;let s=new eu(t,Yf);return o(s),()=>s.destroy()},[t]),(0,rn.useEffect)(()=>{if(!n)return;let s={label:"Sessions mentored per track",data:e.items.map(i=>i.numDiscussions),backgroundColor:e.items.map(i=>`rgb(${getComputedStyle(document.documentElement).getPropertyValue(`--track-color-${i.slug}`)})`),borderWidth:0,hoverOffset:4};n.data.labels=e.items.map(i=>i.title),n.data.datasets=[s],n.update()},[n,e.items]),rn.default.createElement("div",{className:"chart"},rn.default.createElement("canvas",{id:"mentoring-chart",width:"350",height:"350",ref:r}))};var ns=p(f());var ec=p(f()),gi=({rank:e})=>{let t=["c-community-rank-tag",`--top-${e}`];return ec.default.createElement("div",{className:t.join(" ")},"Top ",e,"%")};var tc=({tracks:e,rank:t})=>ns.default.createElement("div",{className:"box"},ns.default.createElement("div",{className:"journey-h3"},e.totals.discussions),ns.default.createElement("div",{className:"journey-label"},"Total sessions mentored"),t?ns.default.createElement(gi,{rank:t}):null);var os=p(f());var rc=({tracks:e,rank:t})=>os.default.createElement("div",{className:"box"},os.default.createElement("div",{className:"journey-h3"},e.totals.students),os.default.createElement("div",{className:"journey-label"},"Total students mentored"),t?os.default.createElement(gi,{rank:t}):null);var vi=p(f()),nc=({tracks:e})=>vi.default.createElement("div",{className:"box"},vi.default.createElement("div",{className:"journey-h3"},e.sessionRatio.toFixed(2)),vi.default.createElement("div",{className:"journey-label"},"Sessions per student"));var Hn=p(f());var oc=p(nt()),sc=({track:e})=>Hn.default.createElement("div",{className:"track"},Hn.default.createElement("div",{className:"dot t-b-csharp"}),Hn.default.createElement(pe,{iconUrl:e.iconUrl,title:e.title}),Hn.default.createElement("div",{className:"details"},Hn.default.createElement("div",{className:"journey-label"},e.title),Hn.default.createElement("div",{className:"journey-h4"},e.numDiscussions," ",(0,oc.default)("session",e.numDiscussions))));var ic=({tracks:e,ranks:t})=>e.length===0?rt.default.createElement("section",{className:"empty-section"},rt.default.createElement(y,{icon:"mentoring",hex:!0}),rt.default.createElement("h3",{className:"journey-h3 mb-24"},"You haven't mentored anyone yet"),rt.default.createElement("a",{href:"/mentoring",className:"btn-l btn-primary"},"Try mentoring")):rt.default.createElement("section",{className:"mentoring-section"},rt.default.createElement("header",{className:"section-header"},rt.default.createElement(y,{icon:"mentoring",hex:!0}),rt.default.createElement("h2",{className:"journey-h2"},"Your mentoring"),rt.default.createElement(Zd,{tracks:e})),rt.default.createElement("div",{className:"content"},rt.default.createElement("div",{className:"info"},rt.default.createElement("div",{className:"summary-boxes"},rt.default.createElement(tc,{tracks:e,rank:t.discussions}),rt.default.createElement(rc,{tracks:e,rank:t.students}),rt.default.createElement(nc,{tracks:e})),rt.default.createElement("div",{className:"track-metrics"},e.sort().items.map(r=>rt.default.createElement(sc,{key:r.slug,track:r})))),rt.default.createElement(Rd,{tracks:e})));var zt=p(f());var yi=p(f());var Vf=4,ac=class{get percentage(){return 100*this.track.totalReputation/this.totalReputation}get slug(){return this.track.slug}get title(){return this.track.title}constructor(t,r){this.track=t,this.totalReputation=r}},uc=({tracks:e})=>{let t=e.find(n=>n.slug===null);if(!t)throw new Error("Incomplete track data");let r=e.filter(n=>n!==t).sort((n,o)=>n.totalReputation<o.totalReputation?1:-1).slice(0,Vf).map(n=>new ac(n,t.totalReputation));return yi.default.createElement("p",null,"You've contributed most to"," ",yi.default.createElement(Mo,{tracks:r,SpanComponent:Kf}))},Kf=({track:e})=>{if(!e.slug)throw new Error("No summary for track");return yi.default.createElement(Co,{slug:e.slug},e.title," (",e.percentage.toFixed(2),"%)")};var lc=({tracks:e,handle:t,links:r})=>{let n=e.find(o=>o.slug===null);if(!n)throw new Error("No data found for all track");return n.totalReputation===0?zt.default.createElement("section",{className:"empty-section"},zt.default.createElement(y,{icon:"mentoring",hex:!0}),zt.default.createElement("h3",{className:"journey-h3 mb-24"},"You haven't contributed to Exercism yet"),zt.default.createElement("a",{href:"/contributing",className:"btn-l btn-primary"},"See how you can contribute")):zt.default.createElement("section",{className:"contributing-section"},zt.default.createElement("header",{className:"section-header"},zt.default.createElement(y,{icon:"contribute",hex:!0}),zt.default.createElement("h2",{className:"journey-h2"},"Your contributions"),zt.default.createElement(uc,{tracks:e}),zt.default.createElement("hr",{className:"c-divider"})),zt.default.createElement("div",{className:"content"},zt.default.createElement(tu,{tracks:e,handle:t,links:r,showHeader:!1})))};var kn=p(f());var mc=p(nt()),dc=p(f());var zf=["legendary","ultimate","rare","common"],cc=({badges:e})=>{let t=zf.map(r=>{let n=e.filter(r);return n.length>0?`${n.length} ${r} ${(0,mc.default)("badge",n.length)}`:""}).filter(r=>r.length>0);return dc.default.createElement("p",{className:"text-p-large"},"You have ",t.length==0?"no badges":fo(t),".")};var $f=4,pc=({badges:e,links:t})=>{let r=e.sort().items.slice(0,$f);return kn.default.createElement("section",{className:"badges-section"},kn.default.createElement("div",{className:"info"},kn.default.createElement("div",{className:"journey-h3"},"A glimpse of your badges collection"),kn.default.createElement(cc,{badges:e}),kn.default.createElement(zn,{link:t.badges,text:"See your entire badge collection",withBg:!0})),kn.default.createElement("div",{className:"badges"},r.map(n=>kn.default.createElement(ro,{key:n.uuid,badge:n}))))};var fc=class{get completion(){return 100*this.numCompletedExercises/this.numExercises}get velocity(){return null}constructor({title:t,slug:r,numExercises:n,numCompletedExercises:o,numCompletedMentoringDiscussions:s,numInProgressMentoringDiscussions:i,numQueuedMentoringRequests:a,numConceptsLearnt:u,numSolutions:l,numLines:d,iconUrl:c,startedAt:m,progressChart:g}){this.title=t,this.slug=r,this.numExercises=n,this.numCompletedExercises=o,this.numCompletedMentoringDiscussions=s,this.numInProgressMentoringDiscussions=i,this.numQueuedMentoringRequests=a,this.numConceptsLearnt=u,this.numSolutions=l,this.numLines=d,this.iconUrl=c,this.startedAt=m,this.progressChart=g}},ss=class{get numConceptsLearnt(){return this.items.reduce((t,r)=>t+=r.numConceptsLearnt,0)}get completion(){return 100*this.numCompletedExercises/this.numExercises}get numCompletedExercises(){return this.items.reduce((t,r)=>t+=r.numCompletedExercises,0)}get numExercises(){return this.items.reduce((t,r)=>t+=r.numExercises,0)}get numSolutions(){return this.items.reduce((t,r)=>t+=r.numSolutions,0)}get numLines(){return this.items.reduce((t,r)=>t+=r.numLines,0)}get length(){return this.items.length}sort(){return new ss({items:[...this.items].sort((t,r)=>t.completion<r.completion?-1:1).reverse()})}constructor({items:t}){this.items=t.map(r=>new fc(r))}},hc=class{constructor({title:t,slug:r,iconUrl:n,numDiscussions:o,numStudents:s}){this.title=t,this.slug=r,this.iconUrl=n,this.numDiscussions=o,this.numStudents=s}},is=class{constructor({items:t,totals:r,ranks:n}){this.items=t.map(o=>new hc(o)),this.totals=r,this.ranks=n}sort(){return new is({totals:this.totals,ranks:this.ranks,items:[...this.items].sort((t,r)=>t.numDiscussions<r.numDiscussions?-1:1).reverse()})}get length(){return this.items.length}get sessionRatio(){return this.totals.discussions/this.totals.students}};var Zf=new Error("Unable to load journey overview"),Rf=({overview:e})=>({overview:{learning:S(h({},e.learning),{tracks:new ss({items:e.learning.tracks})}),mentoring:S(h({},e.mentoring),{tracks:new is({items:e.mentoring.tracks,totals:e.mentoring.totals,ranks:e.mentoring.ranks})}),contributing:S(h({},e.contributing),{tracks:e.contributing.tracks.map(t=>new Aa(t))}),badges:S(h({},e.badges),{badges:new Ia({items:e.badges.badges})})}}),gc=({request:e,isEnabled:t})=>{let{status:r,resolvedData:n,isFetching:o,error:s}=Z("journey-overview",S(h({},e),{options:S(h({},e.options),{enabled:t})})),i=n?Rf(n):null;return $t.default.createElement("article",{className:"overview-tab theme-dark"},$t.default.createElement(Te,{isFetching:o},$t.default.createElement(V,{status:r,error:s,defaultError:Zf},i?$t.default.createElement($t.default.Fragment,null,$t.default.createElement("div",{className:"md-container"},$t.default.createElement(sa,h({},i.overview.learning)),$t.default.createElement(ic,h({},i.overview.mentoring))),$t.default.createElement("div",{className:"lg-container"},$t.default.createElement(lc,h({},i.overview.contributing))),$t.default.createElement("div",{className:"md-container"},$t.default.createElement(pc,h({},i.overview.badges)))):null)))};var ia=(0,ze.createContext)({current:"",switchToTab:()=>{}}),aa=({defaultCategory:e,categories:t})=>{let r=(0,ze.useRef)(!1),[n,o]=(0,ze.useState)(()=>{let i=t.find(a=>a.id===e);if(!i)throw new Error("Category not found");return i}),s=(0,ze.useCallback)(i=>{let a=t.find(u=>u.id===i);if(!a)throw new Error("Category not found");o(a)},[t]);return(0,ze.useEffect)(()=>{if(!r.current){r.current=!0;return}history.pushState(history.state,"",n.path)},[n]),ze.default.createElement(ia.Provider,{value:{current:n.id,switchToTab:s}},ze.default.createElement("div",{className:"tabs theme-dark"},t.map(i=>ze.default.createElement(ot,{key:i.id,context:ia,id:i.id},ze.default.createElement(y,{icon:i.icon}),i.title))),t.map(i=>ze.default.createElement(ot.Panel,{id:i.id,context:ia,key:i.id},i.id==="overview"?ze.default.createElement(gc,{isEnabled:n.id==="overview",request:i.request}):null,i.id==="solutions"?ze.default.createElement(Ad,{isEnabled:n.id==="solutions",request:i.request}):null,i.id==="reputation"?ze.default.createElement(fd,{isEnabled:n.id==="reputation",request:i.request}):null,i.id==="badges"?ze.default.createElement(_d,{isEnabled:n.id==="badges",request:i.request}):null)))};var $=p(f());var bi=p(f());var wt=({endpoint:e,method:t,body:r,timeout:n=4e3,onSuccess:o=()=>null})=>{let[s,{status:i,error:a,reset:u}]=A(()=>{let{fetch:d}=M({endpoint:e,method:t,body:JSON.stringify(r)});return d},{onSuccess:o}),l=(0,bi.useCallback)(()=>{u(),s()},[s,u]);return(0,bi.useEffect)(()=>{if(i!=="success"&&i!=="error")return;let d=setTimeout(u,n);return()=>clearTimeout(d)},[u,i,n]),{status:i,mutation:l,error:a}};var Po=p(f());var th=({error:e})=>Po.default.createElement("div",{className:"status error"},Po.default.createElement(w,{icon:"failed-cross-circle",alt:"Error"}),e.message),Xt=({status:e,error:t,defaultError:r,SuccessMessage:n})=>Po.default.createElement(_,{FallbackComponent:th,resetKeys:[e]},Po.default.createElement(rh,{status:e,error:t,SuccessMessage:n,defaultError:r})),rh=({status:e,SuccessMessage:t,defaultError:r,error:n})=>{switch(Ve(n,{defaultError:r}),e){case"success":return Po.default.createElement(t,null);default:return null}};var nh=new Error("Unable to save profile"),ua=({defaultUser:e,defaultProfile:t,links:r})=>{let[n,o]=(0,$.useState)(e),[s,i]=(0,$.useState)(t),{mutation:a,status:u,error:l}=wt({endpoint:r.update,method:"PATCH",body:{user:n,profile:s}}),d=(0,$.useCallback)(c=>{c.preventDefault(),a()},[a]);return $.default.createElement("form",{"data-turbo":"false",onSubmit:d},$.default.createElement("h2",null,"Profile"),$.default.createElement("div",{className:"details"},$.default.createElement("div",{className:"name field"},$.default.createElement("label",{htmlFor:"user_name",className:"label"},"Name"),$.default.createElement("input",{id:"user_name",type:"text",value:n.name||"",onChange:c=>o(S(h({},n),{name:c.target.value})),required:!0})),$.default.createElement("div",{className:"location field"},$.default.createElement("label",{htmlFor:"user_location",className:"label"},"Location"),$.default.createElement("label",{className:"c-faux-input"},$.default.createElement(y,{icon:"location"}),$.default.createElement("input",{id:"user_location",type:"text",value:n.location||"",onChange:c=>o(S(h({},n),{location:c.target.value}))})))),$.default.createElement("div",{className:"bio field"},$.default.createElement("label",{htmlFor:"user_bio",className:"label"},"Bio"),$.default.createElement("textarea",{id:"user_bio",value:n.bio||"",onChange:c=>o(S(h({},n),{bio:c.target.value}))}),$.default.createElement("div",{className:"instructions"},"Tell the world about you \u{1F30E}. Emojis encouraged!")),s?$.default.createElement("div",{className:"pt-20 mt-24 border-t-1 border-borderColor6"},$.default.createElement("h2",null,"Your social accounts"),$.default.createElement("div",{className:"field"},$.default.createElement("label",{htmlFor:"profile_github",className:"label"},"Github (Handle)"),$.default.createElement("input",{type:"text",id:"profile_github",placeholder:"Your GitHub handle",value:s.github||"",onChange:c=>i(S(h({},s),{github:c.target.value}))})),$.default.createElement("div",{className:"field"},$.default.createElement("label",{htmlFor:"profile_twitter",className:"label"},"Twitter (Handle)"),$.default.createElement("input",{type:"text",id:"profile_twitter",placeholder:"Your Twitter handle",value:s.twitter||"",onChange:c=>i(S(h({},s),{twitter:c.target.value}))})),$.default.createElement("div",{className:"field"},$.default.createElement("label",{htmlFor:"profile_linkedin",className:"label"},"LinkedIn (Full URL)"),$.default.createElement("input",{type:"text",id:"profile_linkedin",placeholder:"Your LinkedIn profile url",value:s.linkedin||"",onChange:c=>i(S(h({},s),{linkedin:c.target.value}))}))):null,$.default.createElement("div",{className:"form-footer"},$.default.createElement(N,{status:u,className:"btn-primary btn-m"},"Save profile data"),$.default.createElement(Xt,{status:u,defaultError:nh,error:l,SuccessMessage:oh})))},oh=()=>$.default.createElement("div",{className:"status success"},$.default.createElement(w,{icon:"completed-check-circle",alt:"Success"}),"Your profile has been saved");var ge=p(f());var sh=new Error("Unable to update pronouns"),la=({handle:e,defaultPronounParts:t,links:r})=>{let[n,o]=(0,ge.useState)(t||["","",""]),s=(0,ge.useCallback)((d,c)=>{let m=[...n];m[c]=d,o(m)},[n]),{mutation:i,status:a,error:u}=wt({endpoint:r.update,method:"PATCH",body:{user:{pronoun_parts:n}}}),l=(0,ge.useCallback)(d=>{d.preventDefault(),i()},[i]);return ge.default.createElement("form",{"data-turbo":"false",onSubmit:l},ge.default.createElement("h2",null,"How would you like to be addressed? (optional)"),ge.default.createElement("hr",{className:"c-divider --small"}),ge.default.createElement("div",{className:"instructions"},"We recommend listing the pronouns you'd like people to use when referring to you."," ",ge.default.createElement("strong",null,"In the example testimonial below, enter the pronouns you'd like us to show to your mentors and students.")," ","You can leave this blank, in which case we will not suggest any pronouns."," ",ge.default.createElement("a",{href:r.info,target:"_blank",rel:"noreferrer"},"Learn more about how we use pronouns.")),ge.default.createElement("div",{className:"testimonial"},ge.default.createElement("div",{className:"text"},e," was really great.",ge.default.createElement("input",{type:"text",value:n[0]||"",placeholder:"e.g. They",maxLength:100,onChange:d=>s(d.target.value,0)}),"answered all my questions. I'll recommend",ge.default.createElement("input",{type:"text",value:n[1]||"",placeholder:"e.g. them",maxLength:100,onChange:d=>s(d.target.value,1)}),"to others because",ge.default.createElement("input",{type:"text",value:n[2]||"",placeholder:"e.g. their",maxLength:100,onChange:d=>s(d.target.value,2)}),"advice was very helpful."),ge.default.createElement("div",{className:"commonly-used"},ge.default.createElement("div",{className:"info"},"Frequently used:"),ge.default.createElement("button",{type:"button",onClick:()=>o(["She","her","her"])},"she / her / her"),ge.default.createElement("button",{type:"button",onClick:()=>o(["He","him","his"])},"he / him / his"),ge.default.createElement("button",{type:"button",onClick:()=>o(["They","them","their"])},"they / them / their"),ge.default.createElement("button",{type:"button",onClick:()=>o([e,e,e])},"Use handle"),ge.default.createElement("button",{type:"button",onClick:()=>o(["","",""])},"Leave blank"))),ge.default.createElement("div",{className:"form-footer"},ge.default.createElement(N,{status:a,className:"btn-primary btn-m"},"Save pronouns"),ge.default.createElement(Xt,{status:a,error:u,defaultError:sh,SuccessMessage:ih})))},ih=()=>ge.default.createElement("div",{className:"status success"},ge.default.createElement(w,{icon:"completed-check-circle",alt:"Success"}),"Your pronouns have been updated");var Xe=p(f());var ah=new Error("Unable to change handle"),ma=({defaultHandle:e,links:t})=>{let[r,n]=(0,Xe.useState)({handle:e,password:""}),{mutation:o,status:s,error:i}=wt({endpoint:t.update,method:"PATCH",body:{user:{handle:r.handle,sudo_password:r.password}}}),a=(0,Xe.useCallback)(u=>{u.preventDefault(),o()},[o]);return Xe.default.createElement("form",{"data-turbo":"false",onSubmit:a},Xe.default.createElement("h2",null,"Change your handle"),Xe.default.createElement("hr",{className:"c-divider --small"}),Xe.default.createElement("div",{className:"field"},Xe.default.createElement("label",{htmlFor:"user_handle",className:"label"},"Your handle"),Xe.default.createElement("label",{className:"c-faux-input"},Xe.default.createElement(y,{icon:"at-symbol"}),Xe.default.createElement("input",{type:"text",id:"user_handle",value:r.handle,onChange:u=>n(S(h({},r),{handle:u.target.value})),required:!0}))),Xe.default.createElement("div",{className:"field"},Xe.default.createElement("label",{htmlFor:"user_sudo_password",className:"label"},"Confirm your password"),Xe.default.createElement("input",{type:"password",id:"user_sudo_password",value:r.password,onChange:u=>n(S(h({},r),{password:u.target.value})),required:!0}),Xe.default.createElement("p",{className:"info"},"We recommend only changing your handle in rare circumstances as public solution links will break, and it is confusing for mentors.")),Xe.default.createElement("div",{className:"form-footer"},Xe.default.createElement(N,{status:s,className:"btn-primary btn-m"},"Change handle"),Xe.default.createElement(Xt,{status:s,defaultError:ah,error:i,SuccessMessage:uh})))},uh=()=>Xe.default.createElement("div",{className:"status success"},Xe.default.createElement(w,{icon:"completed-check-circle",alt:"Success"}),"Your handle has been changed");var We=p(f());var lh=new Error("Unable to change email"),da=({defaultEmail:e,links:t})=>{let[r,n]=(0,We.useState)({email:e,password:""}),{mutation:o,status:s,error:i}=wt({endpoint:t.update,method:"PATCH",body:{user:{email:r.email,sudo_password:r.password}}}),a=(0,We.useCallback)(u=>{u.preventDefault(),o()},[o]);return We.default.createElement("form",{"data-turbo":"false",onSubmit:a},We.default.createElement("h2",null,"Change your email"),We.default.createElement("hr",{className:"c-divider --small"}),We.default.createElement("div",{className:"field"},We.default.createElement("label",{htmlFor:"user_email",className:"label"},"Your email address"),We.default.createElement("input",{type:"email",id:"user_email",value:r.email,onChange:u=>n(S(h({},r),{email:u.target.value})),required:!0})),We.default.createElement("div",{className:"field"},We.default.createElement("label",{htmlFor:"user_sudo_password",className:"label"},"Confirm your password"),We.default.createElement("input",{type:"password",id:"user_sudo_password",value:r.password,onChange:u=>n(S(h({},r),{password:u.target.value})),required:!0}),We.default.createElement("p",{className:"info"},"You can change your email using the form above. We will send you a new confirmation email for you to accept.")),We.default.createElement("div",{className:"form-footer"},We.default.createElement(N,{status:s,className:"btn-primary btn-m"},"Change email"),We.default.createElement(Xt,{status:s,defaultError:lh,error:i,SuccessMessage:()=>We.default.createElement(mh,{email:r.email})})))},mh=({email:e})=>We.default.createElement("div",{className:"status success"},We.default.createElement(w,{icon:"completed-check-circle",alt:"Success"}),"We've sent a confirmation email to ",e);var He=p(f());var dh=new Error("Unable to change password"),ca=({links:e})=>{let[t,r]=(0,He.useState)({sudoPassword:"",password:"",passwordConfirmation:""}),{mutation:n,status:o,error:s}=wt({endpoint:e.update,method:"PATCH",body:{user:{sudo_password:t.sudoPassword,password:t.password,password_confirmation:t.passwordConfirmation}},onSuccess:()=>window.location.reload()}),i=(0,He.useCallback)(a=>{a.preventDefault(),n()},[n]);return He.default.createElement("form",{"data-turbo":"false",onSubmit:i},He.default.createElement("h2",null,"Change your password"),He.default.createElement("hr",{className:"c-divider --small"}),He.default.createElement("div",{className:"field"},He.default.createElement("label",{htmlFor:"user_sudo_password",className:"label"},"Current password"),He.default.createElement("input",{type:"password",id:"user_sudo_password",value:t.sudoPassword,onChange:a=>r(S(h({},t),{sudoPassword:a.target.value})),required:!0})),He.default.createElement("div",{className:"field"},He.default.createElement("label",{htmlFor:"user_password",className:"label"},"New password"),He.default.createElement("input",{type:"password",id:"user_password",value:t.password,onChange:a=>r(S(h({},t),{password:a.target.value})),required:!0})),He.default.createElement("div",{className:"field"},He.default.createElement("label",{htmlFor:"user_password_confirmation",className:"label"},"Confirm new password"),He.default.createElement("input",{type:"password",id:"user_password_confirmation",value:t.passwordConfirmation,onChange:a=>r(S(h({},t),{passwordConfirmation:a.target.value})),required:!0}),He.default.createElement("p",{className:"info"},He.default.createElement("strong",null,"Warning: Changing your password will sign you out.")," ","You can then sign back in with your new password.")),He.default.createElement("div",{className:"form-footer"},He.default.createElement(N,{status:o,className:"btn-primary btn-m"},"Change password"),He.default.createElement(Xt,{status:o,defaultError:dh,error:s,SuccessMessage:()=>null})))};var Lt=p(f());var ch=new Error("Unable to reset token"),pa=({defaultToken:e,links:t})=>{let[r,n]=(0,Lt.useState)(e),{mutation:o,status:s,error:i}=wt({endpoint:t.reset,method:"PATCH",body:{token:r},onSuccess:u=>{n(u.authToken)}}),a=(0,Lt.useCallback)(u=>{u.preventDefault(),o()},[o]);return Lt.default.createElement("form",{"data-turbo":"false",onSubmit:a},Lt.default.createElement("h2",null,"API / CLI Token"),Lt.default.createElement("div",{className:"label"},"Your authentication token is:"),Lt.default.createElement(sn,{textToCopy:r}),Lt.default.createElement(zn,{link:t.info,text:"Where do I use this?"}),Lt.default.createElement("div",{className:"form-footer"},Lt.default.createElement(N,{status:s,className:"btn-warning btn-m"},"Reset token"),Lt.default.createElement(Xt,{status:s,defaultError:ch,error:i,SuccessMessage:ph})))},ph=()=>Lt.default.createElement("div",{className:"status success"},Lt.default.createElement(w,{icon:"completed-check-circle",alt:"Success"}),"Your token has been reset");var lt=p(f());var fh=new Error("Unable to change preferences"),fa=({defaultPreferences:e,links:t})=>{let[r,n]=(0,lt.useState)(e),{mutation:o,status:s,error:i}=wt({endpoint:t.update,method:"PATCH",body:{communication_preferences:r.reduce((l,d)=>(l[d.key]=d.value,l),{})}}),a=(0,lt.useCallback)(l=>{l.preventDefault(),o()},[o]),u=(0,lt.useCallback)(l=>d=>{n(r.map(c=>c.key===l.key?S(h({},l),{value:d.target.checked}):c))},[r]);return lt.default.createElement("form",{"data-turbo":"false",onSubmit:a},lt.default.createElement("h2",null,"Mentoring"),r.map(l=>lt.default.createElement("label",{className:"c-checkbox-wrapper",key:l.key},lt.default.createElement("input",{type:"checkbox",id:"communication_preferences_email_on_mentor_started_discussion_notification",checked:l.value,onChange:u(l)}),lt.default.createElement("div",{className:"row"},lt.default.createElement("div",{className:"c-checkbox"},lt.default.createElement(y,{icon:"checkmark"})),l.label))),lt.default.createElement("div",{className:"form-footer"},lt.default.createElement(N,{status:s,className:"btn-primary btn-m"},"Change preferences"),lt.default.createElement(Xt,{status:s,defaultError:fh,error:i,SuccessMessage:hh})))},hh=()=>lt.default.createElement("div",{className:"status success"},lt.default.createElement(w,{icon:"completed-check-circle",alt:"Success"}),"Your preferences have been updated");var Gn=p(f());var ve=p(f());var vc=p(f()),En=e=>{let[t,r]=(0,vc.useState)("");return{attempt:t,setAttempt:r,isAttemptPass:t===e}};var gh=new Error("Unable to delete account"),yc=n=>{var o=n,{handle:e,endpoint:t}=o,r=O(o,["handle","endpoint"]);let[s,{status:i,error:a}]=A(()=>{let{fetch:m}=M({endpoint:t,method:"DELETE",body:JSON.stringify({handle:e})});return m},{onSuccess:m=>{Le(m.links.home)}}),u=(0,ve.useCallback)(m=>{m.preventDefault(),s()},[s]),{attempt:l,setAttempt:d,isAttemptPass:c}=En(e);return ve.default.createElement(G,S(h({},r),{className:"m-delete-account m-generic-destructive"}),ve.default.createElement("form",{"data-turbo":"false",onSubmit:u},ve.default.createElement("div",{className:"info"},ve.default.createElement("h2",null,"You're about to delete your Exercism account"),ve.default.createElement("p",null,ve.default.createElement("strong",null,"Please read this carefully before continuing.")),ve.default.createElement("p",null,"This is ",ve.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on your account."),ve.default.createElement("hr",null),ve.default.createElement("p",null,ve.default.createElement("strong",null,"By deleting your account, you will lose access to:")),ve.default.createElement("ul",null,ve.default.createElement("li",null,"All solutions you have submitted"),ve.default.createElement("li",null,"All mentoring you have received"),ve.default.createElement("li",null,"All mentoring you have given and any testimonials received."),ve.default.createElement("li",null,"All your personal data, which will be deleted"))),ve.default.createElement("hr",null),ve.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write your handle ",ve.default.createElement("pre",null,e)," in the box below:"),ve.default.createElement("input",{id:"confirmation",type:"text",value:l,onChange:m=>d(m.target.value),autoComplete:"off"}),ve.default.createElement("hr",null),ve.default.createElement("div",{className:"btns"},ve.default.createElement(N,{status:i,className:"btn-default btn-m",type:"button",onClick:r.onClose},"Cancel"),ve.default.createElement(N,{type:"submit",disabled:!c,status:i,className:"btn-primary btn-m"},"Delete account")),ve.default.createElement(_,{resetKeys:[i]},ve.default.createElement(se,{error:a,defaultError:gh}))))};var ha=({handle:e,links:t,ariaHideApp:r=!0})=>{let[n,o]=(0,Gn.useState)(!1);return Gn.default.createElement(Gn.default.Fragment,null,Gn.default.createElement("button",{type:"button",className:"c-delete-account-button btn-alert btn-m",onClick:()=>o(!n)},"Delete account"),Gn.default.createElement(yc,{open:n,onClose:()=>o(!1),handle:e,endpoint:t.delete,ariaHideApp:r}))};var jn=p(f());var ye=p(f());var vh=new Error("Unable to reset account"),bc=n=>{var o=n,{handle:e,endpoint:t}=o,r=O(o,["handle","endpoint"]);let[s,{status:i,error:a}]=A(()=>{let{fetch:m}=M({endpoint:t,method:"PATCH",body:JSON.stringify({handle:e})});return m},{onSuccess:m=>{Le(m.links.home)}}),u=(0,ye.useCallback)(m=>{m.preventDefault(),s()},[s]),{attempt:l,setAttempt:d,isAttemptPass:c}=En(e);return ye.default.createElement(G,S(h({},r),{className:"m-reset-account m-generic-destructive"}),ye.default.createElement("form",{"data-turbo":"false",onSubmit:u},ye.default.createElement("div",{className:"info"},ye.default.createElement("h2",null,"You're about to reset your Exercism account"),ye.default.createElement("p",null,ye.default.createElement("strong",null,"Please read this carefully before commiting to reset your account.")),ye.default.createElement("p",null,"This is ",ye.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on your account."),ye.default.createElement("hr",null),ye.default.createElement("p",null,ye.default.createElement("strong",null,"By resetting your account, you will lose:")),ye.default.createElement("ul",null,ye.default.createElement("li",null,"All solutions you have submitted"),ye.default.createElement("li",null,"All mentoring you have received"),ye.default.createElement("li",null,"All mentoring you have given and any testimonials received."),ye.default.createElement("li",null,"Any reputation you have earned through mentoring or publishing solutions."))),ye.default.createElement("hr",null),ye.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write your handle ",ye.default.createElement("pre",null,e)," in the box below:"),ye.default.createElement("input",{id:"confirmation",type:"text",value:l,onChange:m=>d(m.target.value),autoComplete:"off"}),ye.default.createElement("hr",null),ye.default.createElement("div",{className:"btns"},ye.default.createElement(N,{status:i,className:"btn-default btn-m",type:"button",onClick:r.onClose},"Cancel"),ye.default.createElement(N,{type:"submit",disabled:!c,status:i,className:"btn-primary btn-m"},"Reset account")),ye.default.createElement(_,{resetKeys:[i]},ye.default.createElement(se,{error:a,defaultError:vh}))))};var ga=({handle:e,links:t,ariaHideApp:r=!0})=>{let[n,o]=(0,jn.useState)(!1);return jn.default.createElement(jn.default.Fragment,null,jn.default.createElement("button",{type:"button",className:"c-reset-account-button btn-alert btn-m",onClick:()=>o(!n)},"Reset account"),jn.default.createElement(bc,{open:n,onClose:()=>o(!1),handle:e,endpoint:t.reset,ariaHideApp:r}))};var dr=p(f());var mr=p(f());var yh=new Error("Unable to delete profile"),Sc=n=>{var o=n,{endpoint:e,onClose:t}=o,r=O(o,["endpoint","onClose"]);let[s,{status:i,error:a}]=A(()=>{let{fetch:d}=M({endpoint:e,method:"DELETE",body:null});return d},{onSuccess:()=>Le("")}),u=(0,mr.useCallback)(d=>{d.preventDefault(),s()},[s]),l=(0,mr.useCallback)(()=>{i!=="loading"&&t()},[t,i]);return mr.default.createElement(G,h({className:"m-generic-confirmation",onClose:l},r),mr.default.createElement("h3",null,"Delete profile?"),mr.default.createElement("p",null,"Are you sure you want to delete your profile?"),mr.default.createElement("form",{"data-turbo":"false",onSubmit:u,className:"buttons"},mr.default.createElement(N,{type:"submit",status:i,className:"btn-primary btn-s"},"Continue"),mr.default.createElement(N,{type:"button",status:i,onClick:l,className:"btn-enhanced btn-s"},"Cancel")),mr.default.createElement(_,{resetKeys:[i]},mr.default.createElement(se,{error:a,defaultError:yh})))};var va=({links:e})=>{let[t,r]=(0,dr.useState)(!1),n=(0,dr.useCallback)(()=>{r(!0)},[]),o=(0,dr.useCallback)(()=>{r(!1)},[]);return dr.default.createElement(dr.default.Fragment,null,dr.default.createElement("h2",null,"Delete your public profile"),dr.default.createElement("p",{className:"mb-16 text-p-base"},"This will delete your public profile from the website. You can recreate your profile at any time, and the only data that will be deleted is links to your social profiles."),dr.default.createElement("button",{type:"button",className:"btn-warning btn-m",onClick:n},"Delete your profile"),dr.default.createElement(Sc,{open:t,onClose:o,endpoint:e.delete}))};var as=p(f());var ya=({defaultUser:e,links:t})=>as.default.createElement("div",{className:"c-settings-photo-form"},as.default.createElement("h2",null,"Change your photo"),as.default.createElement("hr",{className:"c-divider --small"}),as.default.createElement(ru,{defaultUser:e,links:t}));var Cr=p(f());var TL=new Error("Unable to change setting"),ba=({defaultValue:e,links:t})=>{let[r,n]=(0,Cr.useState)(e),{mutation:o,status:s,error:i}=wt({endpoint:t.update,method:"PATCH",body:{user:{show_on_supporters_page:r}}}),a=(0,Cr.useCallback)(u=>{n(u.target.checked),o()},[o]);return Cr.default.createElement("label",{className:"c-checkbox-wrapper ml-auto"},Cr.default.createElement("input",{type:"checkbox",id:"communication_preferences_email_on_mentor_started_discussion_notification",checked:r,onChange:a}),Cr.default.createElement("div",{className:"row"},Cr.default.createElement("div",{className:"c-checkbox"},Cr.default.createElement(y,{icon:"checkmark"})),Cr.default.createElement("span",{className:"text-16 font-medium text-textColor2"},"Appear on supporters page?")))};var Oe=p(f());var xn=p(f());var kc=(0,xn.forwardRef)((e,t)=>{let s=e,{count:r}=s,n=O(s,["count"]),o=(0,xn.useMemo)(()=>{switch(!0){case r===0:return"--none";case(r>=1&&r<=9):return"--single-digit";case(r>=10&&r<=99):return"--double-digit";case r>=100:return"--triple-digit"}},[r]);return xn.default.createElement("button",h({ref:t,className:`c-notification ${o}`},n),xn.default.createElement(w,{icon:"notifications",alt:`You have ${r} notifications`}),xn.default.createElement("div",{className:"--count"},r))});var cr=p(f());var Sh=({imageType:e,imageUrl:t})=>{switch(e){case"avatar":return cr.default.createElement("div",{className:"c-avatar",style:{backgroundImage:`url(${t})`}});default:return cr.default.createElement("img",{alt:"",role:"presentation",src:t,className:"icon"})}},kh=({isRead:e})=>cr.default.createElement("div",{className:e?"read":"unread"}),Eh=({text:e,createdAt:t})=>cr.default.createElement("div",{className:"content"},cr.default.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:e}}),cr.default.createElement("div",{className:"created-at"},Be(t))),Si=({url:e,imageType:t,imageUrl:r,text:n,createdAt:o,isRead:s})=>cr.default.createElement("a",{href:e,className:`notification ${s?"--read":"--unread"}`},cr.default.createElement(Sh,{imageType:t,imageUrl:r}),cr.default.createElement(Eh,{text:n,createdAt:o}),cr.default.createElement(kh,{isRead:s}),cr.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));var Ec=e=>{let t=e?e.results.length+1:0;return Mr(t,void 0,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,8]}}]})};var xh=new Error("Unable to load notifications"),Nh=({error:e})=>(Ve(e,{defaultError:xh}),null),Th=({error:e})=>Oe.default.createElement("p",null,e.message),wh=({data:e,status:t,error:r,listAttributes:n,itemAttributes:o})=>{if(e)return Oe.default.createElement("ul",h({},n),e.results.map((s,i)=>Oe.default.createElement("li",S(h({},o(i)),{key:i}),Oe.default.createElement(Si,h({},s)))),Oe.default.createElement("li",h({},o(e.results.length)),Oe.default.createElement("a",{href:e.meta.links.all,className:"c-prominent-link"},Oe.default.createElement("span",null,"See all your notifications"),Oe.default.createElement(y,{icon:"arrow-right"}))));{let{id:s,hidden:i}=n;return Oe.default.createElement("div",{id:s,hidden:i},t==="loading"?Oe.default.createElement(Ae,null):null,Oe.default.createElement(_,{FallbackComponent:Th},Oe.default.createElement(Nh,{error:r})))}},Ch=5,Mh="notifications",xc=({endpoint:e})=>{var m;let[t,r]=(0,Oe.useState)(!1),{resolvedData:n,error:o,status:s,refetch:i}=Z(Mh,{endpoint:e,query:{per_page:Ch},options:{}}),{buttonAttributes:a,panelAttributes:u,listAttributes:l,itemAttributes:d,open:c}=Ec(n);return(0,Oe.useEffect)(()=>{let g=Pr.subscriptions.create({channel:"NotificationsChannel"},{received:()=>{r(!0)}});return()=>g.unsubscribe()},[]),(0,Oe.useEffect)(()=>{!l.hidden||!t||(i(),r(!1))},[t,l.hidden,i]),Oe.default.createElement(Oe.default.Fragment,null,Oe.default.createElement(kc,h({count:((m=n==null?void 0:n.meta)==null?void 0:m.unreadCount)||0,"aria-label":"Open notifications"},a)),c?Oe.default.createElement("div",h({className:"c-notifications-dropdown"},u),Oe.default.createElement(wh,{data:n,status:s,error:o,itemAttributes:d,listAttributes:l})):null)};var Ye=p(f());var Qn=p(f());var Nc=(0,Qn.forwardRef)((e,t)=>{let s=e,{reputation:r,isSeen:n}=s,o=O(s,["reputation","isSeen"]);return Qn.default.createElement("button",h({ref:t,className:"c-primary-reputation","aria-label":`${r} reputation`},o),Qn.default.createElement(w,{icon:"reputation",alt:"Reputation"}),Qn.default.createElement("span",null,r),Qn.default.createElement("div",{className:"--notification "+(n?"":"unseen")}))});var Wn=p(f());var Gr=p(f());var Tc=({internalUrl:e,externalUrl:t,iconUrl:r,text:n,createdAt:o,value:s,isSeen:i})=>{let a=e||t,u=e?Gr.default.createElement(y,{icon:"chevron-right",className:"action-icon"}):Gr.default.createElement(y,{icon:"external-link",className:"action-icon"});return Gr.default.createElement("a",{href:a,className:"token"},Gr.default.createElement("img",{alt:"",role:"presentation",src:r,className:"reason-icon",onError:ls}),Gr.default.createElement("div",{className:"content"},Gr.default.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:n}}),Gr.default.createElement("div",{className:"earned-on"},Be(o))),Gr.default.createElement(an,{value:`+${s}`}),Gr.default.createElement("div",{className:"indicator "+(i?"seen":"unseen")}),u)};var wc=({tokens:e,listAttributes:t,cacheKey:r,itemAttributes:n,links:o})=>{let s=_e(),[i]=A(a=>{if(a.isSeen)return Promise.resolve(a);let{fetch:u}=M({endpoint:a.links.markAsSeen,method:"PATCH",body:null});return u.then(l=>ee(l,"reputation"))},{onSuccess:a=>{let u=s.getQueryData(r);!u||s.setQueryData(r,S(h({},u),{results:u.results.map(l=>l.uuid===a.uuid?a:l)}))}});return Wn.default.createElement("ul",h({},t),e.map((a,u)=>Wn.default.createElement("li",S(h({key:a.uuid},n(u)),{onMouseEnter:()=>{i(a)},onFocus:()=>{i(a)}}),Wn.default.createElement(Tc,h({},a)))),Wn.default.createElement("li",h({},n(e.length)),Wn.default.createElement("a",{href:o.tokens,className:"c-prominent-link"},"See how you earned all your reputation",Wn.default.createElement(y,{icon:"arrow-right"}))))};var Sa=class{constructor(t){this.subscription=Pr.subscriptions.create({channel:"ReputationChannel"},{received:t})}disconnect(){this.subscription.unsubscribe()}};var Ph=new Error("Unable to retrieve reputation tokens"),Ah=({error:e})=>(Ve(e,{defaultError:Ph}),null),Ih=({error:e})=>Ye.default.createElement("p",null,e.message),Fh=({data:e,cacheKey:t,status:r,error:n,listAttributes:o,itemAttributes:s})=>{if(e)return Ye.default.createElement(wc,{tokens:e.results,links:e.meta.links,listAttributes:o,itemAttributes:s,cacheKey:t});{let{id:i,hidden:a}=o;return Ye.default.createElement("div",{id:i,hidden:a},r==="loading"?Ye.default.createElement(Ae,null):null,Ye.default.createElement(_,{FallbackComponent:Ih},Ye.default.createElement(Ah,{error:n})))}},Lh=5,Cc=({defaultReputation:e,defaultIsSeen:t,endpoint:r})=>{let[n,o]=(0,Ye.useState)(!1),[s,i]=(0,Ye.useState)(e),[a,u]=(0,Ye.useState)(t),l="reputations",{resolvedData:d,error:c,status:m,refetch:g}=Z(l,{endpoint:r,query:{per_page:Lh},options:{}}),{buttonAttributes:v,panelAttributes:b,listAttributes:k,itemAttributes:I,open:E}=Mr(((d==null?void 0:d.results.length)||0)+1,void 0,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}]});return(0,Ye.useEffect)(()=>{let T=new Sa(()=>o(!0));return()=>T.disconnect()},[]),(0,Ye.useEffect)(()=>{!d||i(d.meta.totalReputation)},[d]),(0,Ye.useEffect)(()=>{!d||u(d.meta.unseenTotal===0)},[d]),(0,Ye.useEffect)(()=>{!k.hidden||!n||(g(),o(!1))},[n,k.hidden,g]),Ye.default.createElement(Ye.default.Fragment,null,Ye.default.createElement(Nc,h({reputation:s,isSeen:a},v)),E?Ye.default.createElement("div",h({className:"c-reputation-dropdown"},b),Ye.default.createElement(Fh,{data:d,cacheKey:l,status:m,error:c,itemAttributes:I,listAttributes:k})):null)};var me=p(f());var nn=p(f());var Dh=new Error("Unable to switch to practice mode"),Mc=n=>{var o=n,{endpoint:e,onClose:t}=o,r=O(o,["endpoint","onClose"]);let[s,{status:i,error:a}]=A(()=>{let{fetch:u}=M({endpoint:e,method:"PATCH",body:null});return u.then(l=>{if(!!l)return ee(l,"userTrack")})},{onSuccess:u=>{!u||Le(u.links.self)}});return nn.default.createElement(G,h({className:"m-activate-practice-mode",onClose:t},r),nn.default.createElement(y,{icon:"practice-mode",category:"graphics"}),nn.default.createElement("h2",null,"Disable Learning Mode"),nn.default.createElement("p",null,"Disabling Learning Mode will unlock all the Practice Exercises on this track, but will disable Concepts and Learning Exercises."),nn.default.createElement("div",{className:"warning"},"You can switch in and out of Practice Mode at any time."),nn.default.createElement(N,{onClick:()=>s(),status:i,className:"btn-primary btn-m"},"Disable Learning Mode"),nn.default.createElement(_,null,nn.default.createElement(se,{error:a,defaultError:Dh})))};var on=p(f());var Oh=new Error("Unable to switch to learning mode"),Pc=n=>{var o=n,{endpoint:e,onClose:t}=o,r=O(o,["endpoint","onClose"]);let[s,{status:i,error:a}]=A(()=>{let{fetch:u}=M({endpoint:e,method:"PATCH",body:null});return u.then(l=>{if(!!l)return ee(l,"userTrack")})},{onSuccess:u=>{!u||Le(u.links.self)}});return on.default.createElement(G,h({className:"m-activate-learning-mode",onClose:t},r),on.default.createElement(y,{icon:"learning-mode",category:"graphics"}),on.default.createElement("h2",null,"Activate Learning Mode"),on.default.createElement("p",null,"Activating Learning Mode will enable Concepts and Learning Exercises on this track, but will lock Exercises that you've not yet complete prerequisites for. You will still have access to any exercises you have started."),on.default.createElement("div",{className:"warning"},"You can switch in and out of Learning Mode at any time."),on.default.createElement(N,{onClick:()=>s(),status:i,className:"btn-primary btn-m"},"Activate Learning Mode"),on.default.createElement(_,null,on.default.createElement(se,{error:a,defaultError:Oh})))};var Ee=p(f());var qh=new Error("Unable to reset track"),Ac=o=>{var s=o,{endpoint:e,track:t,onClose:r}=s,n=O(s,["endpoint","track","onClose"]);let i=`reset ${t.slug}`,[a,{status:u,error:l}]=A(()=>{let{fetch:v}=M({endpoint:e,method:"PATCH",body:null});return v.then(b=>{if(!!b)return ee(b,"userTrack")})},{onSuccess:v=>{!v||Le(v.links.self)}}),{attempt:d,setAttempt:c,isAttemptPass:m}=En(i),g=(0,Ee.useCallback)(v=>{v.preventDefault(),a()},[a]);return Ee.default.createElement(G,h({className:"m-reset-track m-generic-destructive",onClose:r},n),Ee.default.createElement("form",{onSubmit:g},Ee.default.createElement("div",{className:"info"},Ee.default.createElement("h2",null,"You\u2019re about to reset all your ",t.title," progress."),Ee.default.createElement("p",null,Ee.default.createElement("strong",null,"Please read this carefully before continuing.")),Ee.default.createElement("p",null,"This is ",Ee.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on this track."),Ee.default.createElement("hr",null),Ee.default.createElement("p",null,Ee.default.createElement("strong",null,"By resetting this track, you will lose access to:")),Ee.default.createElement("ul",null,Ee.default.createElement("li",null,"All solutions you have submitted in ",t.title),Ee.default.createElement("li",null,"All mentoring you have received in ",t.title),Ee.default.createElement("li",null,"Lose any reputation you have earned for publishing solutions in"," ",t.title))),Ee.default.createElement("hr",null),Ee.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write ",Ee.default.createElement("pre",null,i)," in the box below:"),Ee.default.createElement("input",{id:"confirmation",type:"text",autoComplete:"off",value:d,onChange:v=>c(v.target.value)}),Ee.default.createElement("hr",null),Ee.default.createElement("div",{className:"btns"},Ee.default.createElement(N,{onClick:()=>r(),status:u,type:"button",className:"btn-default btn-m"},"Cancel"),Ee.default.createElement(N,{status:u,disabled:!m,className:"btn-primary btn-m"},"Reset track")),Ee.default.createElement(_,null,Ee.default.createElement(se,{error:l,defaultError:qh}))))};var gt=p(f());var qe=p(f());var _h=new Error("Unable to leave track"),Ic=({endpoint:e,track:t,onCancel:r})=>{let[n,{status:o,error:s}]=A(async()=>{let{fetch:u}=M({endpoint:e,method:"PATCH",body:null});return u.then(l=>{if(!!l)return ee(l,"userTrack")})},{onSuccess:u=>{!u||Le(u.links.self)}}),i=(0,qe.useCallback)(()=>{r()},[r]),a=(0,qe.useCallback)(u=>{u.preventDefault(),n()},[n]);return qe.default.createElement("form",{onSubmit:a},qe.default.createElement("div",{className:"info"},qe.default.createElement("p",null,qe.default.createElement("strong",null,"When you leave the track, you still keep:")),qe.default.createElement("ul",null,qe.default.createElement("li",null,"All solutions you have submitted in ",t.title),qe.default.createElement("li",null,"All mentoring you have received in ",t.title)),qe.default.createElement("p",null,qe.default.createElement("strong",null,"However, we will:")),qe.default.createElement("ul",null,qe.default.createElement("li",null,"End all mentoring discussions in ",t.title),qe.default.createElement("li",null,"Remove ",t.title," from your active tracks list")),qe.default.createElement("div",{className:"info-box"},qe.default.createElement(w,{icon:"info-circle",alt:"Info"}),"You\u2019re free to join back at anytime and return to where you left off.")),qe.default.createElement("div",{className:"btns"},qe.default.createElement(N,{onClick:i,status:o,className:"btn-default btn-m"},"Cancel"),qe.default.createElement(N,{status:o,className:"btn-primary btn-m"},"Leave track")),qe.default.createElement(_,null,qe.default.createElement(se,{error:s,defaultError:_h})))};var Pe=p(f());var Bh=new Error("Unable to leave and reset track"),Fc=({endpoint:e,track:t,onCancel:r})=>{let n=`reset ${t.slug}`,[o,{status:s,error:i}]=A(async()=>{let{fetch:m}=M({endpoint:e,method:"PATCH",body:JSON.stringify({reset:!0})});return m.then(g=>{if(!!g)return ee(g,"userTrack")})},{onSuccess:m=>{!m||Le(m.links.self)}}),a=(0,Pe.useCallback)(()=>{r()},[r]),{attempt:u,setAttempt:l,isAttemptPass:d}=En(n),c=(0,Pe.useCallback)(m=>{m.preventDefault(),o()},[o]);return Pe.default.createElement("form",{onSubmit:c},Pe.default.createElement("div",{className:"info"},Pe.default.createElement("p",null,Pe.default.createElement("strong",null,"By leaving and resetting this track, you will:")),Pe.default.createElement("ul",null,Pe.default.createElement("li",null,"Lose access to all solutions you have submitted in ",t.title),Pe.default.createElement("li",null,"Lose access to all mentoring you have received in ",t.title),Pe.default.createElement("li",null,"Lose any reputation you have earned for publishing solutions in"," ",t.title),Pe.default.createElement("li",null,"Remove ",t.title," from your active tracks list")),Pe.default.createElement("p",null,"This is ",Pe.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on this track.")),Pe.default.createElement("hr",null),Pe.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write ",Pe.default.createElement("pre",null,n)," in the box below:"),Pe.default.createElement("input",{id:"confirmation",type:"text",autoComplete:"off",value:u,onChange:m=>l(m.target.value)}),Pe.default.createElement("hr",null),Pe.default.createElement("div",{className:"btns"},Pe.default.createElement(N,{onClick:a,status:s,className:"btn-default btn-m"},"Cancel"),Pe.default.createElement(N,{status:s,disabled:!d,className:"btn-primary btn-m"},"Leave + Reset")),Pe.default.createElement(_,null,Pe.default.createElement(se,{error:i,defaultError:Bh})))};var us=(0,gt.createContext)({current:"leave",switchToTab:()=>{}}),Lc=o=>{var s=o,{endpoint:e,onClose:t,track:r}=s,n=O(s,["endpoint","onClose","track"]);let[i,a]=(0,gt.useState)("leave");return gt.default.createElement(G,h({className:"m-leave-track m-generic-destructive",onClose:t},n),gt.default.createElement("div",{className:"info"},gt.default.createElement("h2",null,"You\u2019re about to leave the ",r.title," track."),gt.default.createElement("p",{className:"large"},"No longer interested in learning ",r.title,"? No problem!")),gt.default.createElement(us.Provider,{value:{current:i,switchToTab:u=>a(u)}},gt.default.createElement("div",{className:"tabs"},gt.default.createElement(ot,{context:us,id:"leave"},"Leave"),gt.default.createElement(ot,{context:us,id:"reset"},"Leave + Reset")),gt.default.createElement(ot.Panel,{context:us,id:"leave"},gt.default.createElement(Ic,{endpoint:e,track:r,onCancel:t})),gt.default.createElement(ot.Panel,{context:us,id:"reset"},gt.default.createElement(Fc,{endpoint:e,track:r,onCancel:t}))))};var Dc=({track:e,links:t,ariaHideApp:r=!1})=>{let[n,o]=(0,me.useState)(null),{buttonAttributes:s,panelAttributes:i,listAttributes:a,itemAttributes:u,open:l}=Mr(5,void 0,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}]});return me.default.createElement("div",{className:"c-track-menu"},me.default.createElement("button",h({},s),me.default.createElement(w,{icon:"more-horizontal",alt:"Track options"})),l?me.default.createElement("div",S(h({},i),{className:"c-dropdown-generic-menu"}),me.default.createElement("ul",h({},a),me.default.createElement("li",h({},u(0)),me.default.createElement("a",{href:t.repo,target:"_blank",rel:"noreferrer"},me.default.createElement(y,{icon:"external-site-github"}),"See ",e.title," track on Github",me.default.createElement(y,{icon:"external-link",className:"external-link"}))),me.default.createElement("li",h({},u(1)),me.default.createElement("a",{href:t.documentation,target:"_blank",rel:"noreferrer"},me.default.createElement(y,{icon:"docs"}),e.title," documentation")),t.activatePracticeMode?me.default.createElement("li",h({},u(2)),me.default.createElement("button",{type:"button",onClick:()=>o("practice")},me.default.createElement(y,{icon:"practice-mode"}),"Disable Learning Mode\u2026")):t.activateLearningMode?me.default.createElement("li",h({},u(2)),me.default.createElement("button",{type:"button",onClick:()=>o("learning")},me.default.createElement(y,{icon:"concepts"}),"Enable Learning Mode\u2026")):null,t.reset?me.default.createElement("li",h({},u(3)),me.default.createElement("button",{type:"button",onClick:()=>o("reset")},me.default.createElement(y,{icon:"reset"}),"Reset track\u2026")):null,t.leave?me.default.createElement("li",h({},u(4)),me.default.createElement("button",{type:"button",onClick:()=>o("leave")},me.default.createElement("div",{className:"emoji"},"\u{1F44B}"),"Leave track\u2026")):null)):null,t.activatePracticeMode?me.default.createElement(Mc,{open:n==="practice",onClose:()=>o(null),endpoint:t.activatePracticeMode,ariaHideApp:r}):null,t.activateLearningMode?me.default.createElement(Pc,{open:n==="learning",onClose:()=>o(null),endpoint:t.activateLearningMode,ariaHideApp:r}):null,t.reset?me.default.createElement(Ac,{open:n==="reset",track:e,onClose:()=>o(null),endpoint:t.reset,ariaHideApp:r}):null,t.leave?me.default.createElement(Lc,{open:n==="leave",track:e,onClose:()=>o(null),endpoint:t.leave,ariaHideApp:r}):null)};var xe=p(f());var pr=p(f());var Oc=p(f()),qc=()=>Oc.default.createElement("div",null,"You have no notifications");var _c=({notifications:e,selected:t,onSelect:r,disabled:n})=>{let o=(0,pr.useCallback)(s=>()=>r(s),[r]);return e.length===0?pr.default.createElement(qc,null):pr.default.createElement("div",{className:"notifications"},e.map(s=>pr.default.createElement("div",{key:s.uuid,className:"notification-row"},pr.default.createElement("label",{className:`c-checkbox-wrapper notification-cb-${s.uuid}`},pr.default.createElement("input",{disabled:n,type:"checkbox",checked:t.map(i=>i.uuid).includes(s.uuid),onChange:o(s),id:`notification-cb-${s.uuid}`}),pr.default.createElement("div",{className:"row"},pr.default.createElement("div",{className:"c-checkbox"},pr.default.createElement(y,{icon:"checkmark"})))),pr.default.createElement(Si,h({},s)))))};var ki=({endpoint:e,body:t})=>{let[r,{status:n,error:o}]=A(()=>{let{fetch:s}=M({endpoint:e,method:"PATCH",body:JSON.stringify(t)});return s});return{mutation:r,status:n,error:o}};var Ao=p(f());var ka=({onClick:e,disabled:t,mutation:r,defaultError:n,children:o})=>Ao.default.createElement(Ao.default.Fragment,null,Ao.default.createElement(N,{type:"button",onClick:e,disabled:t,status:r.status,className:"btn-s btn-enhanced"},o),Ao.default.createElement(_,{resetKeys:[r.status]},Ao.default.createElement(se,{error:r.error,defaultError:n})));var fr=p(f());var Uh=new Error("Unable to mark all notifications as read"),Bc=o=>{var s=o,{mutation:e,onClose:t,onSubmit:r}=s,n=O(s,["mutation","onClose","onSubmit"]);let i=(0,fr.useCallback)(()=>{e.status!=="loading"&&t()},[e.status,t]),a=(0,fr.useCallback)(u=>{u.preventDefault(),r(),i()},[r,i]);return fr.default.createElement(G,h({className:"m-generic-confirmation",onClose:i},n),fr.default.createElement("h3",null,"Mark all as read?"),fr.default.createElement("p",null,"Are you sure you want to mark all notifications as read?"),fr.default.createElement("form",{"data-turbo":"false",onSubmit:a,className:"buttons"},fr.default.createElement(N,{type:"submit",status:e.status,className:"btn-primary btn-s"},"Continue"),fr.default.createElement(N,{type:"button",status:e.status,onClick:i,className:"btn-enhanced btn-s"},"Cancel")),fr.default.createElement(_,{resetKeys:[e.status]},fr.default.createElement(se,{error:e.error,defaultError:Uh})))};var Jh=new Error("Unable to load notifications"),Xh=new Error("Unable to mark notifications as read"),Hh=new Error("Unable to mark notifications as unread"),Ea=({request:e,links:t})=>{let r=_e(),{request:n,setPage:o}=st(e),s=(0,xe.useMemo)(()=>["notifications-list",je(n.query)],[n.query]),{status:i,resolvedData:a,latestData:u,error:l,isFetching:d}=Z(s,n),[c,m]=(0,xe.useState)([]),g=(0,xe.useCallback)(C=>{c.includes(C)?m(c.filter(H=>H!==C)):m([...c,C])},[c]),v=ki({endpoint:t.markAsRead,body:{uuids:c.map(C=>C.uuid)}}),b=ki({endpoint:t.markAsUnread,body:{uuids:c.map(C=>C.uuid)}}),k=ki({endpoint:t.markAllAsRead,body:null}),I=[v,b,k],[E,T]=(0,xe.useState)(!1),P=(0,xe.useCallback)(()=>{T(!0)},[]),X=(0,xe.useCallback)(()=>{T(!1)},[]),Y=(0,xe.useCallback)(C=>()=>{C.mutation({uuids:c.map(H=>H.uuid)},{onSuccess:()=>{m([]),r.invalidateQueries(s)}})},[s,c,r]),B=d||I.some(C=>C.status==="loading");return qt({pushOn:je(n.query)}),xe.default.createElement(xe.default.Fragment,null,xe.default.createElement(Te,{isFetching:B},xe.default.createElement("header",{className:"notifications-header"},xe.default.createElement("h1",{className:"text-h1"},"Notifications"),xe.default.createElement("div",{className:"actions"},xe.default.createElement(ka,{mutation:v,onClick:Y(v),disabled:c.length===0||B||c.every(C=>C.isRead),defaultError:Xh},"Mark as read"),xe.default.createElement(ka,{mutation:b,onClick:Y(b),disabled:c.length===0||B||c.every(C=>!C.isRead),defaultError:Hh},"Mark as unread"),xe.default.createElement("button",{type:"button",onClick:P,disabled:B||(a==null?void 0:a.meta.unreadCount)===0,className:"btn-s btn-enhanced"},xe.default.createElement(y,{icon:"double-checkmark"}),xe.default.createElement("span",null,"Mark all as read")))),xe.default.createElement(V,{error:l,status:i,defaultError:Jh},a?xe.default.createElement(xe.default.Fragment,null,xe.default.createElement(_c,{notifications:a.results,selected:c,onSelect:g,disabled:B}),xe.default.createElement(vt,{disabled:u===void 0,current:n.query.page,total:a.meta.totalPages,setPage:o})):null)),xe.default.createElement(Bc,{open:E,onClose:X,onSubmit:Y(k),mutation:k}))};var L=p(f());var jh=new Error("Unable to dismiss modal"),xa=n=>{var o=n,{endpoint:e,contributors:t}=o,r=O(o,["endpoint","contributors"]);let[s,i]=(0,L.useState)(!0),[a,{status:u,error:l}]=A(()=>{let{fetch:m}=M({endpoint:e,method:"PATCH",body:null});return m},{onSuccess:()=>{c()}}),d=(0,L.useCallback)(()=>{a()},[a]),c=(0,L.useCallback)(()=>{u!=="loading"&&i(!1)},[u]);return L.default.createElement(G,S(h({cover:!0,open:s},r),{onClose:()=>{},className:"m-welcome-to-v3"}),L.default.createElement("div",{className:"lhs"},L.default.createElement("header",null,L.default.createElement("h1",null,"Welcome to Exercism V3! \u{1F389}"),L.default.createElement("p",null,"Phew! It\u2019s been long in the making, but we\u2019re finally here.",L.default.createElement("br",null),L.default.createElement("strong",null,"Welcome to version 3 of Exercism."))),L.default.createElement("h2",null,"So, what\u2019s the big deal?"),L.default.createElement("p",null,"We\u2019ve updated and improved the whole Exercism experience from the ground up. Here are just a few of the excited new things you\u2019ll notice as you use Exercism v3:"),L.default.createElement("div",{className:"improvements"},L.default.createElement("div",{className:"improvement"},L.default.createElement(y,{icon:"exercise",category:"graphics"}),L.default.createElement("div",{className:"info"},L.default.createElement("h3",null,"Learning Mode"),L.default.createElement("p",null,"Exercism\u2019s not just about practicing - you can now use it to learn too, with our new Concepts and Exercises."))),L.default.createElement("div",{className:"improvement"},L.default.createElement(y,{icon:"editor",category:"graphics"}),L.default.createElement("div",{className:"info"},L.default.createElement("h3",null,"Introducing the Exercism editor"),L.default.createElement("p",null,"Jump in and try new languages straight away in your browser without installing anything locally. And the CLI is still there if you like the original way!"))),L.default.createElement("div",{className:"improvement"},L.default.createElement(y,{icon:"reputation",category:"graphics"}),L.default.createElement("div",{className:"info"},L.default.createElement("h3",null,"Reputation & badges"),L.default.createElement("p",null,"The more you contribute to exercism the faster you get mentored. Unlock badges for achievements. Show them off on your profile."))),L.default.createElement("div",{className:"improvement"},L.default.createElement(y,{icon:"journey",category:"graphics"}),L.default.createElement("div",{className:"info"},L.default.createElement("h3",null,"Your Journey"),L.default.createElement("p",null,"Explore everything you\u2019ve done on Exercism. From your learning, mentoring and contributions."))),L.default.createElement("div",{className:"improvement"},L.default.createElement(y,{icon:"mentoring",category:"graphics"}),L.default.createElement("div",{className:"info"},L.default.createElement("h3",null,"New mentoring"),L.default.createElement("p",null,"No more blocking. More automation. Ability to get friends to mentor you."))),L.default.createElement("div",{className:"improvement"},L.default.createElement(y,{icon:"ux",category:"graphics"}),L.default.createElement("div",{className:"info"},L.default.createElement("h3",null,"New look and feel"),L.default.createElement("p",null,"We\u2019ve taken Exercism to the next level with a whole new user experience, improving every aspect of the website.")))),L.default.createElement(N,{status:u,className:"btn-primary btn-l",type:"button",onClick:d},"I\u2019m ready to explore the new Exercism!"),L.default.createElement(_,{resetKeys:[u]},L.default.createElement(se,{error:l,defaultError:jh}))),L.default.createElement("div",{className:"rhs"},L.default.createElement("div",{className:"video relative rounded-8 overflow-hidden mb-32",style:{padding:"56.25% 0 0 0",position:"relative"}},L.default.createElement("iframe",{src:"https://www.youtube-nocookie.com/embed/VJ5XkzbG-BI",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),L.default.createElement("script",{src:"https://player.vimeo.com/api/player.js"}),L.default.createElement("div",{className:"thank-you"},L.default.createElement("h3",null,"The biggest thank you to everyone who helped make v3 a reality \u{1F499}"),L.default.createElement("p",null,"Exercism's continued evolution would not be possible if not for these wonderful people."),L.default.createElement("ul",{className:"contributors"},t.map(m=>L.default.createElement("li",{key:m.handle},L.default.createElement(oe,{handle:m.handle,src:m.avatarUrl})))))))};var Na=p(Ma());function D(e){return(0,Na.camelizeKeys)(e)}Ca({"common-markdown-editor":e=>te.default.createElement(hs,{contextId:e.context_id}),"modals-first-time-modal":e=>te.default.createElement(xa,{endpoint:e.endpoint,contributors:D(e.contributors)}),"maintaining-submissions-summary-table":e=>te.default.createElement(Ei,{submissions:e.submissions.map(t=>(0,Na.camelizeKeys)(t))}),"mentoring-inbox":e=>te.default.createElement(xi,{discussionsRequest:D(e.discussions_request),tracksRequest:D(e.tracks_request),sortOptions:e.sort_options,links:e.links}),"mentoring-queue":e=>te.default.createElement(Ti,{queueRequest:D(e.queue_request),tracksRequest:D(e.tracks_request),defaultTrack:D(e.default_track),defaultExercise:D(e.default_exercise),links:D(e.links),sortOptions:e.sort_options}),"mentoring-session":e=>te.default.createElement(Fi,{userHandle:e.user_handle,discussion:D(e.discussion),mentorSolution:D(e.mentor_solution),exemplarFiles:D(e.exemplar_files),student:D(e.student),track:D(e.track),exercise:D(e.exercise),iterations:D(e.iterations),instructions:e.instructions,tests:e.tests,links:D(e.links),request:D(e.request),scratchpad:D(e.scratchpad),notes:e.notes,outOfDate:e.out_of_date,downloadCommand:e.download_command}),"mentoring-try-mentoring-button":e=>te.default.createElement(Di,{text:e.text,size:e.size,links:D(e.links)}),"mentoring-testimonials-list":e=>te.default.createElement(Oi,{request:D(e.request),tracks:D(e.tracks),platforms:D(e.platforms)}),"student-mentoring-session":e=>te.default.createElement(id,{userHandle:e.user_handle,discussion:D(e.discussion),iterations:D(e.iterations),mentor:D(e.mentor),track:D(e.track),exercise:D(e.exercise),trackObjectives:e.track_objectives,videos:D(e.videos),request:D(e.request),links:D(e.links),outOfDate:e.out_of_date}),"student-request-mentoring-button":e=>te.default.createElement(Ka,{request:e.request,links:D(e.links)}),"journey-journey-page":e=>te.default.createElement(aa,{categories:D(e.categories),defaultCategory:e.default_category}),"settings-profile-form":e=>te.default.createElement(ua,{defaultUser:e.user,defaultProfile:e.profile,links:e.links}),"settings-photo-form":e=>te.default.createElement(ya,{defaultUser:D(e.user),links:e.links}),"settings-delete-profile-form":e=>te.default.createElement(va,{links:e.links}),"settings-pronouns-form":e=>te.default.createElement(la,{handle:e.handle,defaultPronounParts:e.pronoun_parts,links:e.links}),"settings-handle-form":e=>te.default.createElement(ma,{defaultHandle:e.handle,links:e.links}),"settings-email-form":e=>te.default.createElement(da,{defaultEmail:e.email,links:e.links}),"settings-password-form":e=>te.default.createElement(ca,{links:e.links}),"settings-token-form":e=>te.default.createElement(pa,{defaultToken:e.token,links:e.links}),"settings-communication-preferences-form":e=>te.default.createElement(fa,{defaultPreferences:D(e.preferences),links:e.links}),"settings-delete-account-button":e=>te.default.createElement(ha,{handle:e.handle,links:e.links}),"settings-reset-account-button":e=>te.default.createElement(ga,{handle:e.handle,links:e.links}),"settings-show-on-supporters-page-button":e=>te.default.createElement(ba,{defaultValue:e.value,links:e.links}),"dropdowns-notifications":e=>te.default.createElement(xc,{endpoint:e.endpoint}),"dropdowns-reputation":e=>te.default.createElement(Cc,{endpoint:e.endpoint,defaultIsSeen:e.is_seen,defaultReputation:e.reputation}),"dropdowns-track-menu":e=>te.default.createElement(Dc,{track:e.track,links:D(e.links)}),"notifications-notifications-list":e=>te.default.createElement(Ea,{request:D(e.request),links:D(e.links)}),"track-iteration-summary":e=>te.default.createElement(Zn,{iteration:D(e.iteration),className:e.class_name,showSubmissionMethod:!0,showTestsStatusAsButton:!!e.show_tests_status_as_button,showFeedbackIndicator:!!e.show_feedback_indicator}),"student-iterations-list":e=>te.default.createElement(Ja,{solutionUuid:e.solution_uuid,request:D(e.request),exercise:D(e.exercise),track:D(e.track),links:D(e.links)}),"student-solution-summary":e=>te.default.createElement(Wl,{discussions:D(e.discussions),solution:D(e.solution),request:D(e.request),links:D(e.links),track:D(e.track),exercise:e.exercise}),"student-nudge":e=>te.default.createElement(Xl,{solution:D(e.solution),track:D(e.track),discussions:D(e.discussions),request:D(e.request),iterations:D(e.iterations),exerciseType:e.exercise_type,links:D(e.links)}),"student-publish-solution-button":e=>te.default.createElement(za,{endpoint:e.endpoint,iterations:D(e.iterations)}),"student-published-solution":e=>te.default.createElement($a,{solution:D(e.solution),publishedIterationIdx:e.published_iteration_idx,iterations:D(e.iterations),links:D(e.links)}),"student-update-exercise-notice":e=>te.default.createElement(Za,{links:e.links})});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=/assets/internal.js-616c0884fbe5b0173bfc26e4d4c6eb7c76898c07.map
